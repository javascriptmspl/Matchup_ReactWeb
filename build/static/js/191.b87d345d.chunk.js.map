{"version":3,"file":"static/js/191.b87d345d.chunk.js","mappings":"kNAOA,MAsGA,EAtGuBA,KAAO,IAADC,EAC3B,MAAOC,EAAmBC,IAAwBC,EAAAA,EAAAA,UAAS,KACpDC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,IACrCG,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAOC,aAAaC,QAAQ,YAC5BC,EAAUH,EAAOI,KAAKC,MAAML,GAAQ,KACpCM,EAAgB,OAAPH,QAAO,IAAPA,GAAa,QAANb,EAAPa,EAASI,YAAI,IAAAjB,OAAN,EAAPA,EAAekB,KAE9BC,EAAAA,EAAAA,WAAU,KACcC,WACpB,IACE,MAOMH,SAPYX,GAChBe,EAAAA,EAAAA,IAAe,CACbC,MAAO,2BACPC,QAAS,EACTC,UAAW,QAGEC,QAAQR,KACzBZ,EAAaY,EACf,CAAE,MAAOS,GACPC,EAAAA,GAAMC,MAAM,2BACd,GAEFC,IACC,CAACvB,IA8BJ,OACEwB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCC,SAAA,EACnDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,OAAMC,SAAC,2BACrBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,MAAKC,SACjB5B,EAAU8B,IAAI,CAACC,EAAUC,KACxBH,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAEHC,MAAO,CACLC,OAAO,aAADC,OACJvC,EAAkBwC,SAASN,GAAY,UAAY,aAErDO,OAAQ,sBACRC,QAAS,WACTC,aAAc,OACdC,OAAQ,WAEVd,UAAS,6BAAAS,OACPvC,EAAkBwC,SAASN,GAAY,WAAa,IAEtDW,QAASA,IAhDSX,KACxBlC,EAAkBwC,SAASN,GAC7BjC,EAAsB6C,GAASA,EAAKC,OAAQC,GAASA,IAASd,IAE9DjC,EAAsB6C,GAAS,IAAIA,EAAMZ,KA4ClBe,CAAqBf,GAAUH,SAE7CG,EAASgB,MAfLf,UAoBbH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxB/B,EAAkBmD,OAAS,GAC1BnB,EAAAA,EAAAA,KAAA,UAAQF,UAAU,sBAAsBe,QAjDrB1B,UACzB,IACE,MAAMiC,EAAcpD,EAAkBiC,IAAKoB,GAAMA,EAAEpC,KAAOoC,EAAEC,IAAMD,SAE5D3B,EAAAA,GAAM6B,QACVlD,GAASmD,EAAAA,EAAAA,IAAqB,CAAEzC,SAAQZ,UAAWiD,KACnD,CACEK,QAAS,wCACTC,SAAS1B,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mCACZJ,OAAOK,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wCAIdxB,EAAS,0BACX,CAAE,MAAOoB,GACPD,EAAAA,GAAMC,MAAM,gDACd,GAiC0EI,UAClEC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,6BAGRC,EAAAA,EAAAA,KAAA,UACEF,UAAU,sBACVe,QAASA,IAAMtC,EAAS,2BAA2BwB,UAEnDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,gB","sources":["metrimoniul/pagesMetrimoniul/select-intrests.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport toast, { Toaster } from \"react-hot-toast\";\nimport { useDispatch } from \"react-redux\";\nimport { updateInterestsAsync } from \"../../dating/store/slice/profileSlice\"; // ‚úÖ same as dating\nimport { fetchInterests } from \"../../service/common-service/getuserbyGender\"; // ‚úÖ same as dating\n\nconst SelectInterest = () => {\n  const [selectedInterests, setSelectedInterests] = useState([]);\n  const [interests, setInterests] = useState([]);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const user = localStorage.getItem(\"userData\");\n  const userObj = user ? JSON.parse(user) : null;\n  const userId = userObj?.data?._id;\n\n  useEffect(() => {\n    const loadInterests = async () => {\n      try {\n        const res = await dispatch(\n          fetchInterests({\n            token: \"68ad621a1130f0d24d4aff06\", \n            page_no: 1,\n            page_size: 1000,\n          })\n        );\n        const data = res.payload.data;\n        setInterests(data);\n      } catch (err) {\n        toast.error(\"Failed to load interests\");\n      }\n    };\n    loadInterests();\n  }, [dispatch]);\n\n  const handleInterestToggle = (interest) => {\n    if (selectedInterests.includes(interest)) {\n      setSelectedInterests((prev) => prev.filter((item) => item !== interest));\n    } else {\n      setSelectedInterests((prev) => [...prev, interest]);\n    }\n  };\n\n  const handleNavigateHome = async () => {\n    try {\n      const interestIds = selectedInterests.map((i) => i._id || i.id || i);\n  \n      await toast.promise(\n        dispatch(updateInterestsAsync({ userId, interests: interestIds })),\n        {\n          loading: \"Saving your interests üòç...\",\n          success: <b>Settings saved! Redirecting...</b>,\n          error: <b>Could not save. Please try again.</b>,\n        }\n      );\n  \n      navigate(\"/metrimonial/add-photos\");\n    } catch (error) {\n      toast.error(\"Error submitting interests. Please try again.\");\n    }\n  };\n  \n\n  return (\n    <div className=\"container padding-top padding-bottom\">\n      <div className=\"row text-center\">\n        <h2 className=\"mb-4\">Select Your Interests</h2>\n        <div className=\"col\">\n          {interests.map((interest, index) => (\n            <Link\n              key={index}\n              style={{\n                border: `1px solid ${\n                  selectedInterests.includes(interest) ? \"#d63384\" : \"lightgray\"\n                }`,\n                margin: \"10px 10px 10px 10px\",\n                padding: \"5px 12px\",\n                borderRadius: \"25px\",\n                cursor: \"pointer\",\n              }}\n              className={`interest-item flex-nowrap ${\n                selectedInterests.includes(interest) ? \"selected\" : \"\"\n              }`}\n              onClick={() => handleInterestToggle(interest)}\n            >\n              {interest.name}\n            </Link>\n          ))}\n        </div>\n      </div>\n      <div className=\"col-4 mt-4\">\n        {selectedInterests.length > 0 ? (\n          <button className=\"default-btn reverse\" onClick={handleNavigateHome}>\n            <span>Submit your interests</span>\n          </button>\n        ) : (\n          <button\n            className=\"default-btn reverse\"\n            onClick={() => navigate(\"/metrimonial/add-photos\")}\n          >\n            <span>Skip</span>\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SelectInterest;\n"],"names":["SelectInterest","_userObj$data","selectedInterests","setSelectedInterests","useState","interests","setInterests","dispatch","useDispatch","navigate","useNavigate","user","localStorage","getItem","userObj","JSON","parse","userId","data","_id","useEffect","async","fetchInterests","token","page_no","page_size","payload","err","toast","error","loadInterests","_jsxs","className","children","_jsx","map","interest","index","Link","style","border","concat","includes","margin","padding","borderRadius","cursor","onClick","prev","filter","item","handleInterestToggle","name","length","interestIds","i","id","promise","updateInterestsAsync","loading","success"],"sourceRoot":""}