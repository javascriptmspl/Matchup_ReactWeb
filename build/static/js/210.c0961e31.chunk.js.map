{"version":3,"file":"static/js/210.c0961e31.chunk.js","mappings":"uMAoKA,MA+GA,EA/GkBA,KAAO,IAADC,EACtB,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAAS,CACnDC,EACAA,EACAA,EACAA,KAEKC,EAAcC,IAAmBH,EAAAA,EAAAA,UAAS,MAE3CI,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQ,aAC1CC,EAAgB,OAAPL,QAAO,IAAPA,GAAa,QAANX,EAAPW,EAASM,YAAI,IAAAjB,OAAN,EAAPA,EAAekB,IA6C9B,OACEC,EAAAA,EAAAA,KAAA,OAAAC,UACED,EAAAA,EAAAA,KAAA,OAAKE,UAAU,oDAAmDD,UAChEE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,YAAWD,SAAA,EACxBE,EAAAA,EAAAA,MAAA,OACED,UAAU,mDACV,oBAAkB,OAAMD,SAAA,EAExBD,EAAAA,EAAAA,KAAA,MAAAC,SAZI,gBAaJD,EAAAA,EAAAA,KAAA,KAAAC,SAXR,iKAcME,EAAAA,EAAAA,MAAA,OACED,UAAU,gCACV,oBAAkB,OAAMD,SAAA,EAExBD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kEAAiED,SAC7EnB,EAAesB,IAAI,CAACC,EAAOC,KAC1BN,EAAAA,EAAAA,KAAA,OAAiBE,UAAU,iCAAgCD,UACzDD,EAAAA,EAAAA,KAAA,OACEE,UAAU,gBACVK,QAASA,IA/DDD,KACxB,MAAME,EAAYC,SAASC,cAAc,SACzCF,EAAUG,KAAO,OACjBH,EAAUI,OAAS,UAEnBJ,EAAUK,iBAAiB,SAAWC,IACpC,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChC,GAAIF,EAAM,CACR,MAAMG,EAAY,IAAIpC,GACtBoC,EAAUZ,GAASa,IAAIC,gBAAgBL,GACvChC,EAAkBmC,GAClB/B,EAAgB4B,EAClB,IAGFP,EAAUa,SAgDqBC,CAAiBhB,GAChCiB,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAAUxB,UAE3CD,EAAAA,EAAAA,KAAA,OACE0B,IAAKrB,EACLkB,MAAO,CACLC,MAAO,OACPC,OAAQ,OACRE,UAAW,SAEbC,IAAG,mBAAAC,OAAqBvB,EAAQ,QAb5BA,OAoBdN,EAAAA,EAAAA,KAAA,OAAKuB,MAAO,CAAEO,UAAW,UAAW7B,UAClCD,EAAAA,EAAAA,KAAA,UACEE,UAAU,2BACVK,QAhEOwB,UACnB,GAAK7C,EAKL,UACQI,GACJ0C,EAAAA,EAAAA,IAA0B,CAAEC,UAAW/C,EAAcW,YACrDqC,SAEFC,EAAAA,GAAMC,QAAQ,0CACdhD,EAAS,eACX,CAAE,MAAOiD,GACPF,EAAAA,GAAME,MAAM,0BACZC,QAAQD,MAAMA,EAChB,MAdEF,EAAAA,GAAME,MAAM,oCA8DoBpC,UAEtBD,EAAAA,EAAAA,KAAA,QAAAC,SAAM,gC","sources":["metrimoniul/pagesMetrimoniul/addUserPicture.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\n// import toast from \"react-hot-toast\";\n// import { useNavigate } from \"react-router-dom\";\n// import user from \"../../assets/avatar/add-photos.png\";\n// import { BASE_URL } from \"../../base\";\n// import { uploadProfilePictureAsync } from \"../../dating/store/slice/profileSlice\";\n// import { useDispatch } from \"react-redux\";\n\n// const AddPhotos = () => {\n//   const [selectedImages, setSelectedImages] = useState([\n//     user,user,user,user\n//   ]);\n//   const [previewImage, setPreviewImage] = useState(user);\n// const [selectedFile, setSelectedFile] = useState(null);\n\n//   const navigate = useNavigate();\n// const dispatch=useDispatch()\n//   // const handleImageClick = (index) => {\n//   //   const fileInput = document.createElement(\"input\");\n//   //   fileInput.type = \"file\";\n//   //   fileInput.accept = \"image/*\";\n\n//   //   fileInput.addEventListener(\"change\", (event) => {\n//   //     const file = event.target.files[0];\n//   //     if (file) {\n//   //       const newImages = [...selectedImages];\n//   //       newImages[index] = URL.createObjectURL(file);\n//   //       setSelectedImages(newImages);\n//   //     }\n//   //   });\n\n//   //   fileInput.click();\n//   // };\n//   const getUser = JSON.parse(localStorage.getItem(\"userData\"));\n//   const id = getUser?.data?._id;\n\n//   const handleImageClick = () => {\n//     const fileInput = document.createElement(\"input\");\n//     fileInput.type = \"file\";\n//     fileInput.accept = \"image/*\";\n\n//     fileInput.addEventListener(\"change\", (event) => {\n//       const file = event.target.files[0];\n//       if (file) {\n//         setPreviewImage(URL.createObjectURL(file)); // show preview\n//         setSelectedFile(file); // keep actual file for upload\n//       }\n//     });\n\n//     fileInput.click();\n//   };\n\n//   const saveSettings = async () => {\n//     return new Promise((resolve) => {\n//       setTimeout(() => {\n//         resolve();\n//       }, 2000);\n//     });\n//   };\n\n//   const submitImages = async () => {\n//     if (!selectedFile) {\n//       toast.error(\"Please select an image first.\");\n//       return;\n//     }\n\n//     try {\n//       await dispatch(\n//         uploadProfilePictureAsync({ imageData: selectedFile, id })\n//       ).unwrap();\n\n//       toast.success(\"Profile picture uploaded successfully!\");\n//       navigate(\"/metrimonial\");\n//     } catch (error) {\n//       toast.error(\"Error uploading image.\");\n//       console.error(error);\n//     }\n//   };\n\n//   // const submitImages = async () => {\n//   //   try {\n//   //     // Simulate a delay using setTimeout\n//   //     await new Promise((resolve) => setTimeout(resolve, 100));\n//   //     await toast.promise(\n//   //       saveSettings(), // Assuming saveSettings is a function to save Partner preference\n//   //       {\n//   //         loading: 'Saving your images üòç...',\n//   //         success: <b>Images saved! Redirecting...  Please Login</b>,\n//   //         error: <b>Could not save. Please try again.</b>,\n//   //       }\n//   //     );\n//   //     if (selectedImages.length >= 2) {\n//   //       toast.success(\"Account created successfully!\", {});\n//   //       navigate(\"/metrimonial\");\n//   //     } else {\n//   //       toast.error(\"Please select at least 2 images first.\", {});\n//   //     }\n//   //   } catch (error) {\n//   //     // Remove the following line to prevent the error toast\n//   //     // toast.error(\"Error submitting Family details. Please try again.\");\n//   //   }\n//   // }\n\n//   const title = \"Add Images\";\n//   const desc =\n//     \"Make your dating profile stand out! Add images to showcase your personality and interests. Let others see the real you‚Äîupload your best photos now!\";\n\n//   const btnText = \"See More Popular\";\n\n//   return (\n//     <div>\n//       <div className=\"member padding-top padding-bottom overflow-hidden\">\n//         <div className=\"container\">\n//           <div\n//             className=\"section__header style-2 text-center wow fadeInUp\"\n//             data-wow-duration=\"1.5s\"\n//           >\n//             <h2>{title}</h2>\n//             <p>{desc}</p>\n//           </div>\n//           <div\n//             className=\"section__wrapper wow fadeInUp\"\n//             data-wow-duration=\"1.5s\"\n//           >\n//             <div className=\"member__grid d-flex flex-wrap justify-content-center mx-12-none\">\n//             {selectedImages.map((image, index) => (\n//   <div key={index} className=\"member__item male pointer px-3\">\n//     <div\n//       className=\"member__inner\"\n//       onClick={() => handleImageClick(index)}\n//       style={{ width: '260px', height: '300px' }}\n//     >\n\n//         <img\n//           src={image}\n//           style={{ width: '100%', height: '100%', objectFit: 'cover' }}\n//           alt={`Selected Member ${index + 1}`}\n//         />\n//     </div>\n//   </div>\n// ))}\n\n//             </div>\n//             <div style={{ textAlign: \"center\" }}>\n//               <button className=\"default-btn reverse mt-5\"  onClick={submitImages}>\n//                 <span>Submit images</span>\n//               </button>\n//             </div>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default AddPhotos;\n\nimport React, { useState } from \"react\";\nimport toast from \"react-hot-toast\";\nimport { useNavigate } from \"react-router-dom\";\nimport user from \"../../assets/avatar/add-photos.png\";\nimport { uploadProfilePictureAsync } from \"../../dating/store/slice/profileSlice\";\nimport { useDispatch } from \"react-redux\";\n\nconst AddPhotos = () => {\n  const [selectedImages, setSelectedImages] = useState([\n    user,\n    user,\n    user,\n    user,\n  ]); // UI placeholders\n  const [selectedFile, setSelectedFile] = useState(null); // real file for upload\n\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n\n  const getUser = JSON.parse(localStorage.getItem(\"userData\"));\n  const userId = getUser?.data?._id;\n\n  \n  const handleImageClick = (index) => {\n    const fileInput = document.createElement(\"input\");\n    fileInput.type = \"file\";\n    fileInput.accept = \"image/*\";\n\n    fileInput.addEventListener(\"change\", (event) => {\n      const file = event.target.files[0];\n      if (file) {\n        const newImages = [...selectedImages];\n        newImages[index] = URL.createObjectURL(file); \n        setSelectedImages(newImages);\n        setSelectedFile(file); \n      }\n    });\n\n    fileInput.click();\n  };\n\n  // submit only the last clicked file\n  const submitImages = async () => {\n    if (!selectedFile) {\n      toast.error(\"Please select at least 1 image.\");\n      return;\n    }\n\n    try {\n      await dispatch(\n        uploadProfilePictureAsync({ imageData: selectedFile, userId })\n      ).unwrap();\n\n      toast.success(\"Profile picture uploaded successfully!\");\n      navigate(\"/metrimonial\");\n    } catch (error) {\n      toast.error(\"Error uploading image.\");\n      console.error(error);\n    }\n  };\n\n  const title = \"Add Images\";\n  const desc =\n    \"Make your dating profile stand out! Add images to showcase your personality and interests. Let others see the real you‚Äîupload your best photos now!\";\n\n  return (\n    <div>\n      <div className=\"member padding-top padding-bottom overflow-hidden\">\n        <div className=\"container\">\n          <div\n            className=\"section__header style-2 text-center wow fadeInUp\"\n            data-wow-duration=\"1.5s\"\n          >\n            <h2>{title}</h2>\n            <p>{desc}</p>\n          </div>\n\n          <div\n            className=\"section__wrapper wow fadeInUp\"\n            data-wow-duration=\"1.5s\"\n          >\n            <div className=\"member__grid d-flex flex-wrap justify-content-center mx-12-none\">\n              {selectedImages.map((image, index) => (\n                <div key={index} className=\"member__item male pointer px-3\">\n                  <div\n                    className=\"member__inner\"\n                    onClick={() => handleImageClick(index)}\n                    style={{ width: \"260px\", height: \"300px\" }}\n                  >\n                    <img\n                      src={image}\n                      style={{\n                        width: \"100%\",\n                        height: \"100%\",\n                        objectFit: \"cover\",\n                      }}\n                      alt={`Selected Member ${index + 1}`}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            <div style={{ textAlign: \"center\" }}>\n              <button\n                className=\"default-btn reverse mt-5\"\n                onClick={submitImages}\n              >\n                <span>Submit images</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddPhotos;\n"],"names":["AddPhotos","_getUser$data","selectedImages","setSelectedImages","useState","user","selectedFile","setSelectedFile","navigate","useNavigate","dispatch","useDispatch","getUser","JSON","parse","localStorage","getItem","userId","data","_id","_jsx","children","className","_jsxs","map","image","index","onClick","fileInput","document","createElement","type","accept","addEventListener","event","file","target","files","newImages","URL","createObjectURL","click","handleImageClick","style","width","height","src","objectFit","alt","concat","textAlign","async","uploadProfilePictureAsync","imageData","unwrap","toast","success","error","console"],"sourceRoot":""}