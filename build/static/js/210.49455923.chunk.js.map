{"version":3,"file":"static/js/210.49455923.chunk.js","mappings":"uMAoKA,MA+GA,EA/GkBA,KAAO,IAADC,EACtB,MAAOC,EAAgBC,IAAqBC,EAAAA,EAAAA,UAAS,CACnDC,EACAA,EACAA,EACAA,KAEKC,EAAcC,IAAmBH,EAAAA,EAAAA,UAAS,MAE3CI,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAUC,KAAKC,MAAMC,aAAaC,QAAQ,aAC1CC,EAAgB,OAAPL,QAAO,IAAPA,GAAa,QAANX,EAAPW,EAASM,YAAI,IAAAjB,OAAN,EAAPA,EAAekB,IA6C9B,OACEC,EAAAA,EAAAA,KAAA,OAAAC,UACED,EAAAA,EAAAA,KAAA,OAAKE,UAAU,oDAAmDD,UAChEE,EAAAA,EAAAA,MAAA,OAAKD,UAAU,YAAWD,SAAA,EACxBE,EAAAA,EAAAA,MAAA,OACED,UAAU,mDACV,oBAAkB,OAAMD,SAAA,EAExBD,EAAAA,EAAAA,KAAA,MAAAC,SAZI,gBAaJD,EAAAA,EAAAA,KAAA,KAAAC,SAXR,iKAcME,EAAAA,EAAAA,MAAA,OACED,UAAU,gCACV,oBAAkB,OAAMD,SAAA,EAExBD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,kEAAiED,SAC7EnB,EAAesB,IAAI,CAACC,EAAOC,KAC1BN,EAAAA,EAAAA,KAAA,OAAiBE,UAAU,iCAAgCD,UACzDD,EAAAA,EAAAA,KAAA,OACEE,UAAU,gBACVK,QAASA,IA/DDD,KACxB,MAAME,EAAYC,SAASC,cAAc,SACzCF,EAAUG,KAAO,OACjBH,EAAUI,OAAS,UAEnBJ,EAAUK,iBAAiB,SAAWC,IACpC,MAAMC,EAAOD,EAAME,OAAOC,MAAM,GAChC,GAAIF,EAAM,CACR,MAAMG,EAAY,IAAIpC,GACtBoC,EAAUZ,GAASa,IAAIC,gBAAgBL,GACvChC,EAAkBmC,GAClB/B,EAAgB4B,EAClB,IAGFP,EAAUa,SAgDqBC,CAAiBhB,GAChCiB,MAAO,CAAEC,MAAO,QAASC,OAAQ,SAAUxB,UAE3CD,EAAAA,EAAAA,KAAA,OACE0B,IAAKrB,EACLkB,MAAO,CACLC,MAAO,OACPC,OAAQ,OACRE,UAAW,SAEbC,IAAK,mBAAmBtB,EAAQ,SAb5BA,OAoBdN,EAAAA,EAAAA,KAAA,OAAKuB,MAAO,CAAEM,UAAW,UAAW5B,UAClCD,EAAAA,EAAAA,KAAA,UACEE,UAAU,2BACVK,QAhEOuB,UACnB,GAAK5C,EAKL,UACQI,GACJyC,EAAAA,EAAAA,IAA0B,CAAEC,UAAW9C,EAAcW,YACrDoC,SAEFC,EAAAA,GAAMC,QAAQ,0CACd/C,EAAS,eACX,CAAE,MAAOgD,GACPF,EAAAA,GAAME,MAAM,0BACZC,QAAQD,MAAMA,EAChB,MAdEF,EAAAA,GAAME,MAAM,oCA8DoBnC,UAEtBD,EAAAA,EAAAA,KAAA,QAAAC,SAAM,gC","sources":["metrimoniul/pagesMetrimoniul/addUserPicture.jsx"],"sourcesContent":["// import React, { useState } from \"react\";\r\n// import toast from \"react-hot-toast\";\r\n// import { useNavigate } from \"react-router-dom\";\r\n// import user from \"../../assets/avatar/add-photos.png\";\r\n// import { BASE_URL } from \"../../base\";\r\n// import { uploadProfilePictureAsync } from \"../../dating/store/slice/profileSlice\";\r\n// import { useDispatch } from \"react-redux\";\r\n\r\n// const AddPhotos = () => {\r\n//   const [selectedImages, setSelectedImages] = useState([\r\n//     user,user,user,user\r\n//   ]);\r\n//   const [previewImage, setPreviewImage] = useState(user);\r\n// const [selectedFile, setSelectedFile] = useState(null);\r\n\r\n//   const navigate = useNavigate();\r\n// const dispatch=useDispatch()\r\n//   // const handleImageClick = (index) => {\r\n//   //   const fileInput = document.createElement(\"input\");\r\n//   //   fileInput.type = \"file\";\r\n//   //   fileInput.accept = \"image/*\";\r\n\r\n//   //   fileInput.addEventListener(\"change\", (event) => {\r\n//   //     const file = event.target.files[0];\r\n//   //     if (file) {\r\n//   //       const newImages = [...selectedImages];\r\n//   //       newImages[index] = URL.createObjectURL(file);\r\n//   //       setSelectedImages(newImages);\r\n//   //     }\r\n//   //   });\r\n\r\n//   //   fileInput.click();\r\n//   // };\r\n//   const getUser = JSON.parse(localStorage.getItem(\"userData\"));\r\n//   const id = getUser?.data?._id;\r\n\r\n//   const handleImageClick = () => {\r\n//     const fileInput = document.createElement(\"input\");\r\n//     fileInput.type = \"file\";\r\n//     fileInput.accept = \"image/*\";\r\n\r\n//     fileInput.addEventListener(\"change\", (event) => {\r\n//       const file = event.target.files[0];\r\n//       if (file) {\r\n//         setPreviewImage(URL.createObjectURL(file)); // show preview\r\n//         setSelectedFile(file); // keep actual file for upload\r\n//       }\r\n//     });\r\n\r\n//     fileInput.click();\r\n//   };\r\n\r\n//   const saveSettings = async () => {\r\n//     return new Promise((resolve) => {\r\n//       setTimeout(() => {\r\n//         resolve();\r\n//       }, 2000);\r\n//     });\r\n//   };\r\n\r\n//   const submitImages = async () => {\r\n//     if (!selectedFile) {\r\n//       toast.error(\"Please select an image first.\");\r\n//       return;\r\n//     }\r\n\r\n//     try {\r\n//       await dispatch(\r\n//         uploadProfilePictureAsync({ imageData: selectedFile, id })\r\n//       ).unwrap();\r\n\r\n//       toast.success(\"Profile picture uploaded successfully!\");\r\n//       navigate(\"/metrimonial\");\r\n//     } catch (error) {\r\n//       toast.error(\"Error uploading image.\");\r\n//       console.error(error);\r\n//     }\r\n//   };\r\n\r\n//   // const submitImages = async () => {\r\n//   //   try {\r\n//   //     // Simulate a delay using setTimeout\r\n//   //     await new Promise((resolve) => setTimeout(resolve, 100));\r\n//   //     await toast.promise(\r\n//   //       saveSettings(), // Assuming saveSettings is a function to save Partner preference\r\n//   //       {\r\n//   //         loading: 'Saving your images üòç...',\r\n//   //         success: <b>Images saved! Redirecting...  Please Login</b>,\r\n//   //         error: <b>Could not save. Please try again.</b>,\r\n//   //       }\r\n//   //     );\r\n//   //     if (selectedImages.length >= 2) {\r\n//   //       toast.success(\"Account created successfully!\", {});\r\n//   //       navigate(\"/metrimonial\");\r\n//   //     } else {\r\n//   //       toast.error(\"Please select at least 2 images first.\", {});\r\n//   //     }\r\n//   //   } catch (error) {\r\n//   //     // Remove the following line to prevent the error toast\r\n//   //     // toast.error(\"Error submitting Family details. Please try again.\");\r\n//   //   }\r\n//   // }\r\n\r\n//   const title = \"Add Images\";\r\n//   const desc =\r\n//     \"Make your dating profile stand out! Add images to showcase your personality and interests. Let others see the real you‚Äîupload your best photos now!\";\r\n\r\n//   const btnText = \"See More Popular\";\r\n\r\n//   return (\r\n//     <div>\r\n//       <div className=\"member padding-top padding-bottom overflow-hidden\">\r\n//         <div className=\"container\">\r\n//           <div\r\n//             className=\"section__header style-2 text-center wow fadeInUp\"\r\n//             data-wow-duration=\"1.5s\"\r\n//           >\r\n//             <h2>{title}</h2>\r\n//             <p>{desc}</p>\r\n//           </div>\r\n//           <div\r\n//             className=\"section__wrapper wow fadeInUp\"\r\n//             data-wow-duration=\"1.5s\"\r\n//           >\r\n//             <div className=\"member__grid d-flex flex-wrap justify-content-center mx-12-none\">\r\n//             {selectedImages.map((image, index) => (\r\n//   <div key={index} className=\"member__item male pointer px-3\">\r\n//     <div\r\n//       className=\"member__inner\"\r\n//       onClick={() => handleImageClick(index)}\r\n//       style={{ width: '260px', height: '300px' }}\r\n//     >\r\n\r\n//         <img\r\n//           src={image}\r\n//           style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n//           alt={`Selected Member ${index + 1}`}\r\n//         />\r\n//     </div>\r\n//   </div>\r\n// ))}\r\n\r\n//             </div>\r\n//             <div style={{ textAlign: \"center\" }}>\r\n//               <button className=\"default-btn reverse mt-5\"  onClick={submitImages}>\r\n//                 <span>Submit images</span>\r\n//               </button>\r\n//             </div>\r\n//           </div>\r\n//         </div>\r\n//       </div>\r\n//     </div>\r\n//   );\r\n// };\r\n\r\n// export default AddPhotos;\r\n\r\nimport React, { useState } from \"react\";\r\nimport toast from \"react-hot-toast\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport user from \"../../assets/avatar/add-photos.png\";\r\nimport { uploadProfilePictureAsync } from \"../../dating/store/slice/profileSlice\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nconst AddPhotos = () => {\r\n  const [selectedImages, setSelectedImages] = useState([\r\n    user,\r\n    user,\r\n    user,\r\n    user,\r\n  ]); // UI placeholders\r\n  const [selectedFile, setSelectedFile] = useState(null); // real file for upload\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch();\r\n\r\n  const getUser = JSON.parse(localStorage.getItem(\"userData\"));\r\n  const userId = getUser?.data?._id;\r\n\r\n  \r\n  const handleImageClick = (index) => {\r\n    const fileInput = document.createElement(\"input\");\r\n    fileInput.type = \"file\";\r\n    fileInput.accept = \"image/*\";\r\n\r\n    fileInput.addEventListener(\"change\", (event) => {\r\n      const file = event.target.files[0];\r\n      if (file) {\r\n        const newImages = [...selectedImages];\r\n        newImages[index] = URL.createObjectURL(file); \r\n        setSelectedImages(newImages);\r\n        setSelectedFile(file); \r\n      }\r\n    });\r\n\r\n    fileInput.click();\r\n  };\r\n\r\n  // submit only the last clicked file\r\n  const submitImages = async () => {\r\n    if (!selectedFile) {\r\n      toast.error(\"Please select at least 1 image.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await dispatch(\r\n        uploadProfilePictureAsync({ imageData: selectedFile, userId })\r\n      ).unwrap();\r\n\r\n      toast.success(\"Profile picture uploaded successfully!\");\r\n      navigate(\"/metrimonial\");\r\n    } catch (error) {\r\n      toast.error(\"Error uploading image.\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  const title = \"Add Images\";\r\n  const desc =\r\n    \"Make your dating profile stand out! Add images to showcase your personality and interests. Let others see the real you‚Äîupload your best photos now!\";\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"member padding-top padding-bottom overflow-hidden\">\r\n        <div className=\"container\">\r\n          <div\r\n            className=\"section__header style-2 text-center wow fadeInUp\"\r\n            data-wow-duration=\"1.5s\"\r\n          >\r\n            <h2>{title}</h2>\r\n            <p>{desc}</p>\r\n          </div>\r\n\r\n          <div\r\n            className=\"section__wrapper wow fadeInUp\"\r\n            data-wow-duration=\"1.5s\"\r\n          >\r\n            <div className=\"member__grid d-flex flex-wrap justify-content-center mx-12-none\">\r\n              {selectedImages.map((image, index) => (\r\n                <div key={index} className=\"member__item male pointer px-3\">\r\n                  <div\r\n                    className=\"member__inner\"\r\n                    onClick={() => handleImageClick(index)}\r\n                    style={{ width: \"260px\", height: \"300px\" }}\r\n                  >\r\n                    <img\r\n                      src={image}\r\n                      style={{\r\n                        width: \"100%\",\r\n                        height: \"100%\",\r\n                        objectFit: \"cover\",\r\n                      }}\r\n                      alt={`Selected Member ${index + 1}`}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div style={{ textAlign: \"center\" }}>\r\n              <button\r\n                className=\"default-btn reverse mt-5\"\r\n                onClick={submitImages}\r\n              >\r\n                <span>Submit images</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddPhotos;\r\n"],"names":["AddPhotos","_getUser$data","selectedImages","setSelectedImages","useState","user","selectedFile","setSelectedFile","navigate","useNavigate","dispatch","useDispatch","getUser","JSON","parse","localStorage","getItem","userId","data","_id","_jsx","children","className","_jsxs","map","image","index","onClick","fileInput","document","createElement","type","accept","addEventListener","event","file","target","files","newImages","URL","createObjectURL","click","handleImageClick","style","width","height","src","objectFit","alt","textAlign","async","uploadProfilePictureAsync","imageData","unwrap","toast","success","error","console"],"sourceRoot":""}