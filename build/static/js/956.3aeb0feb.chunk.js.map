{"version":3,"file":"static/js/956.3aeb0feb.chunk.js","mappings":"wMAIA,MA+BA,EA/BoCA,KAAO,IAADC,EACxC,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,GACzCC,EAAWC,aAAaC,QAAQ,YAChCC,EAAcH,EAAWI,KAAKC,MAAML,GAAY,KAChDM,GAAoB,OAAXH,QAAW,IAAXA,GAAiB,QAANP,EAAXO,EAAaI,YAAI,IAAAX,OAAN,EAAXA,EAAmBY,MAAO,KAwBzC,OAtBAC,EAAAA,EAAAA,WAAU,KACR,MAAMC,EAAmBC,UACvB,GAAIL,EACF,IACE,MAAMM,QAAiBC,MACrB,GAAGC,EAAAA,gCAAuCR,KAEtCC,QAAaK,EAASG,OAC5BjB,EAAeS,EAAKS,OAAS,EAC/B,CAAE,MAAOC,GACPC,QAAQD,MAAM,+BAAgCA,GAC9CnB,EAAe,EACjB,GAIJY,IAEA,MAAMS,EAAWC,YAAYV,EAAkB,KAC/C,MAAO,IAAMW,cAAcF,IAC1B,CAACb,KAEGgB,EAAAA,EAAAA,KAACC,EAAAA,EAAU,CAAC1B,YAAaA,K,0CCpBlC,MAAM2B,EAAmBC,IAAuB,IAADC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAArB,aAAEC,GAAcP,EACxC,MAAMQ,EAAkC,QAAzBP,EAAAM,EAAaE,oBAAY,IAAAR,GAAzBA,EAA2BS,WACtC,GAAGrB,EAAAA,mBAA0BkB,EAAaE,aAAaC,aAC9B,QAAzBR,EAAAK,EAAaE,oBAAY,IAAAP,GAAS,QAATC,EAAzBD,EAA2BS,eAAO,IAAAR,GAAlCA,EAAoCS,OACpC,GAAGvB,EAAAA,mBAA0BkB,EAAaE,aAAaE,QAAQ,KAC/D,sBAEJ,OACEE,EAAAA,EAAAA,MAAA,OACEC,UAAW,sBACe,WAAxBP,EAAaQ,OAAsB,SAAW,QAC7CC,SAAA,EAEHnB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,uBAAsBE,UACnCH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,sBAAqBE,SAAA,EACpCnB,EAAAA,EAAAA,KAACoB,EAAAA,GAAI,CACiBC,GAAI,6BAAsD,QAAtDd,EAA6BG,EAAaE,oBAAY,IAAAL,OAAA,EAAzBA,EAA2BrB,MAAMiC,UAMtFnB,EAAAA,EAAAA,KAAA,OACEsB,IAAKX,EACLM,UAAU,+BACVM,KAA8B,QAAzBf,EAAAE,EAAaE,oBAAY,IAAAJ,OAAA,EAAzBA,EAA2BgB,OAAQ,YAG1CR,EAAAA,EAAAA,MAAA,QAAAG,SAAA,EACEnB,EAAAA,EAAAA,KAAA,UAAAmB,SAAkC,QAAlCV,EAASC,EAAaE,oBAAY,IAAAH,OAAA,EAAzBA,EAA2Be,OAAe,IAClDd,EAAae,iBAKpBzB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,oBAAmBE,UAChCnB,EAAAA,EAAAA,KAAA,KAAGiB,UAAU,yBAAwBE,UACnCnB,EAAAA,EAAAA,KAAC0B,EAAAA,EAAO,CAACC,UAAWjB,EAAaiB,oBAiF3C,EAzE6BC,KAC3B,MAAMC,GAAWC,EAAAA,EAAAA,OACTC,KAAMC,EAAa,QAAEC,EAAO,MAAEtC,IAAUuC,EAAAA,EAAAA,IAC7CC,GAAUA,EAAMH,eAGbI,EAAWzD,aAAaC,QAAQ,YAEhCI,EADYF,KAAKC,MAAMqD,GACJnD,KAAKC,IAgB9B,OANAC,EAAAA,EAAAA,WAAU,KACJH,GACF6C,GAASQ,EAAAA,EAAAA,IAAmB,CAAErD,OAAQA,EAAQsD,KAAM,EAAGC,MAAO,OAE/D,CAACV,EAAU7C,KAGZgC,EAAAA,EAAAA,MAAAwB,EAAAA,SAAA,CAAArB,SAAA,EACEnB,EAAAA,EAAAA,KAAC3B,EAA2B,KAC5B2C,EAAAA,EAAAA,MAACyB,EAAAA,EAAS,CAAAtB,SAAA,EACRH,EAAAA,EAAAA,MAAC0B,EAAAA,EAAG,CAACzB,UAAU,qBAAoBE,SAAA,EACjCnB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8BAA6BE,UAC1CnB,EAAAA,EAAAA,KAAA,MAAIiB,UAAU,0BAAyBE,SAAC,qBAE1CnB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,8BAA6BE,UAC1CH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,qGAAoGE,SAAA,CAChHa,EAAcW,KAAKC,GAAkB,WAAbA,EAAE1B,UACzBlB,EAAAA,EAAAA,KAAA,UACEiB,UAAU,sCACV4B,QA3BYxD,UAC1B,UACQwC,GAASiB,EAAAA,EAAAA,IAAc9D,IAAS+D,QACxC,CAAE,MAAOpD,GACPC,QAAQD,MAAM,2CAA4CA,EAC5D,GAuBcqD,MAAO,CAAEC,SAAU,OAAQC,QAAS,YAAa/B,SAClD,sBAIHnB,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,yCAAwCE,UACrDH,EAAAA,EAAAA,MAAA,OAAKC,UAAU,cAAaE,SAAA,EAC1BnB,EAAAA,EAAAA,KAAA,QAAAmB,SAAM,eACNH,EAAAA,EAAAA,MAAA,UAAQC,UAAU,uBAAsBE,SAAA,EACtCnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,SAAQhC,SAAC,YACvBnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,SAAQhC,SAAC,2BAQlCc,IAAWjC,EAAAA,EAAAA,KAAA,KAAAmB,SAAG,6BACdxB,IAASqB,EAAAA,EAAAA,MAAA,KAAGgC,MAAO,CAAEI,MAAO,OAAQjC,SAAA,CAAC,UAAQxB,MAE9CK,EAAAA,EAAAA,KAAA,OAAKiB,UAAU,0BAAyBE,SACpB,IAAzBa,EAAcjB,QACbf,EAAAA,EAAAA,KAAA,KAAAmB,SAAG,4BAEHa,EAAcqB,IAAK3C,IACjBV,EAAAA,EAAAA,KAACE,EAAgB,CAAwBQ,aAAcA,GAAhCA,EAAaxB,c,yDCvH1C,MAAMoE,UAAsBC,EAAAA,UACxBC,MAAAA,GACI,MAAM,OAACC,GAAUC,KAAKC,MACtB,OACI3C,EAAAA,EAAAA,MAAA,UAAQ4C,aAAcH,EAAOtC,SAAA,EACzBnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,SAAQhC,SAAC,kBACvBnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,UAAShC,SAAC,aACxBnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,MAAKhC,SAAC,SACpBnB,EAAAA,EAAAA,KAAA,UAAQmD,MAAM,SAAQhC,SAAC,aAGnC,EAGJ,S","sources":["metrimoniul/component/layout/HeaderFourWithNotifications.jsx","metrimoniul/pagesMetrimoniul/notification-page.jsx","metrimoniul/component/select/selectproduct.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport HeaderFour from \"./HeaderFour\";\r\nimport { BASE_URL } from \"../../../base\";\r\n\r\nconst HeaderFourWithNotifications = () => {\r\n  const [unreadCount, setUnreadCount] = useState(0);\r\n  const userData = localStorage.getItem(\"userData\");\r\n  const userDataObj = userData ? JSON.parse(userData) : null;\r\n  const userId = userDataObj?.data?._id || null;\r\n\r\n  useEffect(() => {\r\n    const fetchUnreadCount = async () => {\r\n      if (userId) {\r\n        try {\r\n          const response = await fetch(\r\n            `${BASE_URL}/notifications/unread-count/${userId}`\r\n          );\r\n          const data = await response.json();\r\n          setUnreadCount(data.count || 0);\r\n        } catch (error) {\r\n          console.error(\"Error fetching unread count:\", error);\r\n          setUnreadCount(0);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUnreadCount();\r\n    // Refresh unread count every 30 seconds\r\n    const interval = setInterval(fetchUnreadCount, 30000);\r\n    return () => clearInterval(interval);\r\n  }, [userId]);\r\n\r\n  return <HeaderFour unreadCount={unreadCount} />;\r\n};\r\n\r\nexport default HeaderFourWithNotifications;\r\n","\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Container, Row } from \"react-bootstrap\";\nimport HeaderFourWithNotifications from \"../component/layout/HeaderFourWithNotifications\";\nimport SelectProduct from \"../component/select/selectproduct\";\nimport { BASE_URL } from \"../../base\";\nimport { fetchNotifications, markAllAsRead } from \"../../service/common-service/notificationslice\";\nimport TimeAgo from \"../component/popUps/setting/TimeAgo\";\nimport { Link } from \"react-router-dom\";\n\n\nconst NotificationItem = ({ notification }) => {\n  const avatar = notification.senderUserId?.mainAvatar\n    ? `${BASE_URL}/assets/images/${notification.senderUserId.mainAvatar}`\n    : notification.senderUserId?.avatars?.length\n    ? `${BASE_URL}/assets/images/${notification.senderUserId.avatars[0]}`\n    : \"/default-avatar.png\";\n\n  return (\n    <div\n      className={`notification-item ${\n        notification.status === \"UNREAD\" ? \"unread\" : \"read\"\n      }`}\n    >\n      <div className=\"notification-content\">\n        <div className=\"notification-action\">\n        <Link\n                              to={`/metrimonial/user-profile/${notification.senderUserId?._id}`}\n                            >\n\n\n                          \n       \n          <img\n            src={avatar}\n            className=\"profile-picture-notification\"\n            alt={notification.senderUserId?.name || \"User\"}\n          />\n            </Link>\n          <span>\n            <strong>{notification.senderUserId?.name}</strong>{\" \"}\n            {notification.message}\n          </span>\n        </div>\n      </div>\n\n      <div className=\"notification-meta\">\n        <p className=\"notification-timestamp\">\n          <TimeAgo createdAt={notification.createdAt} />\n        </p>\n      </div>\n    </div>\n  );\n};\n\n\nconst NotificationFullPage = () => {\n  const dispatch = useDispatch();\n  const { list: notifications, loading, error } = useSelector(\n    (state) => state.notifications\n  );\n\n  const datingId = localStorage.getItem(\"userData\");\n  const user_Data = JSON.parse(datingId);\n  const userId = user_Data.data._id;\n\n  const handleMarkAllAsRead = async () => {\n    try {\n      await dispatch(markAllAsRead(userId)).unwrap();\n    } catch (error) {\n      console.error('Error marking all notifications as read:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (userId) {\n      dispatch(fetchNotifications({ userId: userId, page: 1, limit: 11 }));\n    }\n  }, [dispatch, userId]);\n\n  return (\n    <>\n      <HeaderFourWithNotifications />\n      <Container>\n        <Row className=\"align-items-center\">\n          <div className=\"col-lg-6 col-md-6 col-sm-12\">\n            <h2 className=\"notification-title-page\">Notifications</h2>\n          </div>\n          <div className=\"col-lg-6 col-md-6 col-sm-12\">\n            <div className=\"member__info--right member__info--right-notification d-flex justify-content-end align-items-center\">\n              {notifications.some(n => n.status === 'UNREAD') && (\n                <button \n                  className=\"btn btn-sm btn-outline-primary me-3\"\n                  onClick={handleMarkAllAsRead}\n                  style={{ fontSize: '14px', padding: '6px 12px' }}\n                >\n                  Mark all as read\n                </button>\n              )}\n              <div className=\"member__info--customselect right w-100\">\n                <div className=\"default-btn\">\n                  <span>Order By:</span>\n                  <select className=\"select__border--none\">\n                    <option value=\"newest\">Newest</option>\n                    <option value=\"oldest\">Oldest</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n        </Row>\n\n        {loading && <p>Loading notifications...</p>}\n        {error && <p style={{ color: \"red\" }}>Error: {error}</p>}\n\n        <div className=\"notification-modal-page\">\n  {notifications.length === 0 ? (\n    <p>No notifications found.</p>\n  ) : (\n    notifications.map((notification) => (\n      <NotificationItem key={notification._id} notification={notification} />\n    ))\n  )}\n</div>\n      </Container>\n    </>\n  );\n};\n\nexport default NotificationFullPage;\n","import { Component } from \"react\";\r\n\r\nclass SelectProduct extends Component {\r\n    render() { \r\n        const {select} = this.props;\r\n        return (\r\n            <select defaultValue={select}>\r\n                <option value=\"Newest\">Recent added</option>\r\n                <option value=\"Popular\">Popular</option>\r\n                <option value=\"Old\">Old</option>\r\n                <option value=\"Recent\">Recent</option>\r\n            </select>\r\n        );\r\n    }\r\n}\r\n \r\nexport default SelectProduct;"],"names":["HeaderFourWithNotifications","_userDataObj$data","unreadCount","setUnreadCount","useState","userData","localStorage","getItem","userDataObj","JSON","parse","userId","data","_id","useEffect","fetchUnreadCount","async","response","fetch","BASE_URL","json","count","error","console","interval","setInterval","clearInterval","_jsx","HeaderFour","NotificationItem","_ref","_notification$senderU","_notification$senderU2","_notification$senderU3","_notification$senderU4","_notification$senderU5","_notification$senderU6","notification","avatar","senderUserId","mainAvatar","avatars","length","_jsxs","className","status","children","Link","to","src","alt","name","message","TimeAgo","createdAt","NotificationFullPage","dispatch","useDispatch","list","notifications","loading","useSelector","state","datingId","fetchNotifications","page","limit","_Fragment","Container","Row","some","n","onClick","markAllAsRead","unwrap","style","fontSize","padding","value","color","map","SelectProduct","Component","render","select","this","props","defaultValue"],"sourceRoot":""}