{"version":3,"file":"static/js/830.36ff2bc5.chunk.js","mappings":"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","sources":["metrimoniul/component/popUps/event/eventNotificationSchedule .jsx","metrimoniul/component/popUps/chat/Timer.jsx","metrimoniul/component/popUps/chat/checkCompatibilty.jsx","metrimoniul/component/popUps/chat/MildStoneModal.jsx","metrimoniul/component/popUps/common-profile/block-user.jsx","metrimoniul/component/popUps/common-profile/reportUserModal.jsx","metrimoniul/component/popUps/chat/calenderSchedule.jsx","metrimoniul/component/layout/loadderChat.jsx","metrimoniul/component/popUps/incomingcalls/IncomingCallModal.jsx","metrimoniul/component/popUps/incomingcalls/VideoCallModal.jsx","metrimoniul/pagesMetrimoniul/chat-page.jsx","metrimoniul/component/popUps/chat/Venue.jsx","metrimoniul/component/popUps/event/eventCalenderSchedule .jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Modal } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport toast from \"react-hot-toast\";\nimport userMale from \"../../../../dating/assets/images/myCollection/user-male.jpg\";\nimport { MODE_METRI } from \"../../../../utils\";\nimport { getBySenderUserIds } from \"../../../../dating/store/slice/ActivitiesSlice\";\nimport { BASE_URL } from \"../../../../base\";\nimport {\n  createEvent,\n  getEventsM,\n} from \"../../../../service/common-service/eventSlice\";\nimport { unwrapResult } from \"@reduxjs/toolkit\";\n\nconst EventNotificationSchedule = ({\n  showModal,\n  editIndex,\n  ViewUser,\n  setEditIndex,\n  hideModal,\n  calenderScheduleDAte,\n  selectedUser,\n  selectedMemberForEvent, // <-- add this prop\n  userInfoDate,\n  scheduledData,\n}) => {\n  // const {eventDatahandle}=useContext(eventnotifyData)\n  const dispatch = useDispatch();\n  const profileData = useSelector((state) => state.profile.userData);\n  const User = profileData;\n\n  const datingId = localStorage.getItem(\"userData\");\n  const user_Data = JSON.parse(datingId);\n  const Store = useSelector((state) => state);\n  let matchUserList = useSelector(\n    (state) => Store?.activies?.Activity?.data || []\n  );\n\n  useEffect(() => {\n    dispatch(\n      getBySenderUserIds({ modeid: MODE_METRI, id: user_Data.data._id })\n    );\n  }, [user_Data.data._id]);\n\n  const eventnotifyData = {\n    user: User,\n    selectUser:\n      editIndex !== null\n        ? ViewUser?.receiverUserId\n        : selectedMemberForEvent || selectedUser?.receiverUserId, // <-- use selectedMemberForEvent if available\n    scheduledData: scheduledData,\n  };\n\n  const handleSubmitnotification = async (e) => {\n    // e.preventDefault();\n    // if (editIndex === null) {\n    //   const datanotifyEvent = localStorage.getItem(\"dataEvent\") || \"[]\";\n    //   localStorage.setItem(\n    //     \"dataEvent\",\n    //     JSON.stringify([...JSON.parse(datanotifyEvent), eventnotifyData])\n    //   );\n    // } else {\n    //   const datanotifyEvent = localStorage.getItem(\"dataEvent\") || \"[]\";\n    //   const updateArray = [...JSON.parse(datanotifyEvent)];\n    //   updateArray[editIndex] = { ...ViewUser, scheduledData: scheduledData };\n    //   localStorage.setItem(\"dataEvent\", JSON.stringify(updateArray));\n    //   setEditIndex(null);\n    // }\n\n    // try {\n    //   toast.success(\"schedule date successfully updated\");\n    //   hideModal(hideModal);\n    // } catch (error) {\n    //   console.error(\"Error updating Contact profile:\", error);\n    //   toast.error(\"Failed to update Contact info\");\n    // }\n    e.preventDefault();\n\n    const payload = {\n      senderUserId: User?._id || User?.id || user_Data.data._id,\n      receiverUserId:\n        eventnotifyData?.selectUser?._id ||\n        eventnotifyData?.selectUser?.id ||\n        \"\",\n      action_logs: \"Scheduled via app\",\n      description: scheduledData?.description || \"1st meet\",\n      note: scheduledData?.note || \"User scheduled a date\",\n      mode: scheduledData?.mode || \"68d103ffaa4b176726e60424\",\n    };\n\n    try {\n      const resultAction = await dispatch(createEvent(payload));\n      const res = unwrapResult(resultAction);\n      if (res.isSuccess === true) {\n        dispatch(getEventsM(res?.data?.senderUserId));\n        toast.success(\"Schedule date successfully updated\");\n        hideModal();\n      } else {\n        toast.error(\"Failed to schedule event\");\n      }\n    } catch (error) {\n      console.error(\"Promise error during createEvent:\", error);\n      toast.error(\"Failed to schedule event\");\n    }\n  };\n\n  return (\n    <Modal show={showModal} onHide={hideModal} centered>\n      <div className=\"main\" style={{ position: \"relative\" }}>\n        <span\n          onClick={hideModal}\n          style={{\n            position: \"absolute\",\n            right: \"20px\",\n            top: \"8px\",\n            color: \"#213366\",\n            cursor: \"pointer\",\n          }}\n        >\n          <i className=\"fa fa-times fs-3 modal-cls\" aria-hidden=\"true\"></i>\n        </span>\n        <div className=\"svg-top \">\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"330\"\n            height=\"405\"\n            viewBox=\"0 0 330 405\"\n            fill=\"none\"\n            className=\"sched-modal\"\n          >\n            <path\n              d=\"M192.069 338.654C43.1066 317.937 22.2553 364.484 0.00750924 404.24L7.50122e-09 20.0255C-0.000299446 8.96583 8.96523 0 20.0248 0H309.519C320.577 0 329.544 8.96583 329.544 20.0245L329.543 243.055C325.491 286.302 295.076 352.979 192.069 338.654Z\"\n              fill=\"#D6B6F9\"\n            />\n            <defs>\n              <linearGradient\n                id=\"gradient-col\"\n                x1=\"0%\"\n                y1=\"0%\"\n                x2=\"100%\"\n                y2=\"0%\"\n              >\n                <stop offset=\"0%\" style={{ stopColor: \"#F093FB\" }} />\n                <stop offset=\"100%\" style={{ stopColor: \"#f24570\" }} />\n              </linearGradient>\n            </defs>\n          </svg>\n\n          <div className=\"upperData matched-modal\">\n            <h3 style={{ zIndex: \"999999\" }}>Youre Matched</h3>\n            <p>You and Desirae have both liked each other</p>\n            <div className=\"coll row\">\n              <div className=\"col-md-8 mod-person-lft col-8\">\n                <p className=\"fs-4 text-muted fw-600 per-txt\">\n                  {\" \"}\n                  {User?.name || \"\"}\n                </p>\n                <p className=\"fs-4 text-muted fw-600 per-dest\">\n                  {\" \"}\n                  {User?.occupation || \"\"}\n                </p>\n                <p className=\"fs-4 text-muted fw-600 location \">\n                  <span>\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"8\"\n                      height=\"12\"\n                      viewBox=\"0 0 8 12\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M3.91737 0.696289C1.75734 0.696289 0 2.45151 0 4.61014C0 7.49576 3.61369 10.929 3.76886 11.0742C3.81171 11.1122 3.86501 11.1333 3.91737 11.1333C3.97067 11.1333 4.02588 11.1122 4.06682 11.0742C4.222 10.929 7.83569 7.50476 7.83569 4.61014C7.83569 2.45151 6.07834 0.696289 3.91737 0.696289ZM3.91737 6.37335C2.94444 6.37335 2.15242 5.58237 2.15242 4.61014C2.15242 3.63696 2.94444 2.84698 3.91737 2.84698C4.89124 2.84698 5.68233 3.63696 5.68233 4.61014C5.68233 5.58237 4.89124 6.37335 3.91737 6.37335Z\"\n                        fill=\"white\"\n                      />\n                    </svg>\n                  </span>\n                  {User?.address || \"New York\"}\n                </p>\n              </div>\n              <div className=\"col-md-4 col-4 modal-imgg-wrap\">\n                <div className=\"girl \">\n                  <img\n                    src={\n                      User?.mainAvatar\n                        ? `${BASE_URL}/assets/images/${User?.mainAvatar}`\n                        : User?.avatars?.[0]\n                        ? `${BASE_URL}/assets/images/${User?.avatars[0]}`\n                        : userMale\n                    }\n                    alt=\"dating thumb\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\" col6 heart-svg\">\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"24\"\n                height=\"23\"\n                viewBox=\"0 0 24 23\"\n                fill=\"none\"\n              >\n                <path\n                  d=\"M21.3406 2.97626C18.7864 0.422095 14.7424 0.178778 11.9449 2.30744C9.11644 0.208838 5.10345 0.422095 2.51825 2.97626C-0.278217 5.77375 -0.278217 10.3644 2.51825 13.1619L11.1239 21.7666L11.9139 22.5576L21.3406 13.1319C24.1681 10.3644 24.1681 5.80378 21.3406 2.97626ZM19.7897 11.611L14.1947 17.2059C13.9514 15.8072 13.2826 14.4395 12.6438 13.1319C11.154 10.061 9.87738 7.41575 12.7349 4.55723L12.9172 4.37501C14.8636 2.61082 17.9043 2.67188 19.7897 4.55723C21.7351 6.50263 21.7351 9.66556 19.7897 11.611Z\"\n                  fill=\"white\"\n                />\n              </svg>\n            </div>\n            <div className=\"row rt2\">\n              <div className=\"col-md-4 col-4 modal-imgg-wrap\">\n                <img\n                  className=\"img2 rounded-50\"\n                  src={\n                    eventnotifyData?.selectUser?.mainAvatar\n                      ? `${BASE_URL}/assets/images/${eventnotifyData?.selectUser?.mainAvatar}`\n                      : eventnotifyData?.selectUser?.avatars?.[0]\n                      ? `${BASE_URL}/assets/images/${eventnotifyData?.selectUser?.avatars[0]}`\n                      : userMale\n                  }\n                  alt=\"\"\n                />\n              </div>\n              <div className=\"col-md-8 mod-person-rt col-8\">\n                <p className=\"fs-4 text-muted fw-600 per-txt\">\n                  {eventnotifyData?.selectUser?.name || \"not found\"}\n                </p>\n                <p className=\"fs-4 text-muted fw-600 per-dest\">\n                  {eventnotifyData?.selectUser?.occupation || \"\"}\n                </p>\n                <p className=\"fs-4 text-muted fw-600 location\">\n                  <span className=\"location2\">\n                    <svg\n                      xmlns=\"http://www.w3.org/2000/svg\"\n                      width=\"8\"\n                      height=\"12\"\n                      viewBox=\"0 0 8 12\"\n                      fill=\"none\"\n                    >\n                      <path\n                        d=\"M3.91737 0.696289C1.75734 0.696289 0 2.45151 0 4.61014C0 7.49576 3.61369 10.929 3.76886 11.0742C3.81171 11.1122 3.86501 11.1333 3.91737 11.1333C3.97067 11.1333 4.02588 11.1122 4.06682 11.0742C4.222 10.929 7.83569 7.50476 7.83569 4.61014C7.83569 2.45151 6.07834 0.696289 3.91737 0.696289ZM3.91737 6.37335C2.94444 6.37335 2.15242 5.58237 2.15242 4.61014C2.15242 3.63696 2.94444 2.84698 3.91737 2.84698C4.89124 2.84698 5.68233 3.63696 5.68233 4.61014C5.68233 5.58237 4.89124 6.37335 3.91737 6.37335Z\"\n                        fill=\"white\"\n                      />\n                    </svg>\n                  </span>\n                  {eventnotifyData?.selectUser?.address || \"\"}\n                </p>\n              </div>\n            </div>\n          </div>\n          <div className=\"date-time-wrap\">\n            <p className=\"date-modal\">\n              <i class=\"fas fa-calendar-alt\"></i>\n              {scheduledData?.date || \"02-02-2026\"}\n            </p>\n            <p className=\"time-modal\">\n              <i class=\"fas fa-clock\"></i>\n              {scheduledData?.time || \"05:00 PM\"}\n            </p>\n            <p className=\"loc-modal\">\n              <i class=\"fas fa-map-marker-alt\"></i>\n              {scheduledData?.venue || \"New York\"}\n            </p>\n          </div>\n\n          <div className=\"main-bottom\">\n            <Link onClick={hideModal}>\n              <button className=\"send-msg-btn\">\n                <p className=\"content\">Send a Message</p>\n              </button>\n            </Link>\n\n            <Link>\n              <button\n                onClick={handleSubmitnotification}\n                className=\"schedule-date\"\n              >\n                <p className=\"celender schedulename\">Submit</p>\n              </button>\n            </Link>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default EventNotificationSchedule;\n","import React, { useState } from 'react';\nimport { TimePicker } from 'react-ios-time-picker';\n\nfunction TimerMetri() {\n   const [value, setValue] = useState('10:00');\n\n   const onChange = (time) => {\n      setValue(time);\n   };\n\n   return (\n      <div className=\"Apps\">\n    \n         <TimePicker onChange={onChange} value={value} />\n        \n      </div>\n   );\n}\n\nexport default TimerMetri;","import React, { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\nimport { CircularProgressbar, buildStyles } from \"react-circular-progressbar\";\nimport \"react-circular-progressbar/dist/styles.css\";\n\n\n// const CustomAlert = ({ message, onClose }) => (\n//     <div\n//       style={{\n//         textAlign:\"center\",\n//         width:\"20%\",\n//         position: 'fixed',\n//         top: '40%',\n//         left:\"49%\",\n//         transform: 'translate(-50%, -50%)',\n//         backgroundColor: '#ffff',\n//         padding: '20px',\n//         borderRadius: '10px',\n//         boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n//       }}\n//     >\n//       <p>{message}</p>\n//       <button style={{color:\"#f24570\"}} onClick={onClose}>OK</button>\n//     </div>\n//   );\nconst CustomAlert = ({ message, onClose }) => (\n    <div\n        className=\"position-fixed top-50 start-50 translate-middle\"\n        style={{\n            backgroundColor: '#ffff',\n            padding: '20px',\n            borderRadius: '10px',\n            boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\n            textAlign: 'center',\n            width: '80%', // Set a default width\n            maxWidth: '400px', // Set a maximum width\n        }}\n    >\n        <p>{message}</p>\n        <button style={{ color: \"#f24570\" }} className=\"btn btn-\" onClick={onClose}>\n            OK\n        </button>\n    </div>\n);\nconst CheckCompatibilityModalMetri = ({ showModal, hideModal }) => {\n    const [customAlert, setCustomAlert] = useState(null);\n    const questions = [\n        'Do you prefer to be a protector or nurturer in your relationships?',\n        'What is your ideal date night?',\n        'How do you handle conflicts in a relationship?',\n        'What is your love language?',\n        'How important is physical affection in a relationship?',\n    ];\n\n    const options = [\n        ['Protector', 'Nurturer', 'Sometimes protector, sometimes nurturer', 'Dont Care'],\n        ['Dinner and a movie', 'Outdoor adventure', 'Cooking together at home', 'Netflix and chill'],\n        ['I confront the issue directly', 'I prefer to avoid conflicts', 'I compromise and find a middle ground'],\n        ['Words of affirmation', 'Acts of service', 'Receiving gifts', 'Quality time', 'Physical touch'],\n        ['Very important', 'Moderately important', 'Not important'],\n    ];\n\n\n    const matchingPercentage = 60;\n\n    const [currentQuestion, setCurrentQuestion] = useState(0);\n    const [currentDiv, setCurrentDiv] = useState(0);\n    const [selectedOptions, setSelectedOptions] = useState(Array(options.length).fill());\n\n\n    const handleOptionSelect = (index) => {\n        const updatedOptions = [...selectedOptions];\n        updatedOptions[currentQuestion] = options[currentQuestion][index];\n        setSelectedOptions(updatedOptions);\n    };\n\n    // const handleNextClick = () => {\n    //     if (currentQuestion < questions.length - 1) {\n    //         setCurrentQuestion(currentQuestion + 1);\n    //     } else {\n    //         if (selectedOptions.every((option) => option !== undefined)) {\n    //             setCurrentDiv(1);\n    //         } else {\n    //             alert('Please answer all questions before submitting.');\n    //         }\n    //     }\n    // };\n    const handleNextClick = () => {\n        if (currentQuestion < questions.length - 1) {\n            if (selectedOptions[currentQuestion] === undefined) {\n                // Display custom alert modal\n                const message = 'Please answer the current question before moving to the next one.';\n                setCustomAlert({ message });\n            } else {\n                setCurrentQuestion(currentQuestion + 1);\n            }\n        } else {\n            if (selectedOptions.every((option) => option !== undefined)) {\n                setCurrentDiv(1);\n            } else {\n                // Display custom alert modal\n                const message = 'Please answer all questions before submitting.';\n                setCustomAlert({ message });\n            }\n        }\n    };\n\n    const handlePrevClick = () => {\n        if (currentQuestion > 0) {\n            setCurrentQuestion(currentQuestion - 1);\n        }\n    };\n\n    return (\n        <Modal show={showModal} onHide={hideModal} centered>\n            {customAlert && (\n                <CustomAlert message={customAlert.message} onClose={() => setCustomAlert(null)} />\n            )}\n\n            <span onClick={hideModal}>\n                <i\n                    className=\"fa fa-times fs-3\"\n                    aria-hidden=\"true\"\n                    style={{\n                        cursor: \"pointer\",\n                        float: \"right\",\n                        padding: \"15px 25px 0 0\",\n                    }}\n                ></i>\n            </span>\n            {currentDiv === 0 && (\n                <div className=\"container px-3 pb-3 px-sm-5 pb-sm-5\">\n                    <div className=\" \">\n                        <div className=\"col-12\">\n                            <p className='text-center text-dark fs-3'>Compatibility Quiz</p>\n                        </div>\n                        <div className=\"col-12 px-3 px-sm-5\">\n                            <p className='text-center'>\n                                Answer at least 5 questions & find out how compatible you are with other users\n                            </p>\n                        </div>\n                    </div>\n                    <div className=\"compatibility-quiz-box mx-3\">\n                        <div className=\"top-quiz mb-2\">\n                            <p className='top-quiz-req-que text-muted'>{`Required question ${currentQuestion + 1}/${questions.length}`}</p>\n                            <br />\n                            <p className='top-quiz-que my-2'>{questions[currentQuestion]}</p>\n                        </div>\n                        <div className='py-2'>\n                            {options[currentQuestion].map((option, index) => (\n                                <p\n                                    key={index}\n                                    className={`rounded-4 top-quiz-option pointer py-3 ps-4 ${selectedOptions[currentQuestion] === option ? 'selected-option' : ''}`}\n                                    onClick={() => handleOptionSelect(index)}\n                                    style={{\n                                        backgroundColor:\n                                            selectedOptions[currentQuestion] === option ? '#f24570' : 'whitesmoke',\n                                        color:\n                                            selectedOptions[currentQuestion] === option ? 'white' : 'black',\n                                        fontSize: '1rem', // Adjust font size as needed\n                                    }}\n                                >\n                                    {option}\n                                </p>\n                            ))}\n                        </div>\n                        <div>\n                            {currentQuestion > 0 && (\n                                <button className=\"default-btn reverse mt-4\" style={{ float: 'left' }} onClick={handlePrevClick}>\n                                    <span>Prev</span>\n                                </button>\n                            )}\n                            <button className=\"default-btn reverse mt-4 \" style={{ float: 'right' }} onClick={handleNextClick}>\n                                <span>{currentQuestion === questions.length - 1 ? 'Submit' : 'Next'}</span>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n            {currentDiv === 1 && (\n                <div className='pb-5'>\n                    <div className=\"container px-5\">\n                        <div className='my-2'>\n                            <div style={{ width: \"150px\", margin: \"auto\" }}>\n                                <CircularProgressbar\n                                    maxValue={100}\n                                    strokeWidth={10}\n                                    value={matchingPercentage}\n                                    counterClockwise={false}\n                                    background={false}\n                                    backgroundPadding={10}\n                                    text={`${matchingPercentage}%`}\n                                    styles={buildStyles({\n                                        textColor: '#f24570',\n                                        pathColor: '#f24570',\n                                        trailColor: 'whitesmoke',\n                                    })}\n                                />\n                            </div>\n                        </div>\n\n                        <div className=\"my-2 mt-5\">\n                            <h6>Things you have in common : </h6>\n                        </div>\n\n                        <div className=\" ps-3 my-2 mt-3\">\n                            <p>1. You both agree that when it comes to love, it always requires hard work!</p>\n                            <p>2. You both value work-life balance over success!</p>\n                        </div>\n\n\n                    </div>\n                    <hr className='my-2' />\n                    <div className=\"container px-5\">\n                        <p className='text-dark fs-5 mt-2'>details</p>\n                        <p className='ps-3'>Your score suggests that there is likely a low-moderate level of potential compatibility between you and this person when it comes to several important elements of successful relationships. It is a long-established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English.</p>\n                    </div>\n                </div>\n            )}\n\n        </Modal>\n    );\n};\n\nexport default CheckCompatibilityModalMetri;\n","import React, { useState } from 'react';\nimport { Modal } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Scrollbars from 'react-custom-scrollbars-2';\n\nconst btnText = \"Load More\";\n\nconst RelationshipMilestoneList = [\n  {\n    text: 'Started a beautiful journey together',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Celebrated the first month of happiness',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Shared special moments with each other\\'s families',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Embarked on a romantic trip together',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Decided to share a home and move in together',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Took a step forward and got engaged',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Tied the knot and became a married couple',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Welcomed their first bundle of joy into the world',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Celebrated the joyous 5-year milestone together',\n    activity: '2 days ago',\n  },\n  {\n    text: 'Still going strong after a decade of love!',\n    activity: '2 days ago',\n  },\n];\n\n\nconst RelationshipMilestoneTrackerMetri = ({ showModal, hideModal, selectedUser }) => {\n  const [showMilestone, setShowMilestone] = useState(5);\n  const totalMilStones = RelationshipMilestoneList.length;\n\n  const handleLoadMoreMilestone = () => {\n    const newMilestoneToShow = showMilestone + 5;\n    setShowMilestone(Math.min(newMilestoneToShow, totalMilStones))\n  }\n\n  return (\n    <Modal className='me-2' show={showModal} onHide={hideModal} centered size=\"lg\"  >\n      <span onClick={hideModal}>\n        <i\n          className=\"fa fa-times fs-3\"\n          aria-hidden=\"true\"\n          style={{\n            cursor: 'pointer',\n            color: \"white\",\n            float: 'right',\n            right: \"0px\",\n            padding: '15px 25px 0 0',\n            position: 'absolute',\n          }}\n        ></i>\n      </span>\n      <div className=\"activity \">\n        <div className=\"container\">\n          <div class=\"jumbotron p-lg-4 p-2 rounded-2\">\n            <p class=\"display-5\">Relationship Milestone Tracker</p>\n            <p class=\"lead\">Track and celebrate the special moments in your relationship journey.</p>\n          </div>\n          <div className=\"row g-4 pb-2\">\n            <Scrollbars\n              autoHide\n              style={{ position: \"relative\", height: \"530px\" }}\n            >\n              <div className=\"col-lg-12\">\n                <div className=\"group__bottom--area\">\n\n                  <div className=\"group__bottom--body bg-white\">\n                    <div className=\"group__bottom--group\">\n                      <div className=\"row g-4 justify-content-center mx-12-none row-cols-1\">\n                        {RelationshipMilestoneList.slice(0, showMilestone).map((val, i) => (\n                          <div className=\"col\" key={i}>\n                            <div className=\"activity__item\">\n                              <div className=\"activity__inner\">\n                                <div className=\"activity__thumb\">\n                                  <Link to=\"/member-single\">\n                                  <img src={selectedUser ? selectedUser.avatars : null} alt={`${val.imgAlt}`} /></Link>\n                                </div>\n                                <div className=\"activity__content\">\n                                  <h5>\n                                    <Link to=\"/dating/members\">{selectedUser ? selectedUser.name : null}</Link>\n                                    <span>{\"and \"}</span>\n                                    {\" \"} You{\" \"}\n                                    <span>{val.text}</span>\n                                  </h5>\n                                  <p>{val.activity}</p>\n                                </div>\n                              </div>\n                            </div>\n                          </div>\n                        ))}\n                      </div>\n                      <div className=\"text-center mt-5\">\n                        {showMilestone < totalMilStones && (\n                          <a \n                          href=\"#\" \n                          className=\"default-btn reverse\"\n                          onClick={handleLoadMoreMilestone}\n                          ><span><i className=\"fa-solid fa-spinner\"></i> {btnText}</span></a>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </Scrollbars>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default RelationshipMilestoneTrackerMetri;\n\n\n","\n\nimport React from 'react'\nimport { Modal, Button } from \"react-bootstrap\";\nimport { useNavigate } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { blockUser } from '../../../../service/common-service/blockSlice';\n\nconst BlockUserModalMetri = ({ showModal, hideModal, selectedUser }) => {\n  \n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n\n  const handleBlockUserFromChat = () => {\n    const targetUserId = selectedUser?.receiverUserId?._id;\n    if (!targetUserId) return; \n\n    dispatch(blockUser(targetUserId))\n      .unwrap()  \n      .then(() => {\n        hideModal();\n      ;\n      })\n      .catch((err) => {\n        console.error(\"Block user failed:\", err);\n       \n      });\n  };\n\n  return (\n    <Modal show={showModal} onHide={hideModal} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Block Confirmation</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        <div className=\"alert alert-danger\">\n          Are you sure want to block <span className='fs-5'>{selectedUser ? selectedUser.name : null}</span>\n        </div>\n      </Modal.Body>\n      <Modal.Footer style={{ justifyContent: 'space-between' }}>\n        <Button variant=\"default\" style={{ border: '1px solid #d5d5d5c2' }} onClick={hideModal}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" onClick={handleBlockUserFromChat}>\n          Block\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  )\n}\n\nexport default BlockUserModalMetri;\n","import React, { useState } from 'react';\nimport { Modal, Button, Form } from 'react-bootstrap';\n\nconst ReportUserModalMetri = ({ showModal, hideModal }) => {\n  const [reportReason, setReportReason] = useState('');\n  const [additionalDetails, setAdditionalDetails] = useState('');\n\n  const handleReport = () => {\n    hideModal();\n  };\n\n  const reportOptions = [\n    'Inappropriate Content',\n    'Harassment',\n    'Fake Profile',\n    'Spam',\n    'Other (Please Specify)',\n  ];\n\n  return (\n    <Modal show={showModal} onHide={hideModal} centered>\n      <span onClick={hideModal}>\n        <i\n          className=\"fa fa-times fs-3\"\n          aria-hidden=\"true\"\n          style={{\n            cursor: 'pointer',\n            float: 'right',\n            padding: '15px 25px 0 0',\n          }}\n        ></i>\n      </span>\n      <div className=\"container px-5 pb-5\">\n        <div className=\"row\">\n          <div className=\"col-12\">\n            <p className='text-center text-dark fs-3'>Report User</p>\n          </div>\n          <div className=\"col-12 px-5\">\n            <p className='text-center'>\n              Are you sure you want to report this user?\n            </p>\n          </div>\n          <Form.Group controlId=\"reportReason\">\n            <Form.Label>Select a reason:</Form.Label>\n            <Form.Control\n            className='custom-reportUser-modal'\n              as=\"select\"\n              value={reportReason}\n              onChange={(e) => setReportReason(e.target.value)}\n            >\n              <option value=\"\" disabled>Select a reason...</option>\n              {reportOptions.map((option) => (\n                <option   key={option} value={option}>\n                  {option}\n                </option>\n              ))}\n            </Form.Control>\n          </Form.Group>\n          <span className='mt-4'></span>\n          <Form.Group  controlId=\"additionalDetails\">\n            <Form.Label>Additional Details (optional):</Form.Label>\n            <Form.Control\n            className='custom-reportUser-modal'\n              as=\"textarea\"\n              rows={3}\n              value={additionalDetails}\n              onChange={(e) => setAdditionalDetails(e.target.value)}\n              placeholder=\"Provide more details about the report...\"\n            />\n          </Form.Group>\n          <div className=\"container\">\n            <div className=\"row share-user-profile-modal-svg-div\" style={{justifyContent: 'space-between'}}>\n              <div className=\"col-6 text-center mt-4\">\n                <Button variant=\"default\" onClick={hideModal} style={{border:'1px solid #d5d5d5c2'}}>\n                  Cancel\n                </Button>\n              </div>\n              <div className=\"col-6 text-center mt-4\">\n                <Button variant=\"danger\" onClick={handleReport}>\n                  Report User\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport default ReportUserModalMetri;\n","import React, { useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\nimport toast from \"react-hot-toast\";\nimport Calendar from \"react-calendar\";\nimport Timer from './Timer'\nimport TimerMetri from \"./Timer\";\n\nconst CalenderScheduleMetri = ({\n  showModal,\n  hideModal,\n  \n  \n}) => {\n  const [showClock, setShowClock] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [selectedTime,setSelectedTime] =useState(new Date())\n\n\n  const handleClockClick = () => {\n    setShowClock(!showClock);\n    setShowCalendar(!showCalendar)\n  };\n\n  const handleCalendarClick = () => {\n    setShowCalendar(!showCalendar);\n  };\n\n \n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setShowCalendar(false);\n   \n  };\n\n  const handleTimeChange = (time)=>{\n    setSelectedTime(time);\n    setShowClock(false)\n    \n  }\n  const handleSubmit =  (e) => {\n    e.preventDefault();\n    try {\n      toast.success(\"schedule date successfully updated\");\n      //  setButtonClass(\"default-btn reverse\");\n      hideModal(hideModal)\n    } catch (error) {\n      console.error(\"Error updating Contact profile:\", error);\n      toast.error(\"Failed to update Contact info\");\n    }\n  };\n  \n  const [value, setValue] = useState('10:00');\n\n  const onClick = (time) => {\n    setValue(time);\n };\n\n const venues = [\n   {  address:'Empire State Building, 20 W 34th St New York, NY 10001' },\n   {  address:'Times Square , Manhattan, NY 10036' },\n   {  address:'Statue of Liberty,  New York, NY 10004' },\n   {  address:'Brooklyn Bridge,  New York, NY 10038' },\n   {  address:'The Metropolitan Museum of Art,  1000 5th Ave, New York, NY 10028' },\n   {  address:'Grand Central Terminal,  89 E 42nd St, New York, NY 10017' },\n   {  address:'Central Park,  59th St to 110th St, New York, NY 10022' },\n  // Add more venues as needed\n];\n\nconst VenuePopup = ({ selectedVenue, onClose }) => (\n  <div className=\"popup-venue\">\n    <span className=\"close\" onClick={onClose}>&times;</span>\n    <p> <i class=\"fa-solid fa-location-dot fa-xl\" style={{color:\"#B197FC\"}}></i> {selectedVenue.address}</p>\n  </div>\n);\n// ----------------venue---------------\n// const VenuePicker = () => {\n  const [selectedVenue, setSelectedVenue] = useState(null);\n  const [isPopupOpen, setPopupOpen] = useState(false);\n\n  const handlePickVenue = () => {\n    const randomIndex = Math.floor(Math.random() * venues.length);\n    const chosenVenue = venues[randomIndex];\n    setSelectedVenue(chosenVenue);\n    setPopupOpen(true);\n  };\n\n  const handleClosePopup = () => {\n    setPopupOpen(false);\n  };\n\n\n  \n  return (\n    <Modal show={showModal} onHide={hideModal} centered>\n      {!showCalendar ? (\n        <>\n          <div\n            className=\"main-calander\"\n            style={{ position: \"relative\", padding: \"20px\" }}\n          >\n            <span\n              onClick={hideModal}\n              style={{ position: \"absolute\", right: \"10px\", top: \"5px\" }}\n            >\n              <i className=\"fa fa-times fs-3\" aria-hidden=\"true\"></i>\n            </span>\n\n            <div className=\"Data-1\">\n              <h5 className=\"fs-4 text-muted fw-700\">\n                Schedule Your Virtual Date for Meaningful Connections!\n              </h5>\n              <div className=\"settime\">\n              \n               <TimerMetri/>\n                <span className=\"clock-icon\" onClick={onClick} value={value}   >\n                <i class=\"fa-solid fa-clock fa-xl\" style={{color:\"#B197FC\"}}></i>\n                </span>\n              </div>\n              <div className=\"setdate\">\n                <input\n                  className=\"date\"\n                  type=\"\"\n                  dateFormat=\"DD/MM/YYYY\"\n                  placeholder=\"Choose Date\"\n                  value={selectedDate.toLocaleDateString()}\n                  onClick={handleCalendarClick}\n                />\n                <span className=\"calander-icon\" onClick={handleCalendarClick}>\n                <i class=\"fa-regular fa-calendar-days fa-xl\" style={{color:\"#B197FC\"}}></i>\n                </span>\n              </div>\n\n              <div className=\"setVenue\">\n              <input\n                  className=\"date\"\n                  type=\"\"\n                  placeholder=\"Choose Venue\"\n                  onClick={handlePickVenue}\n                />\n                 <div className='Apps'>\n     \n     {isPopupOpen && selectedVenue && (\n       <VenuePopup selectedVenue={selectedVenue} onClose={handleClosePopup} />\n     )}\n   </div>\n                 <span className=\"calander-icon\" onClick={handlePickVenue}>\n                 <i class=\"fa-solid fa-location-dot fa-xl\" style={{color:\"#B197FC\"}}></i>\n                </span>\n                \n              </div>\n            </div>\n          </div>\n          <div className=\"btn\" onClick={handleSubmit}>\n            <button  className=\"date-btn\">\n              <p className=\"date-content\">Schedule Date</p>\n            </button>\n          </div>\n        </>\n          ) : showClock ? (\n            <div className=\"clockArea\">\n            \n            </div>\n            \n      ) : (\n        <div className=\"calenderArea\">\n          <Calendar\n            dateFormat=\"DD/MM/YYYY\"\n            onChange={handleDateChange}\n            value={selectedDate}\n          \n          />\n        </div>\n      )}\n      \n    </Modal>\n  );\n};\n\nexport default CalenderScheduleMetri;\n","import React from 'react'\nimport { MutatingDots } from 'react-loader-spinner'\n\nconst LoaderChat = (Lodder) => {\n    const loaderStyles = {\n        margin: \"auto\",\n        position: \"fixed\",\n        top: \"50%\",\n        left: \"60%\",\n        transform: \"translate(-50%, -50%)\",\n        zIndex: 9999,\n    };\n    return (\n        <div className=''>\n            <MutatingDots\n                visible={true}\n                height=\"100\"\n                width=\"100\"\n                color=\"#f24570\"\n                secondaryColor=\"#FCD9E2\"\n                radius=\"12.5\"\n                ariaLabel=\"mutating-dots-loading\"\n                wrapperStyle={loaderStyles}\n                wrapperClass=\"\"\n            />\n        </div>\n    )\n}\n\nexport default LoaderChat;","import React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst IncomingCallModal = ({ show, onHide }) => {\n    return (\n        <Modal show={show} onHide={onHide} centered className=\"incoming-call-modal\">\n            <Modal.Header closeButton>\n                <Modal.Title>Incoming Call</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"call-info\">\n                    <p><strong>John Doe</strong> is calling...</p>\n                    <p>Incoming Call - Audio</p>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"success\" onClick={() => console.log('Answer call')}>\n                    Answer\n                </Button>\n                <Button variant=\"danger\" onClick={onHide}>\n                    Decline\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default IncomingCallModal;\n","import React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nconst VideoCallModal = ({ show, onHide }) => {\n    return (\n        <Modal show={show} onHide={onHide} centered className=\"video-call-modal\">\n            <Modal.Header closeButton>\n                <Modal.Title>Video Call</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <div className=\"video-call-container\">\n                    <div className=\"video-feed\">\n                        <p>Your video feed will appear here</p>\n                        {/* Replace with actual video feed */}\n                    </div>\n                    <div className=\"video-feed\">\n                        <p>John Doe's video feed will appear here</p>\n                        {/* Replace with actual video feed */}\n                    </div>\n                </div>\n                <div className=\"call-info\">\n                    <p><strong>John Doe</strong> is calling...</p>\n                </div>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"success\" onClick={() => console.log('Start Video Call')}>\n                    Start Video Call\n                </Button>\n                <Button variant=\"danger\" onClick={onHide}>\n                    Decline\n                </Button>\n            </Modal.Footer>\n        </Modal>\n    );\n};\n\nexport default VideoCallModal;\n","\nimport React, { useEffect, useRef, useState } from \"react\";\nimport {\n  MDBContainer,\n  MDBRow,\n  MDBCol,\n  MDBCard,\n  MDBCardBody,\n  MDBIcon,\n  MDBTypography,\n  MDBInputGroup,\n} from \"mdb-react-ui-kit\";\nimport { Scrollbars } from \"react-custom-scrollbars-2\";\nimport HeaderFour from \"../component/layout/HeaderFour\";\nimport EmojiPicker from \"emoji-picker-react\";\nimport io from \"socket.io-client\";\n\nimport { messages } from \"../../dating/component/chat2-component/message\";\n\nimport img2 from \"../../dating/assets/images/shop/dating/1.jpg\";\nimport img1 from \"../../dating/assets/images/shop/dating/2.jpg\";\nimport img3 from \"../../dating/assets/images/shop/dating/3.jpg\";\nimport img4 from \"../../dating/assets/images/shop/dating/4.jpg\";\nimport img5 from \"../../dating/assets/images/shop/dating/5.jpg\";\nimport img6 from \"../../dating/assets/images/shop/dating/6.jpg\";\nimport img7 from \"../../dating/assets/images/shop/dating/7.jpg\";\nimport img8 from \"../../dating/assets/images/shop/dating/8.jpg\";\nimport img9 from \"../../dating/assets/images/shop/dating/9.jpg\";\nimport img10 from \"../../dating/assets/images/shop/dating/10.png\";\nimport img11 from \"../../dating/assets/images/shop/dating/11.png\";\nimport chatBG from \"../assets/images/bg-img/marrage-chat-bg.jpg\";\nimport dummyUserPic from \"../../dating/assets/images/myCollection/user-male.jpg\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport CheckCompatibilityModalMetri from \"../component/popUps/chat/checkCompatibilty\";\nimport RelationshipMilestoneTrackerMetri from \"../component/popUps/chat/MildStoneModal\";\nimport BlockUserModalMetri from \"../component/popUps/common-profile/block-user\";\nimport ReportUserModalMetri from \"../component/popUps/common-profile/reportUserModal\";\nimport CalenderScheduleMetri from \"../component/popUps/chat/calenderSchedule\";\nimport Lodder from \"../component/layout/Lodder\";\nimport LoaderChat from \"../component/layout/loadderChat\";\nimport EventCalenderScheduleModal from \"../component/popUps/event/eventCalenderSchedule \";\nimport EventNotificationScheduleModal from \"../component/popUps/event/eventNotificationSchedule \";\nimport userMale from \"../../dating/assets/images/myCollection/user-male.jpg\";\nimport IncomingCallModal from \"../component/popUps/incomingcalls/IncomingCallModal.jsx\";\nimport VideoCallModal from \"../component/popUps/incomingcalls/VideoCallModal.jsx\";\nimport { BASE_URL } from \"../../base\";\nimport { getBlockedUsers, unblockUser, checkIfBlockedBy } from \"../../service/common-service/blockSlice\";\nimport { checkMutualActivities } from \"../../service/common-service/getuserbyGender\";\n\nconst SOCKET_URL = \"http://38.242.230.126:4457\";\n\nexport default function Chat() {\n  const dispatch = useDispatch();\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [chatMessages, setChatMessages] = useState([]);\n \n  const [allMessages, setAllMessages] = useState({}); \n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [selectedEmojis, setSelectedEmojis] = useState([]);\n  const [SelectedFile, setSelectedFile] = useState(null);\n  const scrollbarsRef = useRef(null);\n  const [CheckCompatibility, setCheckCompatibility] = useState(false);\n  const [NotificationSchedule, setNotificationSchedule] = useState(false);\n  const [calenderSchedule, setCalenderSchedule] = useState(false);\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [blocklUser, setBlockUser] = useState(false);\n  const [reportUser, setReportUser] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [showClock, setShowClock] = useState(false);\n  const [Milestone, setMilestone] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [isMobileView, setIsMobileView] = useState(false);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filteredItems, setFilteredItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [loadingChat, setLoadingChat] = useState(true);\n  const [editIndex, setEditIndex] = useState(null);\n  const [ViewUser] = useState([]);\n  const [currentRoom, setCurrentRoom] = useState(null);\n  const [isTyping, setIsTyping] = useState(false);\n  const [typingUser, setTypingUser] = useState(null);\n  const [isCreatingRoom, setIsCreatingRoom] = useState(false);\n  const [inboxRooms, setInboxRooms] = useState([]);\n  const [editingMessage, setEditingMessage] = useState(null);\n  const [replyingToMessage, setReplyingToMessage] = useState([]);\n  const currentRoomObj = inboxRooms.find((room) => room.roomId === currentRoom);\n  const otherUserName = currentRoomObj?.otherUser?.name;\n  const [chatPagination, setChatPagination] = useState({ page: 1, limit: 50, total: 0, pages: 0 });\n  const [messageRestricted, setMessageRestricted] = useState(false);\n  const [socketConnected, setSocketConnected] = useState(false);\n  const [mutualActivities, setMutualActivities] = useState({});\n  const [unreadCounts, setUnreadCounts] = useState({});\n  const [showNotification, setShowNotification] = useState(false);\n  \n  const blockedUsersRaw = useSelector((state) => state.block.blockedUsers);\n  const blockedUsers = Array.isArray(blockedUsersRaw) ? blockedUsersRaw : [];\n  const blockedByUsers = useSelector((state) => state.block.blockedByUsers || {});\n\n  const saveChatToStorage = (roomId, messages) => {\n    try {\n      const chatKey = `chat_history_${roomId}`;\n      const chatData = {\n        messages: messages,\n        timestamp: new Date().toISOString(),\n        userId: user?._id\n      };\n      localStorage.setItem(chatKey, JSON.stringify(chatData));\n      console.log(\" Saved chat history to localStorage for room:\", roomId, \"Messages:\", messages.length);\n    } catch (error) {\n      console.error(\" Failed to save chat to localStorage:\", error);\n    }\n  };\n\n  const loadChatFromStorage = (roomId) => {\n    try {\n      const chatKey = `chat_history_${roomId}`;\n      const storedData = localStorage.getItem(chatKey);\n      \n      if (storedData) {\n        const chatData = JSON.parse(storedData);\n        \n        const dataAge = new Date() - new Date(chatData.timestamp);\n        const maxAge = 24 * 60 * 60 * 1000; // 24 hours in milliseconds\n        \n        if (chatData.userId === user?._id && dataAge < maxAge) {\n          console.log(\" Loaded chat history from localStorage for room:\", roomId, \"Messages:\", chatData.messages.length);\n          return chatData.messages;\n        } else {\n          localStorage.removeItem(chatKey);\n          console.log(\" Removed old/invalid chat data for room:\", roomId);\n        }\n      }\n    } catch (error) {\n      console.error(\" Failed to load chat from localStorage:\", error);\n    }\n    return [];\n  };\n\n  const clearOldChatCache = () => {\n    try {\n      const keys = Object.keys(localStorage);\n      const chatKeys = keys.filter(key => key.startsWith('chat_history_'));\n      \n      chatKeys.forEach(key => {\n        try {\n          const storedData = localStorage.getItem(key);\n          if (storedData) {\n            const chatData = JSON.parse(storedData);\n            const dataAge = new Date() - new Date(chatData.timestamp);\n            const maxAge = 24 * 60 * 60 * 1000; // 24 hours\n            \n            if (dataAge >= maxAge || chatData.userId !== user?._id) {\n              localStorage.removeItem(key);\n              console.log(\" Cleared old chat cache:\", key);\n            }\n          }\n        } catch (error) {\n          localStorage.removeItem(key);\n          console.log(\" Removed corrupted chat data:\", key);\n        }\n      });\n    } catch (error) {\n      console.error(\" Failed to clear old chat cache:\", error);\n    }\n  };\n\n  const profileData = useSelector((state) => state.profile.userData);\n\n  const User = profileData;\n\n  const datingId = localStorage.getItem(\"userData\");\n  const user_Data = JSON.parse(datingId);\n  const user = user_Data?.data;\n  const Store = useSelector((state) => state);\n  let matchUserList = useSelector(\n    (state) => Store?.activies?.Activity?.data || []\n  );\n\n  const isCurrentUserBlockedByMe = () => {\n    if (!selectedUser?.receiverUserId?._id) return false;\n    return blockedUsers.some(\n      (blockedUser) => blockedUser?.blocked?._id === selectedUser?.receiverUserId?._id\n    );\n  };\n\n  const isBlockedByCurrentUser = () => {\n    if (!selectedUser?.receiverUserId?._id) return false;\n    return blockedByUsers[selectedUser?.receiverUserId?._id] === true;\n  };\n\n  // Check if users have mutual likes/favorites\n  const checkMutualLikes = async (userId1, userId2) => {\n    try {\n      const result = await dispatch(checkMutualActivities({\n        userId1,\n        userId2,\n        modeId: user?.mode || user_Data?.data?.mode\n      })).unwrap();\n      \n      const key = `${userId1}-${userId2}`;\n      const reverseKey = `${userId2}-${userId1}`;\n      const isMutual = result?.data?.isMutual || false;\n      \n      setMutualActivities(prev => ({\n        ...prev,\n        [key]: isMutual,\n        [reverseKey]: isMutual // Set both directions for easier lookup\n      }));\n      \n      return isMutual;\n    } catch (error) {\n      console.error(\"Error checking mutual activities:\", error);\n      // Default to true if API fails to avoid blocking messages\n      const key = `${userId1}-${userId2}`;\n      const reverseKey = `${userId2}-${userId1}`;\n      setMutualActivities(prev => ({\n        ...prev,\n        [key]: true,\n        [reverseKey]: true\n      }));\n      return true;\n    }\n  };\n\n  // Check if message should be visible based on mutual likes\n  const isMessageVisible = (message, currentUserId, otherUserId) => {\n    // Always show own messages\n    if (message.senderId?._id === currentUserId) {\n      return true;\n    }\n    \n    // Check if users have mutual likes/favorites\n    const key = `${currentUserId}-${otherUserId}`;\n    const hasMutualLikes = mutualActivities[key];\n    \n    return hasMutualLikes;\n  };\n\n  // Update unread count for a room\n  const updateUnreadCount = (roomId, count) => {\n    setUnreadCounts(prev => ({\n      ...prev,\n      [roomId]: count\n    }));\n  };\n\n  // Get unread count for a room\n  const getUnreadCount = (roomId) => {\n    return unreadCounts[roomId] || 0;\n  };\n\n  // Clear unread count for a room\n  const clearUnreadCount = (roomId) => {\n    setUnreadCounts(prev => ({\n      ...prev,\n      [roomId]: 0\n    }));\n  };\n\n  // Calculate total unread messages with mutual likes requirement\n  const getTotalUnreadMessages = () => {\n    let total = 0;\n    Object.keys(unreadCounts).forEach(roomId => {\n      const count = unreadCounts[roomId];\n      if (count > 0) {\n        // Find the room to get the other user\n        const room = inboxRooms.find(r => r.roomId === roomId);\n        if (room?.otherUser?._id) {\n          const key = `${user?._id}-${room.otherUser._id}`;\n          if (mutualActivities[key]) {\n            total += count;\n          }\n        }\n      }\n    });\n    return total;\n  };\n\n  // Show notification for new messages\n  const showNewMessageNotification = (roomId, senderName) => {\n    const totalUnread = getTotalUnreadMessages();\n    if (totalUnread > 0) {\n      setShowNotification(true);\n      setTimeout(() => setShowNotification(false), 3000);\n    }\n  };\n\n  const handleUnblockFromChat = async () => {\n    if (!selectedUser?.receiverUserId?._id) return;\n    \n    try {\n      console.log(`Unblocking user from chat: ${selectedUser?.receiverUserId?._id}`);\n      await dispatch(unblockUser(selectedUser?.receiverUserId?._id)).unwrap();\n      if (user?._id) {\n        dispatch(getBlockedUsers(user._id));\n      }\n    } catch (error) {\n      console.error('Failed to unblock user:', error);\n    }\n  };\n\n  const [showModal, setShowModal] = useState(false);\n  const [showVideoCallModal, setShowVideoCallModal] = useState(false);\n\n  const socketRef = useRef(null);\n\n  const handleShow = () => setShowModal(true);\n  const handleHide = () => setShowModal(false);\n  const handleShowVideoCall = () => setShowVideoCallModal(true);\n  const handleHideVideoCall = () => setShowVideoCallModal(false);\n\n  useEffect(() => {\n    if (user?._id) {\n      dispatch(getBlockedUsers(user._id));\n    }\n  }, [dispatch, user?._id]);\n\n\n  useEffect(() => {\n    if (user?._id && selectedUser?.receiverUserId?._id) {\n      dispatch(checkIfBlockedBy({\n        currentUserId: user._id,\n        targetUserId: selectedUser.receiverUserId._id\n      }));\n      \n      // Check mutual activities when user is selected\n      checkMutualLikes(user._id, selectedUser.receiverUserId._id);\n    }\n  }, [dispatch, user?._id, selectedUser?.receiverUserId?._id]);\n\n  useEffect(() => {\n    if (!user?._id) return;\n\n    clearOldChatCache();\n\n    socketRef.current = io(SOCKET_URL, {\n      query: { userId: user._id },\n    });\n\n    socketRef.current.on(\"connect\", () => {\n      console.log(\"Connected to chat server\");\n      setSocketConnected(true);\n    });\n\n    socketRef.current.on(\"disconnect\", () => {\n      console.log(\"Disconnected from chat server\");\n      setSocketConnected(false);\n    });\n\n    socketRef.current.on(\"user_connected\", (data) => {\n      console.log(\"User connected:\", data);\n      if (data.roomId === currentRoom) {\n        console.log(\"Other user joined the current room\");\n      }\n    });\n\n    socketRef.current.on(\"user_disconnected\", (data) => {\n      console.log(\"User disconnected:\", data);\n      if (data.roomId === currentRoom) {\n        console.log(\"Other user left the current room\");\n      }\n    });\n\n    socketRef.current.on(\"room_created\", (data) => {\n      console.log(\"Room created:\", data);\n    });\n\n    socketRef.current.on(\"room_list\", (data) => {\n      console.log(\"My rooms:\", data);\n      setInboxRooms(data || []);\n    });\n\n    socketRef.current.on(\"room_joined\", (data) => {\n      console.log(\"Room joined:\", data);\n      console.log(\"Current user ID:\", user._id, \"joined room:\", data.roomId);\n      if (data.roomId) {\n        console.log(\"Requesting chat history for joined room:\", data.roomId);\n        // Clear unread count when joining a room\n        clearUnreadCount(data.roomId);\n        socketRef.current.emit(\"get_chat\", {\n          roomId: data.roomId,\n          page: 1,\n          limit: 50,\n        });\n      }\n    });\n\n    socketRef.current.on(\"new_message\", async (data) => {\n      console.log(\"New message received:\", data);\n      console.log(\"Current room:\", currentRoom);\n      console.log(\"Message room ID:\", data.roomId);\n      console.log(\"Message data:\", data.message);\n      console.log(\"Message sender ID:\", data.message.senderId?._id);\n      console.log(\"Current user ID:\", user._id);\n      \n      const senderId = data.message.senderId?._id;\n      const isBlockedSender = blockedUsers.some(\n        (blockedUser) => blockedUser?.blocked?._id === senderId\n      );\n      \n     \n      const isBlockedByThisSender = blockedByUsers[senderId] === true;\n      \n     \n      if (isBlockedSender || isBlockedByThisSender) {\n        console.log(\"Message blocked - user is blocked or has blocked you\");\n        return;\n      }\n\n      // Check if message should be visible (mutual likes + not blocked)\n      const isVisible = await isMessageVisible(data.message, user._id, senderId);\n      if (!isVisible) {\n        console.log(\"Message blocked - no mutual likes/favorites or user is blocked\");\n        return;\n      }\n     \n      if (data.message.senderId?._id !== user._id) {\n        console.log(\"Message from other user - resetting restriction\");\n        setMessageRestricted(false);\n      }\n      \n      setAllMessages((prev) => {\n        const updatedMessages = [...(prev[data.roomId] || []), data.message];\n        \n      \n        saveChatToStorage(data.roomId, updatedMessages);\n        \n        return {\n          ...prev,\n          [data.roomId]: updatedMessages,\n        };\n      });\n\n      setInboxRooms((prev) => {\n        return prev.map((room) => {\n          if (room.roomId === data.roomId) {\n            return {\n              ...room,\n              lastMessage: {\n                content: data.message.content || data.message.message,\n                createdAt: data.message.createdAt || new Date().toISOString(),\n                senderId: data.message.senderId\n              },\n              updatedAt: new Date().toISOString()\n            };\n          }\n          return room;\n        });\n      });\n\n      if (data.roomId === currentRoom) {\n        console.log(\"Updating current chat messages\");\n        \n        if (data.message.senderId?._id === user._id) {\n          setChatMessages((prev) => {\n            const filteredMessages = prev.filter(msg => !msg.isTemporary);\n            console.log(\"Removing temporary messages and adding real message\");\n            return [...filteredMessages, data.message];\n          });\n        } else {\n          setChatMessages((prev) => [...prev, data.message]);\n        }\n        \n        scrollToBottom();\n      } else {\n        console.log(\"Message not for current room, storing in cache\");\n        // Update unread count for other rooms\n        if (data.message.senderId?._id !== user._id) {\n          updateUnreadCount(data.roomId, getUnreadCount(data.roomId) + 1);\n          // Show notification for new messages\n          showNewMessageNotification(data.roomId, data.message.senderId?.name);\n        }\n      }\n    });\n\n    socketRef.current.on(\"message_edited\", (data) => {\n      console.log(\"Message edited:\", data);\n      setAllMessages((prev) => ({\n        ...prev,\n        [data.roomId]:\n          prev[data.roomId]?.map((msg) =>\n            msg._id === data.message._id ? data.message : msg\n          ) || [],\n      }));\n\n      if (data.roomId === currentRoom) {\n        setChatMessages((prev) =>\n          prev.map((msg) => (msg._id === data.message._id ? data.message : msg))\n        );\n      }\n    });\n\n    socketRef.current.on(\"message_deleted\", (data) => {\n      console.log(\"Message deleted:\", data);\n      setAllMessages((prev) => ({\n        ...prev,\n        [data.roomId]:\n          prev[data.roomId]?.filter((msg) => msg._id !== data.messageId) || [],\n      }));\n\n      if (data.roomId === currentRoom) {\n        setChatMessages((prev) =>\n          prev.filter((msg) => msg._id !== data.messageId)\n        );\n      }\n    });\n\n    socketRef.current.on(\"message_replied\", (data) => {\n      console.log(\"Message replied:\", data);\n      console.log(\"Reply sender ID:\", data.message.senderId?._id);\n      console.log(\"Current user ID:\", user._id);\n      \n      if (data.message.senderId?._id !== user._id) {\n        console.log(\"Reply from other user - resetting restriction\");\n        setMessageRestricted(false);\n      }\n      \n      setAllMessages((prev) => {\n        const updatedMessages = [...(prev[data.roomId] || []), data.message];\n        \n       \n        saveChatToStorage(data.roomId, updatedMessages);\n        \n        return {\n          ...prev,\n          [data.roomId]: updatedMessages,\n        };\n      });\n\n     \n      setInboxRooms((prev) => {\n        return prev.map((room) => {\n          if (room.roomId === data.roomId) {\n            return {\n              ...room,\n              lastMessage: {\n                content: data.message.content || data.message.message,\n                createdAt: data.message.createdAt || new Date().toISOString(),\n                senderId: data.message.senderId\n              },\n              updatedAt: new Date().toISOString()\n            };\n          }\n          return room;\n        });\n      });\n\n     \n      if (data.roomId === currentRoom) {\n        console.log(\"Updating current chat messages with reply\");\n        setChatMessages((prev) => [...prev, data.message]);\n        scrollToBottom();\n      }\n    });\n\n    socketRef.current.on(\"chat_history\", async (data) => {\n      console.log(\"Chat history received for room:\", data.roomId, \"Messages:\", data.messages?.length || 0);\n      console.log(\"Current room:\", currentRoom);\n      console.log(\"Messages data:\", data.messages);\n      console.log(\"Pagination data:\", data.pagination);\n      \n     \n      if (data.messages && data.messages.length > 0) {\n        const hasMessagesFromBothUsers = data.messages.some(msg => \n          msg.senderId?._id !== user._id\n        );\n        if (hasMessagesFromBothUsers) {\n          console.log(\"Both users have exchanged messages - enabling unlimited chat\");\n          setMessageRestricted(false);\n        }\n      }\n      \n     \n      if (data.pagination) {\n        setChatPagination(data.pagination);\n        console.log(\"Updated pagination:\", data.pagination);\n      }\n\n     \n      const isFirstPage = !data.pagination || data.pagination.page === 1;\n      \n      // Filter messages based on mutual likes\n      const filteredMessages = data.messages?.filter(msg => {\n        if (msg.senderId?._id === user._id) return true; // Always show own messages\n        \n        // For messages from other users, check if they have mutual likes\n        const key = `${user._id}-${msg.senderId?._id}`;\n        return mutualActivities[key] === true;\n      }) || [];\n      \n     \n      setAllMessages((prev) => {\n        const existingMessages = prev[data.roomId] || [];\n        \n        let updatedMessages;\n        if (isFirstPage) {\n         \n          updatedMessages = filteredMessages;\n        } else {\n         \n          const combinedMessages = [...filteredMessages, ...existingMessages];\n          updatedMessages = combinedMessages.filter((msg, index, self) => \n            index === self.findIndex(m => m._id === msg._id)\n          );\n        }\n\n       \n        saveChatToStorage(data.roomId, updatedMessages);\n\n        return {\n          ...prev,\n          [data.roomId]: updatedMessages,\n        };\n      });\n\n      \n      if (data.roomId === currentRoom) {\n        console.log(\"Updating current chat messages with:\", filteredMessages?.length || 0, \"filtered messages\");\n        \n        if (isFirstPage) {\n          \n          setChatMessages(filteredMessages || []);\n        } else {\n          \n          setChatMessages((prev) => {\n            const combinedMessages = [...filteredMessages, ...prev];\n            const uniqueMessages = combinedMessages.filter((msg, index, self) => \n              index === self.findIndex(m => m._id === msg._id)\n            );\n            return uniqueMessages;\n          });\n        }\n        \n        setLoadingChat(false);\n        setTimeout(() => scrollToBottom(), 100);\n      } else {\n        console.log(\"Room ID mismatch - not updating current chat\");\n      }\n    });\n\n    \n    socketRef.current.on(\"room_found\", (roomData) => {\n      console.log(\"Room found via fallback:\", roomData);\n      if (roomData && roomData.roomId) {\n        setCurrentRoom(roomData.roomId);\n        setLoadingChat(false);\n        \n        \n        socketRef.current.emit(\"get_chat\", {\n          roomId: roomData.roomId,\n          page: 1,\n          limit: 50,\n        });\n      }\n    });\n\n    \n    socketRef.current.on(\"user_typing\", (data) => {\n      if (data.roomId === currentRoom && data.userId !== user._id) {\n        setTypingUser(data.userName);\n        setIsTyping(true);\n      }\n    });\n\n    socketRef.current.on(\"user_stopped_typing\", (data) => {\n      if (data.roomId === currentRoom && data.userId !== user._id) {\n        setIsTyping(false);\n        setTypingUser(null);\n      }\n    });\n\n    \n    socketRef.current.on(\"error\", (error) => {\n      console.error(\"Socket error:\", error);\n      \n      \n      // E11000 duplicate errors are handled by ensureRoomForUser's room_error handler\n      // Don't handle them in this global error handler to avoid conflicts\n      \n      \n      if (error.message && error.message.includes(\"not_allowed_more_messages\")) {\n        console.log(\"Message sending restricted:\", error.message);\n        setMessageRestricted(true);\n        \n        \n        setChatMessages((prev) => prev.filter(msg => !msg.isTemporary));\n        setAllMessages((prev) => ({\n          ...prev,\n          [currentRoom]: prev[currentRoom]?.filter(msg => !msg.isTemporary) || []\n        }));\n        \n        alert(\"You have reached the message limit. Please wait for the other user to respond to continue the conversation.\");\n      }\n\n\n      if (error.message && error.message.includes(\"chat_history\")) {\n        console.log(\"Chat history error:\", error.message);\n        setLoadingChat(false);\n        \n        // alert(\"Failed to load chat history. Please try again.\");\n      }\n    });\n\n    \n    socketRef.current.emit(\"get_my_rooms\", { userId: user._id });\n\n    \n    return () => {\n      if (socketRef.current) {\n        socketRef.current.disconnect();\n      }\n    };\n  }, [user?._id, currentRoom]);\n\n    \n    useEffect(() => {\n      if (currentRoom && socketRef.current) {\n        console.log(\"Room changed to:\", currentRoom);\n        console.log(\"All messages cache:\", allMessages);\n        \n        \n        if (allMessages[currentRoom] && allMessages[currentRoom].length > 0) {\n          const nonTemporaryMessages = allMessages[currentRoom].filter(msg => !msg.isTemporary);\n          console.log(\"Loading cached messages for room:\", currentRoom, \"Count:\", nonTemporaryMessages.length);\n          setChatMessages(nonTemporaryMessages);\n          setLoadingChat(false);\n          setTimeout(() => scrollToBottom(), 100);\n        } else {\n          \n          const cachedMessages = loadChatFromStorage(currentRoom);\n          if (cachedMessages.length > 0) {\n            console.log(\" Loading messages from localStorage for room:\", currentRoom, \"Count:\", cachedMessages.length);\n            setChatMessages(cachedMessages);\n            setAllMessages((prev) => ({\n              ...prev,\n              [currentRoom]: cachedMessages,\n            }));\n            setLoadingChat(false);\n            setTimeout(() => scrollToBottom(), 100);\n            \n            \n            socketRef.current.emit(\"join_room\", { roomId: currentRoom });\n          } else {\n            console.log(\"No cached messages, joining room and fetching chat history:\", currentRoom);\n            \n            socketRef.current.emit(\"join_room\", { roomId: currentRoom });\n          }\n        }\n      } else {\n        setChatMessages([]);\n      }\n    }, [currentRoom, allMessages]);\n\n  \n  useEffect(() => {\n    let typingTimer;\n\n    if (inputMessage.trim() && currentRoom && socketRef.current) {\n      socketRef.current.emit(\"typing_start\", { roomId: currentRoom });\n\n      clearTimeout(typingTimer);\n      typingTimer = setTimeout(() => {\n        if (socketRef.current) {\n          socketRef.current.emit(\"typing_stop\", { roomId: currentRoom });\n        }\n      }, 1000);\n    }\n\n    return () => clearTimeout(typingTimer);\n  }, [inputMessage, currentRoom]);\n\n  const clockTime = () => {\n    setCalenderSchedule(false);\n    setTimeout(() => {\n      setShowClock(true);\n    }, 500);\n  };\n\n  const calenderDate = () => {\n    setCalenderSchedule(false);\n    setTimeout(() => {\n      setShowCalendar(true);\n    }, 500);\n  };\n\n  const calenderScheduleDAte = () => {\n    setNotificationSchedule(false);\n    setTimeout(() => {\n      setCalenderSchedule(true);\n    }, 500);\n  };\n\n  const userInfoDate = (data) => {\n    setTimeout(() => {\n      setNotificationSchedule(true);\n    }, 500);\n  };\n\n  const handleToggleEmojiPicker = () => {\n    setShowEmojiPicker(!showEmojiPicker);\n  };\n\n  const handleSelectEmoji = (emojiObject) => {\n    const { emoji } = emojiObject;\n    setInputMessage((prevMessage) => prevMessage + emoji);\n  };\n\n  const handleFileChange = (e) => {\n    const files = e.target.files;\n    if (files.length > 0) { \n      const selectedFile = files[0];\n      setSelectedFile(selectedFile);\n      // const imageUrl = URL.createObjectURL(selectedFile);\n    }\n  };\n\n  \n  const ensureRoomForUser = (targetUserId) => { \n    console.log(\" ensureRoomForUser called for:\", targetUserId);\n    \n    if (!socketRef.current || !user?._id || !targetUserId) {\n      console.log(\" Missing socket, user, or targetUserId\");\n      setLoadingChat(false);\n      return;\n    }\n\n    \n    socketRef.current.off(\"room_list\");     \n    socketRef.current.off(\"rooms_list\");    \n    socketRef.current.off(\"room_created\");\n    socketRef.current.off(\"room_error\");\n\n    setIsCreatingRoom(true);\n\n    const handleRoomsList = (rooms = []) => {\n      console.log(\" Rooms list received:\", rooms?.length, \"rooms\");\n      console.log(\"Looking for room with user:\", targetUserId);\n      console.log(\"All rooms:\", rooms);\n      \n\n      const existing = rooms.find((r) => {\n        if (r?.otherUser?._id === targetUserId) return true;\n        \n        if (Array.isArray(r?.users)) {\n          return r.users.some(u => u?._id === targetUserId || u === targetUserId);\n        }\n        \n        if (Array.isArray(r?.participants)) {\n          return r.participants.some(p => p?._id === targetUserId || p === targetUserId);\n        }\n        \n        return false;\n      });\n      \n      if (existing) {\n        const roomId = existing.roomId || existing._id || existing.id;\n        console.log(\" Found existing room:\", roomId);\n        setCurrentRoom(roomId);\n        socketRef.current.emit(\"join_room\", { roomId });\n        setLoadingChat(false);\n        setIsCreatingRoom(false);\n        cleanup();\n      } else {\n        console.log(\" No existing room found, creating new room\");\n        console.log(\"Creating room between:\", user._id, \"and\", targetUserId);\n        socketRef.current.emit(\"create_room\", { userId: user._id, toUserId: targetUserId });\n      }\n    };\n\n    const handleRoomCreated = (roomData = {}) => {\n      const roomId = roomData.roomId || roomData._id || roomData.id;\n      console.log(\" Room created successfully:\", roomId);\n      console.log(\"Room data:\", roomData);\n      \n      if (roomId) {\n        setCurrentRoom(roomId);\n        socketRef.current.emit(\"join_room\", { roomId });\n        console.log(\" Joining room:\", roomId);\n      } else {\n        console.log(\" No room ID in room_created response\");\n      }\n      setLoadingChat(false);\n      setIsCreatingRoom(false);\n      cleanup();\n    };\n\n    const handleRoomError = (error) => {\n      console.log(\" Room error:\", error);\n      \n      if (error?.message?.includes(\"E11000 duplicate key error\")) {\n        console.log(\" Room already exists, trying to find it...\");\n        \n        console.log(\"Searching for existing room between:\", user._id, \"and\", targetUserId);\n        socketRef.current.emit(\"find_room_by_users\", { \n          userId: user._id, \n          otherUserId: targetUserId \n        });\n        \n        setTimeout(() => {\n          socketRef.current.emit(\"get_my_rooms\", { userId: user._id });\n        }, 500);\n        \n        return; \n      }\n      \n      console.log(\" Unhandled room error, stopping\");\n      setLoadingChat(false);\n      setIsCreatingRoom(false);\n      cleanup();\n    };\n\n    const handleRoomFound = (roomData) => {\n      console.log(\" Room found:\", roomData);\n      const roomId = roomData?.roomId || roomData?._id || roomData?.id;\n      \n      if (roomId) {\n        console.log(\" Using found room:\", roomId);\n        setCurrentRoom(roomId);\n        socketRef.current.emit(\"join_room\", { roomId });\n        setLoadingChat(false);\n        setIsCreatingRoom(false);\n        cleanup();\n      } else {\n        console.log(\" Found room but no ID\");\n      }\n    };\n\n    const cleanup = () => {\n      console.log(\" Cleaning up room event listeners\");\n      socketRef.current.off(\"room_list\", handleRoomsList);\n      socketRef.current.off(\"rooms_list\", handleRoomsList);\n      socketRef.current.off(\"room_created\", handleRoomCreated);\n      socketRef.current.off(\"room_error\", handleRoomError);\n      socketRef.current.off(\"room_found\", handleRoomFound);\n    };\n\n    socketRef.current.on(\"room_list\", handleRoomsList);\n    socketRef.current.on(\"rooms_list\", handleRoomsList);\n    socketRef.current.on(\"room_created\", handleRoomCreated);\n    socketRef.current.on(\"room_error\", handleRoomError);\n    socketRef.current.on(\"room_found\", handleRoomFound);\n\n    console.log(\" Requesting user's rooms from server\");\n    socketRef.current.emit(\"get_my_rooms\", { userId: user._id });\n  };\n\n  const handleUserSelect = async (userData) => {\n    console.log(\" User selected:\", userData?.receiverUserId?.name, userData?.receiverUserId?._id);\n    \n    if (selectedUser?.receiverUserId?._id === userData.receiverUserId._id) {\n      console.log(\" Same user selected, ignoring\");\n      return;\n    }\n    \n    console.log(\" Switching to new user...\");\n    setLoadingChat(true);\n    setSelectedUser(userData);\n    \n    console.log(\" Clearing current room and messages\");\n    setCurrentRoom(null);\n    setChatMessages([]);\n    \n    setIsTyping(false);\n    setTypingUser(null);\n    setIsCreatingRoom(false);\n    \n    console.log(\" Starting room creation/join process\");\n    ensureRoomForUser(userData.receiverUserId._id);\n  };\n\n  const scrollToBottom = () => {\n    if (scrollbarsRef.current) {\n      scrollbarsRef.current.scrollToBottom();\n    }\n  };\n\n  const handleSendMessage = () => {\n    console.log(\"Attempting to send message:\", {\n      inputMessage: inputMessage.trim(),\n      currentRoom,\n      socketConnected: !!socketRef.current,\n      messageRestricted\n    });\n\n    if (!inputMessage.trim()) {\n      console.log(\"No message to send\");\n      return;\n    }\n\n    if (!currentRoom) {\n      console.log(\"No current room set\");\n      alert(\"Please select a user first\");\n      return;\n    }\n\n    if (!socketRef.current) {\n      console.log(\"Socket not connected\");\n      alert(\"Connection lost. Please refresh the page.\");\n      return;\n    }\n\n    // Check if either user is blocked\n    if (isCurrentUserBlockedByMe()) {\n      console.log(\"Cannot send message - you have blocked this user\");\n      alert(\"You have blocked this user. Unblock to send messages.\");\n      return;\n    }\n\n    if (isBlockedByCurrentUser()) {\n      console.log(\"Cannot send message - you are blocked by this user\");\n      alert(\"You are blocked by this user. Cannot send messages.\");\n      return;\n    }\n\n    // Send message via socket\n    const messageData = {\n      roomId: currentRoom,\n      message: inputMessage.trim(),\n      replyToId: replyingToMessage?._id || null,\n    };\n    \n    console.log(\"Sending message:\", messageData);\n    socketRef.current.emit(\"send_message\", messageData);\n\n   \n    const tempMessage = {\n      _id: `temp_${Date.now()}`,\n      content: inputMessage.trim(),\n      senderId: { _id: user._id, name: user.name },\n      roomId: currentRoom,\n      createdAt: new Date().toISOString(),\n      isTemporary: true,\n      replyTo: replyingToMessage\n    };\n\n\n    setChatMessages((prev) => [...prev, tempMessage]);\n\n    console.log(\"Message sent successfully\");\n    setInputMessage(\"\");\n    setSelectedEmojis([]);\n    setSelectedFile(null);\n    setShowEmojiPicker(false);\n    setReplyingToMessage(null);\n\n    \n    if (socketRef.current) {\n      socketRef.current.emit(\"typing_stop\", { roomId: currentRoom });\n    }\n\n    \n    setTimeout(() => scrollToBottom(), 100);\n  };\n\n  \n  const handleEditMessage = (messageId, newContent) => {\n    if (!socketRef.current || !messageId || !newContent.trim()) {\n      return;\n    }\n\n    console.log(\"Editing message:\", { messageId, newContent });\n    socketRef.current.emit(\"edit_message\", {\n      messageId: messageId,\n      newContent: newContent.trim()\n    });\n\n    setEditingMessage(null);\n  };\n\n  \n  const handleDeleteMessage = (messageId) => {\n    if (!socketRef.current || !messageId) {\n      return;\n    }\n\n    if (window.confirm(\"Are you sure you want to delete this message?\")) {\n      console.log(\"Deleting message:\", messageId);\n      socketRef.current.emit(\"delete_message\", {\n        messageId: messageId\n      });\n    }\n  };\n\n  \n  const handleReplyToMessage = (message) => {\n    setReplyingToMessage(message);\n    \n    setTimeout(() => {\n      const inputElement = document.querySelector('input[type=\"text\"]');\n      if (inputElement) {\n        inputElement.focus();\n      }\n    }, 100);\n  };\n\n  \n  const handleLoadMoreMessages = () => {\n    if (!socketRef.current || !currentRoom || loadingChat) {\n      return;\n    }\n\n    const nextPage = chatPagination.page + 1;\n    if (nextPage <= chatPagination.pages) {\n      console.log(\"Loading more messages, page:\", nextPage);\n      socketRef.current.emit(\"get_chat\", {\n        roomId: currentRoom,\n        page: nextPage,\n        limit: chatPagination.limit\n      });\n    }\n  };\n\n  \n  const requestChatHistory = (roomId, page = 1, limit = 50) => {\n    if (!socketRef.current || !roomId) {\n      console.error(\"Socket not connected or room ID missing\");\n      return;\n    }\n\n    console.log(\" Requesting chat history for room:\", roomId, \"page:\", page, \"limit:\", limit);\n    setLoadingChat(true);\n    \n    socketRef.current.emit(\"get_chat\", {\n      roomId: roomId,\n      page: page,\n      limit: limit\n    });\n  };\n\n  \n  const refreshCurrentChatHistory = () => {\n    if (currentRoom) {\n      console.log(\" Refreshing chat history for current room:\", currentRoom);\n      requestChatHistory(currentRoom, 1, 50);\n    } else {\n      console.log(\" No current room to refresh\");\n    }\n  };\n\n  \n  const testChatHistory = () => {\n    console.log(\" Testing chat history functionality:\");\n    console.log(\"- Current room:\", currentRoom);\n    console.log(\"- Socket connected:\", !!socketRef.current);\n    console.log(\"- Current messages count:\", chatMessages.length);\n    console.log(\"- Pagination:\", chatPagination);\n    console.log(\"- Cached messages in localStorage:\", currentRoom ? loadChatFromStorage(currentRoom).length : 0);\n    \n    if (currentRoom && socketRef.current) {\n      console.log(\" All conditions met, requesting chat history...\");\n      requestChatHistory(currentRoom, 1, 10); \n    } else {\n      console.log(\" Cannot test - missing room or socket connection\");\n    }\n  };\n\n\n  const testPersistence = () => {\n    console.log(\" Testing chat persistence:\");\n    console.log(\"- Current room:\", currentRoom);\n    \n    if (currentRoom) {\n      const cachedMessages = loadChatFromStorage(currentRoom);\n      console.log(\"- Cached messages count:\", cachedMessages.length);\n      console.log(\"- Cached messages:\", cachedMessages);\n      \n      \n      const keys = Object.keys(localStorage).filter(key => key.startsWith('chat_history_'));\n      console.log(\"- All chat cache keys:\", keys);\n      \n      keys.forEach(key => {\n        const data = JSON.parse(localStorage.getItem(key));\n        console.log(`- ${key}:`, {\n          messageCount: data.messages?.length || 0,\n          timestamp: data.timestamp,\n          userId: data.userId\n        });\n      });\n    } else {\n      console.log(\" No current room to test persistence\");\n    }\n  };\n\n  \n  const clearAllChatCache = () => {\n    const keys = Object.keys(localStorage).filter(key => key.startsWith('chat_history_'));\n    keys.forEach(key => localStorage.removeItem(key));\n    console.log(\" Cleared all chat cache:\", keys.length, \"entries\");\n  };\n\n  \n  React.useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.testChatHistory = testChatHistory;\n      window.testPersistence = testPersistence;\n      window.requestChatHistory = requestChatHistory;\n      window.clearAllChatCache = clearAllChatCache;\n      \n    }\n  }, [currentRoom, socketRef.current]);\n\n  const handleKeyDown = (e) => {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const giftItems = [\n    { id: 1, name: \"\", imgUrl: img1 },\n    { id: 2, name: \"\", imgUrl: img2 },\n    { id: 3, name: \"\", imgUrl: img3 },\n    { id: 4, name: \"\", imgUrl: img4 },\n    { id: 5, name: \"\", imgUrl: img5 },\n    { id: 6, name: \"\", imgUrl: img6 },\n    { id: 7, name: \"\", imgUrl: img7 },\n    { id: 8, name: \"\", imgUrl: img8 },\n    { id: 9, name: \"\", imgUrl: img9 },\n    { id: 10, name: \"\", imgUrl: img10 },\n    { id: 11, name: \"\", imgUrl: img11 },\n  ];\n\n  const handleSearch = (query) => {\n    const filtered = messages.filter((item) =>\n      item.name?.toLowerCase().includes(query?.toLowerCase())\n    );\n    setFilteredItems(filtered);\n  };\n\n  const handleChange = (event) => {\n    const query = event.target.value;\n    setSearchQuery(query);\n    handleSearch(query);\n  };\n\n  const [selectedData, setSelectedData] = useState([]);\n\n  const NotifyScheduleData = (data) => {\n    setSelectedData(data);\n    setCalenderSchedule(false);\n    setTimeout(() => {\n      setNotificationSchedule(true);\n    }, 500);\n  };\n\n  ///mobile view functions\n  useEffect(() => {\n    const handleResize = () => {\n      setIsMobileView(window.innerWidth <= 768);\n    };\n\n    handleResize();\n    window.addEventListener(\"resize\", handleResize);\n\n    return () => {\n      window.removeEventListener(\"resize\", handleResize);\n    };\n  }, []);\n\n  //loader main\n  useEffect(() => {\n    if (loading) {\n      setTimeout(() => {\n        setLoading(false);\n      }, 500);\n    }\n  }, [loading, loadingChat, selectedUser]);\n\n  useEffect(() => {\n    if (loadingChat && selectedUser) {\n      setTimeout(() => {\n        setLoadingChat(false);\n      }, 100);\n    }\n  }, [selectedUser, loadingChat]);\n\n  \n  const uniqueMatchUserList = Array.isArray(matchUserList)\n    ? matchUserList.filter(\n        (item, index, self) =>\n          item?.receiverUserId?._id &&\n          index ===\n            self.findIndex(\n              (m) => m?.receiverUserId?._id === item?.receiverUserId?._id\n            )\n      )\n    : [];\n\n  \n  const combinedUserList = React.useMemo(() => {\n   \n    const combined = [];\n    const addedUserIds = new Set();\n    \n    inboxRooms.forEach((room) => {\n      const userId = room?.otherUser?._id;\n      \n      if (!userId || !room?.otherUser) return;\n      \n      \n      combined.push({\n        receiverUserId: {\n          ...room.otherUser,\n          lastMessage: room.lastMessage,\n          roomId: room.roomId,\n          updatedAt: room.updatedAt\n        }\n      });\n      \n      addedUserIds.add(userId);\n    });\n    \n    \n    uniqueMatchUserList.forEach(user => {\n      const userId = user?.receiverUserId?._id;\n      \n      if (!userId || addedUserIds.has(userId)) return;\n      \n      \n      combined.push({\n        ...user,\n        receiverUserId: {\n          ...user.receiverUserId\n        }\n      });\n    });\n    \n    return combined.sort((a, b) => {\n      const timeA = new Date(a?.receiverUserId?.updatedAt || a?.receiverUserId?.lastMessage?.createdAt || 0);\n      const timeB = new Date(b?.receiverUserId?.updatedAt || b?.receiverUserId?.lastMessage?.createdAt || 0);\n      return timeB - timeA;\n    });\n  }, [uniqueMatchUserList, inboxRooms, blockedUsers, blockedByUsers]);\nconsole.log(\"combinedUserList\", combinedUserList);\n  const renderChatUsersList = () => {\n    return (\n      <div>\n        <MDBInputGroup className=\"rounded mb-3 px-lg-3\">\n          <input\n            className=\"form-control headerChat\"\n            placeholder=\"Search\"\n            type=\"search\"\n            style={{ height: 50 }}\n            onChange={handleChange}\n          />\n          <span\n            className=\"input-group-text border-0 pointer\"\n            id=\"search-addon\"\n            style={{\n              backgroundColor: \"rgb(242, 69, 112)\",\n              color: \"#FFFF\",\n            }}\n          >\n            <MDBIcon fas icon=\"search\" />\n          </span>\n        </MDBInputGroup>\n\n        <Scrollbars\n          className=\"chat-list-wrap\"\n          autoHide\n          style={{\n            position: \"relative\",\n            height: \"68vh\",\n            padding: \"0 0 0 10px\",\n          }}\n        >\n          <MDBTypography listUnStyled className=\"mb-0 m-3\">\n            {filteredItems.length > 0\n              ? combinedUserList.map((val, i) => (\n                  <li\n                    key={i}\n                    className={`p-2 border-bottom ${\n                      selectedUser?.receiverUserId?._id === val?.receiverUserId?._id\n                        ? \"bg-light\"\n                        : \"\"\n                    }`}\n                    onClick={() => handleUserSelect(val)}\n                    style={{\n                      cursor: \"pointer\",\n                      backgroundColor: selectedUser?.receiverUserId?._id === val?.receiverUserId?._id ? \"#f8f9fa\" : \"transparent\"\n                    }}\n                  >\n                    <a href=\"#!\" className=\"d-flex justify-content-between\">\n                      <div className=\"d-flex flex-row\">\n                        <div>\n                          <img\n                            src={\n                              val?.receiverUserId?.mainAvatar\n                                ? `${BASE_URL}/assets/images/${val?.receiverUserId?.mainAvatar}`\n                                : val?.receiverUserId?.avatars?.[0]\n                                ? `${BASE_URL}/assets/images/${val?.receiverUserId?.avatars[0]}`\n                                : userMale\n                            }\n                            alt=\"avatar\"\n                            className=\"d-flex align-self-center me-3 image21\"\n                            style={{\n                              borderRadius: \"50%\",\n                              maxWidth: \"55px\",\n                            }}\n                            onLoad={() => {\n                              console.log(\"Avatar image loaded successfully\");\n                            }}\n                            onError={(e) => {\n                              console.log(\"Avatar image failed to load:\", e.target.src);\n                              console.log(\"User data:\", val?.receiverUserId);\n                              e.target.src = userMale;\n                            }}\n                          />\n                          <span className=\"badge bg-success badge-dot\"></span>\n                        </div>\n\n                        <div className=\"pt-1\">\n                          <div className=\"d-flex align-items-center\">\n                            <p className=\"fw-bold mb-0 me-2\">\n                              {val?.receiverUserId?.name}\n                            </p>\n                            {(() => {\n                              const isBlocked = blockedUsers.some(\n                                (blockedUser) => blockedUser?.blocked?._id === val?.receiverUserId?._id\n                              );\n                              const isBlockedBy = blockedByUsers[val?.receiverUserId?._id] === true;\n                              \n                              if (isBlocked) {\n                                return (\n                                  <span \n                                    className=\"badge\" \n                                    style={{ \n                                      fontSize: '0.65rem',\n                                      backgroundColor: '#dc3545',\n                                      color: 'white',\n                                      padding: '4px 8px',\n                                      borderRadius: '12px',\n                                      fontWeight: '500'\n                                    }}\n                                  >\n                                    <i className=\"fa fa-ban me-1\"></i>Blocked\n                                  </span>\n                                );\n                              } else if (isBlockedBy) {\n                                return (\n                                  <span \n                                    className=\"badge\" \n                                    style={{ \n                                      fontSize: '0.65rem',\n                                      backgroundColor: '#ffc107',\n                                      color: '#212529',\n                                      padding: '4px 8px',\n                                      borderRadius: '12px',\n                                      fontWeight: '500'\n                                    }}\n                                  >\n                                    <i className=\"fa fa-exclamation-triangle me-1\"></i>Blocked You\n                                  </span>\n                                );\n                              }\n                              return null;\n                            })()}\n                          </div>\n                          <p \n                            className=\"small text-muted\"\n                            style={{\n                              fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                            }}\n                          >\n                            {(() => {\n                              const isBlocked = blockedUsers.some(\n                                (blockedUser) => blockedUser?.blocked?._id === val?.receiverUserId?._id\n                              );\n                              const isBlockedBy = blockedByUsers[val?.receiverUserId?._id] === true;\n                              \n                              if (isBlocked) {\n                                return \"You blocked this person\";\n                              } else if (isBlockedBy) {\n                                return \"This person blocked you\";\n                              }\n                              return renderMessageContent(val?.receiverUserId?.lastMessage?.content || val?.receiverUserId?.content || \"No messages yet\");\n                            })()}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"pt-1\">\n                        <p className=\"small text-muted mb-1\">\n                          {val?.receiverUserId?.lastMessage?.createdAt ? \n                            new Date(val.receiverUserId.lastMessage.createdAt).toLocaleTimeString() : \n                            val?.receiverUserId?.timestamp\n                          }\n                        </p>\n{(() => {\n                          const unreadCount = getUnreadCount(val?.receiverUserId?.roomId);\n                          const hasMutualLikes = mutualActivities[`${user?._id}-${val?.receiverUserId?._id}`];\n                          \n                          if (unreadCount > 0 && hasMutualLikes) {\n                            return (\n                              <span className=\"badge bg-danger rounded-pill float-end\">\n                                {unreadCount}\n                              </span>\n                            );\n                          }\n                          return null;\n                        })()}\n                      </div>\n                    </a>\n                  </li>\n                ))\n              : combinedUserList.map((val, i) => (\n                  <li\n                    key={i}\n                    className={`p-2 border-bottom ${\n                      selectedUser?.receiverUserId?._id === val?.receiverUserId?._id\n                        ? \"bg-light\"\n                        : \"\"\n                    }`}\n                    onClick={() => handleUserSelect(val)}\n                    style={{\n                      cursor: \"pointer\",\n                      backgroundColor: selectedUser?.receiverUserId?._id === val?.receiverUserId?._id ? \"#f8f9fa\" : \"transparent\"\n                    }}\n                  >\n                    <a href=\"#!\" className=\"d-flex justify-content-between\">\n                      <div\n                        className=\"d-flex flex-row align-items-center\"\n                        style={{ gap: \"15px\" }}\n                      >\n                        <div style={{ width: \"60px\", height: \"60px\" }}>\n                          <img\n                            src={\n                              val?.receiverUserId?.mainAvatar\n                                ? `${BASE_URL}/assets/images/${val?.receiverUserId?.mainAvatar}`\n                                : val?.receiverUserId?.avatars?.[0]\n                                ? `${BASE_URL}/assets/images/${val?.receiverUserId?.avatars[0]}`\n                                : userMale\n                            }\n                            alt=\"avatar\"\n                            className=\"d-flex align-self-center me-3 image21 chat-profile\"\n                            style={{\n                              borderRadius: \"50%\",\n                              objectFit: \"cover\",\n                            }}\n                          />\n                          <span className=\"badge bg-success badge-dot\"></span>\n                        </div>\n\n                        <div className=\"pt-1\">\n                          <div className=\"d-flex align-items-center\">\n                            <p className=\"fw-bold mb-0 me-2\">\n                              {val?.receiverUserId?.name}\n                            </p>\n                            {(() => {\n                              const isBlocked = blockedUsers.some(\n                                (blockedUser) => blockedUser?.blocked?._id === val?.receiverUserId?._id\n                              );\n                              const isBlockedBy = blockedByUsers[val?.receiverUserId?._id] === true;\n                              \n                              if (isBlocked) {\n                                return (\n                                  <span \n                                    className=\"badge\" \n                                    style={{ \n                                      fontSize: '0.65rem',\n                                      backgroundColor: '#dc3545',\n                                      color: 'white',\n                                      padding: '4px 8px',\n                                      borderRadius: '12px',\n                                      fontWeight: '500'\n                                    }}\n                                  >\n                                    <i className=\"fa fa-ban me-1\"></i>Blocked\n                                  </span>\n                                );\n                              } else if (isBlockedBy) {\n                                return (\n                                  <span \n                                    className=\"badge\" \n                                    style={{ \n                                      fontSize: '0.65rem',\n                                      backgroundColor: '#ffc107',\n                                      color: '#212529',\n                                      padding: '4px 8px',\n                                      borderRadius: '12px',\n                                      fontWeight: '500'\n                                    }}\n                                  >\n                                    <i className=\"fa fa-exclamation-triangle me-1\"></i>Blocked You\n                                  </span>\n                                );\n                              }\n                              return null;\n                            })()}\n                          </div>\n                          <p \n                            className=\"small text-muted\"\n                            style={{\n                              fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                            }}\n                          >\n                            {(() => {\n                              const isBlocked = blockedUsers.some(\n                                (blockedUser) => blockedUser?.blocked?._id === val?.receiverUserId?._id\n                              );\n                              const isBlockedBy = blockedByUsers[val?.receiverUserId?._id] === true;\n                              \n                              if (isBlocked) {\n                                return \"You blocked this person\";\n                              } else if (isBlockedBy) {\n                                return \"This person blocked you\";\n                              }\n                              return renderMessageContent(val?.receiverUserId?.lastMessage?.content || val?.receiverUserId?.content || \"No messages yet\");\n                            })()}\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"pt-1\">\n                        <p className=\"small text-muted mb-1\">\n                          {val?.receiverUserId?.lastMessage?.createdAt ? \n                            new Date(val.receiverUserId.lastMessage.createdAt).toLocaleTimeString() : \n                            val?.receiverUserId?.timestamp\n                          }\n                        </p>\n{(() => {\n                          const unreadCount = getUnreadCount(val?.receiverUserId?.roomId);\n                          const hasMutualLikes = mutualActivities[`${user?._id}-${val?.receiverUserId?._id}`];\n                          \n                          if (unreadCount > 0 && hasMutualLikes) {\n                            return (\n                              <span className=\"badge bg-danger rounded-pill float-end\">\n                                {unreadCount}\n                              </span>\n                            );\n                          }\n                          return null;\n                        })()}\n                      </div>\n                    </a>\n                  </li>\n                ))}\n          </MDBTypography>\n        </Scrollbars>\n      </div>\n    );\n  };\n\n  const formatMessageTime = (timestamp) => {\n    if (!timestamp) return \"\";\n\n    const date = new Date(timestamp);\n    const now = new Date();\n    const isToday = date.toDateString() === now.toDateString();\n\n    return (\n      date.toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }) + (isToday ? \" | Today\" : ` | ${date.toLocaleDateString()}`)\n    );\n  };\n\n  \n  const renderMessageContent = (content) => {\n    if (!content) return \"\";\n    \n    \n    return (\n      <span \n        style={{\n          fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\",\n          fontSize: \"inherit\",\n          lineHeight: \"inherit\"\n        }}\n      >\n        {content}\n      </span>\n    );\n  };\n\n  const renderChatBox = () => {\n    return (\n      <div style={{ position: \"relative\" }}>\n        {selectedUser ? (\n          <div>\n            <div className=\"row row12 py-1 mb-2 shadow bottom\">\n              <div className=\"col-7 chat-dp\">\n                <div className=\"row chat-status\">\n                  <div className=\"col-4 col-lg-2\">\n                    <img\n                      src={\n                        selectedUser?.receiverUserId?.mainAvatar\n                          ? `${BASE_URL}/assets/images/${selectedUser?.receiverUserId?.mainAvatar}`\n                          : selectedUser?.receiverUserId?.avatars?.[0]\n                          ? `${BASE_URL}/assets/images/${selectedUser?.receiverUserId?.avatars[0]}`\n                          : userMale\n                      }\n                      alt=\"avatar\"\n                      className=\"d-flex align-self-center image21\"\n                      style={{\n                        borderRadius: \"50%\",\n                        maxWidth: \"55px\",\n                      }}\n                      onError={(e) => {\n                        console.log(\"Header avatar image failed to load:\", e.target.src);\n                        e.target.src = userMale;\n                      }}\n                    />\n                  </div>\n\n                  <div className=\"col-8 py-2 col-lg-8\">\n                    <h6>\n                      {selectedUser?.receiverUserId?.name}\n                      <br />\n                      <small\n                        style={{\n                          color: socketConnected ? \"green\" : \"orange\",\n                          fontSize: \"0.9rem\",\n                          marginTop: \"-10px\",\n                        }}\n                      >\n                        {isTyping\n                          ? `${typingUser || \"User\"} is typing...`\n                          : socketConnected \n                            ? (currentRoom ? \"Connected\" : \"Connected - No room\")\n                            : \"Connecting...\"}\n                      </small>\n                      <br />\n                      <small style={{ fontSize: \"0.7rem\", color: \"#666\" }}>\n                        Room: {currentRoom ? currentRoom.substring(0, 8) + \"...\" : \"None\"}\n                      </small>\n                    </h6>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"col-5 chat-opt\">\n                <div className=\"float-end me-2 con-info\">\n\n                  <Link \n                    className=\"float-end fs-4 text-muted my-2 me-2\"\n                    onClick={refreshCurrentChatHistory}\n                    title=\"Refresh chat history\"\n                    style={{ \n                      cursor: loadingChat ? 'not-allowed' : 'pointer',\n                      opacity: loadingChat ? 0.5 : 1\n                    }}\n                  >\n                    <i className=\"fa fa-refresh\" aria-hidden=\"true\"></i>\n                  </Link>\n                  \n                  <Link className=\"float-end header__more fs-3 my-2 text-muted\">\n                    <span\n                      to=\"#\"\n                      className=\"pointer\"\n                      style={{\n                        fontWeight: \"700\",\n                      }}\n                      data-bs-toggle=\"dropdown\"\n                    >\n                      <i class=\"fa fa-ellipsis-v\" aria-hidden=\"true\"></i>\n                    </span>\n                    <ul\n                      className=\"dropdown-menu\"\n                      style={{\n                        width: \"200px\",\n                      }}\n                    >\n                      <li>\n                        <Link\n                          className=\"dropdown-item py-2\"\n                          onClick={() => setCalenderSchedule(true)}\n                        >\n                          <i\n                            className=\"fa-solid fa-circle-info me-3\"\n                            aria-hidden=\"true\"\n                            title=\"date Schedule\"\n                          ></i>{\" \"}\n                          Schedule Date\n                        </Link>\n                      </li>\n                      <li>\n                        <Link\n                          className=\"dropdown-item py-2\"\n                          onClick={() => setCheckCompatibility(true)}\n                        >\n                          <i\n                            className=\"fa fa-question-circle-o me-3\"\n                            aria-hidden=\"true\"\n                            title=\"Check Compatibility\"\n                          ></i>{\" \"}\n                          Compatibility\n                        </Link>\n                      </li>\n                      <li>\n                        <Link\n                          className=\"dropdown-item py-2\"\n                          onClick={() => setMilestone(true)}\n                        >\n                          <i class=\"fa fa-history me-3\" aria-hidden=\"true\"></i>{\" \"}\n                          Track Milestone\n                        </Link>\n                      </li>\n                      <li>\n                        <Link\n                          className=\"dropdown-item py-2\"\n                          onClick={() => setBlockUser(true)}\n                        >\n                          <i class=\"fa fa-ban me-3\" aria-hidden=\"true\"></i>{\" \"}\n                          Block\n                        </Link>\n                      </li>\n                      <li>\n                        <Link\n                          className=\"dropdown-item py-2\"\n                          onClick={() => setReportUser(true)}\n                        >\n                          <i class=\"fa fa-flag me-3\" aria-hidden=\"true\"></i>{\" \"}\n                          Report\n                        </Link>\n                      </li>\n                    </ul>\n                  </Link>\n                  <Link\n                    className=\"float-end fs-4 text-muted my-2\"\n                    onClick={handleShow}\n                  >\n                    <i className=\"fa fa-phone\" aria-hidden=\"true\"></i>\n                  </Link>\n                  <IncomingCallModal show={showModal} onHide={handleHide} />\n                  <Link\n                    className=\"float-end fs-4 text-muted my-2\"\n                    onClick={handleShowVideoCall}\n                  >\n                    <i class=\"fa fa-video-camera\" aria-hidden=\"true\"></i>\n                  </Link>\n                  <VideoCallModal\n                    show={showVideoCallModal}\n                    onHide={handleHideVideoCall}\n                  />\n                </div>\n              </div>\n            </div>\n\n            <div className=\"message-box\">\n              <Scrollbars\n                autoHide\n                className=\"msg-wrap\"\n                style={{ position: \"relative\", height: \"65vh\" }}\n                id=\"chat-container\"\n                ref={scrollbarsRef}\n              >\n                {loadingChat ? (\n                  <LoaderChat />\n                ) : chatMessages.length === 0 ? (\n                  <div className=\"text-center p-4\">\n                    <p className=\"text-muted\">No messages yet. Start a conversation!</p>\n                    <small className=\"text-muted\">\n                      Room: {currentRoom ? currentRoom.substring(0, 8) + \"...\" : \"None\"} | \n                      Messages: {chatMessages.length}\n                    </small>\n                    {(() => {\n                      const key = `${user._id}-${selectedUser?.receiverUserId?._id}`;\n                      const hasMutualLikes = mutualActivities[key];\n                      if (hasMutualLikes === false) {\n                        return (\n                          <div className=\"mt-3 p-3 bg-warning bg-opacity-10 rounded\">\n                            <i className=\"fa fa-heart text-warning me-2\"></i>\n                            <small className=\"text-warning\">\n                              Messages will only appear when both users have liked/favorited each other.\n                            </small>\n                          </div>\n                        );\n                      }\n                      return null;\n                    })()}\n                  </div>\n                ) : (\n                  chatMessages\n                    .filter((message) => {\n                      const senderId = message.senderId?._id;\n                      if (!senderId || senderId === user._id) return true; // Always show own messages\n                      \n                      // Check if user is blocked (but still show messages in chat history)\n                      const isBlockedSender = blockedUsers.some(\n                        (blockedUser) => blockedUser?.blocked?._id === senderId\n                      );\n                      const isBlockedByThisSender = blockedByUsers[senderId] === true;\n                      \n                      // If blocked, show a placeholder message instead of hiding\n                      if (isBlockedSender || isBlockedByThisSender) {\n                        return true; // Show messages but they'll be replaced with placeholder\n                      }\n                      \n                      // Check mutual likes for message visibility\n                      const key = `${user._id}-${senderId}`;\n                      const hasMutualLikes = mutualActivities[key];\n                      \n                      return hasMutualLikes;\n                    })\n                    .map((message) => {\n                      // Check if message is from a blocked user\n                      const senderId = message.senderId?._id;\n                      const isBlockedSender = blockedUsers.some(\n                        (blockedUser) => blockedUser?.blocked?._id === senderId\n                      );\n                      const isBlockedByThisSender = blockedByUsers[senderId] === true;\n                      \n                      // If message is from a blocked user, show placeholder\n                      if ((isBlockedSender || isBlockedByThisSender) && senderId !== user._id) {\n                        return (\n                          <div\n                            key={message._id || message.id}\n                            className=\"px-3 px-md-5 d-flex flex-row justify-content-center\"\n                          >\n                            <div \n                              className=\"text-center p-3 rounded\" \n                              style={{ \n                                maxWidth: \"80%\",\n                                backgroundColor: isBlockedSender ? '#f8d7da' : '#fff3cd',\n                                border: isBlockedSender ? '1px solid #f5c6cb' : '1px solid #ffeaa7',\n                                color: isBlockedSender ? '#721c24' : '#856404'\n                              }}\n                            >\n                              <i \n                                className={`fa ${isBlockedSender ? 'fa-ban' : 'fa-exclamation-triangle'} me-2`}\n                                style={{ fontSize: '16px' }}\n                              ></i>\n                              <span className=\"small\" style={{ fontWeight: '500' }}>\n                                {isBlockedSender ? \"You blocked this person\" : \"This person blocked you\"}\n                              </span>\n                              <br />\n                              <small style={{ opacity: '0.8' }}>\n                                {new Date(message.createdAt).toLocaleTimeString()}\n                              </small>\n                            </div>\n                          </div>\n                        );\n                      }\n                      \n                      return (\n                    <div\n                      key={message._id || message.id}\n                      className={`px-3 px-md-5 d-flex flex-row justify-content-${\n                        message.senderId?._id === user._id ? \"end\" : \"start\"\n                      }`}\n                    >\n                      {message.senderId?._id === user._id ? (\n                        <>\n                          <div style={{ maxWidth: \"70%\" }}>\n                            {message.replyTo && (\n                              <div className=\"small p-2 me-3 mb-1 rounded-3 bg-light border-start border-3 border-primary\">\n                                <p className=\"mb-1 text-muted small\">\n                                   {otherUserName|| 'You replied'}\n                                </p>\n                                <p \n                                  className=\"mb-0 small\"\n                                  style={{\n                                    fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                                  }}\n                                >\n                                  {renderMessageContent(message.replyTo.content)}\n                                </p>\n                              </div>\n                            )}\n                            \n                            {message.file ? (\n                              <img\n                                src={URL.createObjectURL(message.file)}\n                                alt={`file ${message._id}`}\n                                style={{\n                                  borderRadius: \"50%\",\n                                  maxWidth: \"55px\",\n                                }}\n                              />\n                            ) : editingMessage?._id === message._id ? (\n                              <div className=\"d-flex flex-column me-3 mb-1\">\n                                <input\n                                  type=\"text\"\n                                  className=\"form-control form-control-sm mb-2\"\n                                  defaultValue={message.content}\n                                  onKeyDown={(e) => {\n                                    if (e.key === 'Enter') {\n                                      handleEditMessage(message._id, e.target.value);\n                                    } else if (e.key === 'Escape') {\n                                      setEditingMessage(null);\n                                    }\n                                  }}\n                                  autoFocus\n                                />\n                                <div className=\"d-flex gap-2\">\n                                  <button\n                                    className=\"btn btn-sm btn-success\"\n                                    onClick={(e) => {\n                                      const input = e.target.parentElement.previousElementSibling;\n                                      handleEditMessage(message._id, input.value);\n                                    }}\n                                  >\n                                    Save\n                                  </button>\n                                  <button\n                                    className=\"btn btn-sm btn-secondary\"\n                                    onClick={() => setEditingMessage(null)}\n                                  >\n                                    Cancel\n                                  </button>\n                                </div>\n                              </div>\n                            ) : (\n                              <>\n                                <div className=\"d-flex align-items-start\">\n                                  <p\n                                    className={`small p-2 me-3 mb-1 rounded-3 flex-grow-1`}\n                                    style={{\n                                      backgroundColor: \"#f24570\",\n                                      color: \"#ffffff\",\n                                      fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                                    }}\n                                  >\n                                    {renderMessageContent(message.content)}\n                                    {message.isEdited && (\n                                      <span className=\"text-muted small ms-2\">(edited)</span>\n                                    )}\n                                  </p> \n                                  <div className=\"dropdown\">\n                                    <button\n                                      className=\"btn btn-sm btn-link text-muted p-1\"\n                                      type=\"button\"\n                                      data-bs-toggle=\"dropdown\"\n                                      aria-expanded=\"false\"\n                                    >\n                                      \n                                    </button>\n                                    <ul className=\"dropdown-menu\">\n                                      <li>\n                                        <button\n                                          className=\"dropdown-item\"\n                                          onClick={() => setEditingMessage(message)}\n                                        >\n                                          Edit\n                                        </button>\n                                      </li>\n                                      <li>\n                                        <button\n                                          className=\"dropdown-item\"\n                                          onClick={() => handleDeleteMessage(message._id)}\n                                        >\n                                          Delete\n                                        </button>\n                                      </li>\n                                      <li>\n                                        <button\n                                          className=\"dropdown-item\"\n                                          onClick={() => handleReplyToMessage(message)}\n                                        >\n                                          Reply\n                                        </button>\n                                      </li>\n                                    </ul>\n                                  </div>\n                                </div>\n                                <p\n                                  className={`small me-3 mb-3 rounded-3 text-muted`}\n                                >\n                                  {formatMessageTime(message.createdAt)}\n                                </p>\n                              </>\n                            )}\n                          </div>\n\n                          <img\n                            src={\n                              User?.mainAvatar\n                                ? `${BASE_URL}/assets/images/${User?.mainAvatar}`\n                                : User?.avatars?.[0]\n                                ? `${BASE_URL}/assets/images/${User?.avatars?.[0]}`\n                                : dummyUserPic\n                            }\n                            alt={`avatar ${message._id}`}\n                            style={{\n                              borderRadius: \"50%\",\n                              width: \"45px\",\n                              height: \"45px\",\n                              maxWidth: \"45px\",\n                            }}\n                            onError={(e) => {\n                              console.log(\"Message avatar image failed to load:\", e.target.src);\n                              e.target.src = dummyUserPic;\n                            }}\n                          />\n                        </>\n                      ) : (\n                        <>\n                          <img\n                            src={\n                              selectedUser?.receiverUserId?.mainAvatar\n                                ? `${BASE_URL}/assets/images/${selectedUser?.receiverUserId?.mainAvatar}`\n                                : selectedUser?.receiverUserId?.avatars?.[0]\n                                ? `${BASE_URL}/assets/images/${selectedUser?.receiverUserId?.avatars[0]}`\n                                : userMale\n                            }\n                            alt={`avatar ${message._id}`}\n                            style={{\n                              borderRadius: \"50%\",\n                              width: \"45px\",\n                              height: \"45px\",\n                              maxWidth: \"45px\",\n                            }}\n                            onError={(e) => {\n                              console.log(\"Other user message avatar failed to load:\", e.target.src);\n                              e.target.src = userMale;\n                            }}\n                          />\n                          <div style={{ maxWidth: \"70%\" }}>\n                            {message.replyTo && (\n                              <div className=\"small p-2 ms-3 mb-1 rounded-3 bg-light border-start border-3 border-primary\">\n                                <p className=\"mb-1 text-muted small\">\n                                  Replied to {  message.senderId?.namess || 'You'}\n                                </p>\n                                <p \n                                  className=\"mb-0 small\"\n                                  style={{\n                                    fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                                  }}\n                                >\n                                  {renderMessageContent(message.replyTo.content)}\n                                </p>\n                              </div>\n                            )}\n                            \n                            {message.file ? (\n                              <img\n                                src={URL.createObjectURL(message.file)}\n                                alt={`file ${message._id}`}\n                                style={{\n                                  maxWidth: \"100%\",\n                                  height: \"auto\",\n                                  borderRadius: \"8px\",\n                                }}\n                              />\n                            ) : (\n                              <>\n                                <div className=\"d-flex align-items-start\">\n                                  <p\n                                    className={`small p-2 ms-3 mb-1 rounded-3 flex-grow-1`}\n                                    style={{\n                                      backgroundColor: \"#f5f6f7\",\n                                      color: \"#000000\",\n                                      fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                                    }}\n                                  >\n                                    {renderMessageContent(message.content)}\n                                    {message.isEdited && (\n                                      <span className=\"text-muted small ms-2\">(edited)</span>      \n                                    )}\n                                  </p>\n                                  <div className=\"dropdown\">\n                                    <button\n                                      className=\"btn btn-sm btn-link text-muted p-1\"\n                                      type=\"button\"\n                                      data-bs-toggle=\"dropdown\"\n                                      aria-expanded=\"false\"\n                                    >\n                                      \n                                    </button>\n                                    <ul className=\"dropdown-menu\">\n                                      <li>\n                                        <button\n                                          className=\"dropdown-item\"\n                                          onClick={() => handleReplyToMessage(message)}\n                                        >\n                                          Reply\n                                        </button>\n                                      </li>\n                                    </ul>\n                                  </div>\n                                </div>\n                                <p\n                                  className={`small ms-3 mb-3 rounded-3 text-muted float-end`}\n                                >\n                                  {formatMessageTime(message.createdAt)}\n                                </p>\n                              </>\n                            )}\n                          </div>\n                        </>\n                      )}\n                    </div>\n                    );\n                    })\n                )}\n              </Scrollbars>\n              \n              {/* Load More Messages Button */}\n              {chatPagination.page < chatPagination.pages && (\n                <div className=\"text-center py-2\">\n                  <button\n                    className=\"btn btn-sm btn-outline-primary\"\n                    onClick={handleLoadMoreMessages}\n                    disabled={loadingChat}\n                  >\n                    {loadingChat ? \"Loading...\" : \"Load More Messages\"}\n                  </button>\n                </div>\n              )}\n            </div>\n\n            {/* Reply Preview */}\n            {replyingToMessage && (\n              <div className=\"px-3 py-2 bg-light border-top\">\n                <div className=\"d-flex justify-content-between align-items-center\">\n                  <div className=\"small\">\n                    <span className=\"text-muted\">Replying to the3 {replyingToMessage.senderId?.namesss || 'Unknownsss3'}:</span>\n                    <div \n                      className=\"text-truncate\" \n                      style={{ \n                        maxWidth: \"300px\",\n                        fontFamily: \"'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif\"\n                      }}\n                    >\n                      {renderMessageContent(replyingToMessage.content)}\n                    </div>\n                  </div>\n                  <button\n                    className=\"btn btn-sm btn-link text-muted p-0\"\n                    onClick={() => setReplyingToMessage(null)}\n                  >\n                    \n                  </button>\n                </div>\n              </div>\n            )}\n\n            <div\n              className=\" inputChat text-muted d-flex  align-items-center  py-1 mt-4\"\n              style={{\n                float: \"right\",\n                backgroundColor: \"#e9ecef\",\n              }}\n            >\n              <div className=\"header__more px-3\">\n                <span\n                  to=\"#\"\n                  className=\"pointer \"\n                  style={{\n                    fontWeight: \"700\",\n                  }}\n                  data-bs-toggle=\"dropdown\"\n                >\n                  <i class=\"fa fa-paperclip fs-5\" aria-hidden=\"true\"></i>{\" \"}\n                </span>\n                <ul className=\"dropdown-menu\">\n                  <li>\n                    <label className=\"dropdown-item py-2\">\n                      <i\n                        className=\"fa fa-picture-o me-2\"\n                        aria-hidden=\"true\"\n                      ></i>{\" \"}\n                      File\n                      <input\n                        type=\"file\"\n                        style={{ display: \"none\" }}\n                        onChange={handleFileChange}\n                        id=\"fileInput\"\n                      />\n                    </label>\n                  </li>\n                  <li>\n                    <Link className=\"dropdown-item py-2\">\n                      <i class=\"fa fa-map-marker me-2\" aria-hidden=\"true\"></i>{\" \"}\n                      Location\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n\n              <div className=\"header__more\">\n                <span\n                  to=\"#\"\n                  className=\"pointer\"\n                  style={{\n                    fontWeight: \"600\",\n                  }}\n                  data-bs-toggle=\"dropdown\"\n                >\n                  <i className=\"fa-solid fa-gift fa-xl\" aria-hidden=\"true\"></i>{\" \"}\n                </span>\n                <ul\n                  className=\"dropdown-menu p-3\"\n                  style={{\n                    width: \"300px\",\n                  }}\n                >\n                  {giftItems.map((item) => (\n                    <li key={item.id} style={{ display: \"inline\" }}>\n                      <span\n                        role=\"img\"\n                        aria-label=\"gift icon\"\n                        aria-hidden=\"true\"\n                      >\n                        <img\n                          className=\"m-1 pointer\"\n                          src={item.imgUrl}\n                          alt={item.name}\n                          style={{ width: \"80px\", height: \"80px\" }}\n                        />\n                      </span>\n                      {item.name}\n                    </li>\n                  ))}\n                </ul>\n              </div>\n\n              {isCurrentUserBlockedByMe() ? (\n                <div className=\"blocked-user-message\" style={{\n                  padding: '8px 12px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'space-between',\n                  backgroundColor: '#f8d7da',\n                  borderRadius: '8px',\n                  margin: '4px 0',\n                  width: '100%',\n                  border: '1px solid #f5c6cb',\n                  height: '48px',\n                  minHeight: '48px'\n                }}>\n                  <div style={{ display: 'flex', alignItems: 'center' }}>\n                    <i className=\"fa-solid fa-ban\" style={{ fontSize: '14px', color: '#721c24', marginRight: '6px' }}></i>\n                    <span style={{ color: '#721c24', fontWeight: '500', fontSize: '13px' }}>\n                      You have blocked this person\n                    </span>\n                  </div>\n                  <button \n                    className=\"btn btn-outline-danger btn-sm\"\n                    onClick={handleUnblockFromChat}\n                    style={{ \n                      fontWeight: '500',\n                      padding: '4px 8px',\n                      borderRadius: '4px',\n                      border: '1px solid #721c24',\n                      backgroundColor: 'transparent',\n                      color: '#721c24',\n                      fontSize: '11px',\n                      transition: 'all 0.2s ease',\n                      whiteSpace: 'nowrap',\n                      height: '32px'\n                    }}\n                    onMouseOver={(e) => {\n                      e.target.style.backgroundColor = '#721c24';\n                      e.target.style.color = 'white';\n                    }}\n                    onMouseOut={(e) => {\n                      e.target.style.backgroundColor = 'transparent';\n                      e.target.style.color = '#721c24';\n                    }}\n                  >\n                    <i className=\"fa-solid fa-unlock\" style={{ marginRight: '3px' }}></i>\n                    Unblock\n                  </button>\n                </div>\n              ) : isBlockedByCurrentUser() ? (\n                <div className=\"blocked-user-message\" style={{\n                  padding: '8px 12px',\n                  display: 'flex',\n                  alignItems: 'center',\n                  backgroundColor: '#fff3cd',\n                  borderRadius: '8px',\n                  margin: '4px 0',\n                  width: '100%',\n                  border: '1px solid #ffeaa7',\n                  height: '48px',\n                  minHeight: '48px'\n                }}>\n                  <i className=\"fa-solid fa-circle-exclamation\" style={{ fontSize: '14px', color: '#856404', marginRight: '6px' }}></i>\n                  <span style={{ color: '#856404', fontWeight: '500', fontSize: '13px' }}>\n                    This user has blocked you. You cannot send or receive messages.\n                  </span>\n                </div>\n              ) : (\n                <>\n                  <div className=\"input-vox-chat\">\n                    <input\n                      type=\"text\"\n                      className=\"form-control form-control-lg message-input\"\n                      id=\"exampleFormControlInput2\"\n                      placeholder={\n                        messageRestricted \n                          ? \"Message limit reached. Wait for response.\" \n                          : currentRoom \n                            ? \"Type message\" \n                            : \"Select a user to start chatting\"\n                      }\n                      value={inputMessage}\n                      onChange={(e) => setInputMessage(e.target.value)}\n                      onKeyDown={handleKeyDown}\n                      disabled={!currentRoom || messageRestricted}\n                      style={{\n                        opacity: currentRoom && !messageRestricted ? 1 : 0.6\n                      }}\n                    />\n                    <div className=\"smile-message-input\">\n                      <span\n                        className=\"pointer\"\n                        style={{\n                          fontWeight: \"600\",\n                        }}\n                        data-bs-toggle=\"dropdown\"\n                        onClick={handleToggleEmojiPicker}\n                      >\n                        <i class=\"fa-solid fa-face-smile fa-xl\"></i>{\" \"}\n                      </span>\n                      <div className=\"dropdown-menu\">\n                        <EmojiPicker onEmojiClick={handleSelectEmoji} />\n                      </div>\n                    </div>\n                  </div>\n\n                  <button\n                    className=\"send-btn fs-4\"\n                    onClick={handleSendMessage}\n                    disabled={!inputMessage.trim() || !currentRoom || messageRestricted}\n                    style={{ \n                      opacity: messageRestricted ? 0.5 : 1,\n                      cursor: messageRestricted ? 'not-allowed' : 'pointer'\n                    }}\n                    title={messageRestricted ? \"Message limit reached. Wait for response.\" : \"Send message\"}\n                  >\n                    <MDBIcon fas icon=\"paper-plane\" />\n                  </button>\n                </>\n              )}\n            </div>\n          </div>\n        ) : (\n          <div style={{ width: \"60%\", margin: \"0 auto\" }}>\n            <img src={chatBG} alt=\"chat background\" className=\"chat-banner\" />\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"chat-main-wrap\">\n      {/* Emoji Support CSS */}\n      <style dangerouslySetInnerHTML={{\n        __html: `\n          .chat-main-wrap .message-content,\n          .chat-main-wrap .small,\n          .chat-main-wrap p {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, 'Apple Color Emoji', 'Segoe UI Emoji', 'Noto Color Emoji', 'Android Emoji', 'EmojiSymbols', 'EmojiOne Mozilla', 'Twemoji Mozilla', 'Segoe UI Symbol', sans-serif !important;\n          \n            font-feature-settings: \"liga\", \"clig\", \"kern\", \"calt\", \"ccmp\", \"cv01\", \"cv02\", \"cv03\", \"cv04\", \"cv05\", \"cv06\", \"cv07\", \"cv08\", \"cv09\", \"cv10\", \"cv11\", \"cv12\", \"cv13\", \"cv14\", \"cv15\", \"cv16\", \"cv17\", \"cv18\", \"cv19\", \"cv20\", \"cv21\", \"cv22\", \"cv23\", \"cv24\", \"cv25\", \"cv26\", \"cv27\", \"cv28\", \"cv29\", \"cv30\", \"cv31\", \"cv32\", \"cv33\", \"cv34\", \"cv35\", \"cv36\", \"cv37\", \"cv38\", \"cv39\", \"cv40\", \"cv41\", \"cv42\", \"cv43\", \"cv44\", \"cv45\", \"cv46\", \"cv47\", \"cv48\", \"cv49\", \"cv50\", \"cv51\", \"cv52\", \"cv53\", \"cv54\", \"cv55\", \"cv56\", \"cv57\", \"cv58\", \"cv59\", \"cv60\", \"cv61\", \"cv62\", \"cv63\", \"cv64\", \"cv65\", \"cv66\", \"cv67\", \"cv68\", \"cv69\", \"cv70\", \"cv71\", \"cv72\", \"cv73\", \"cv74\", \"cv75\", \"cv76\", \"cv77\", \"cv78\", \"cv79\", \"cv80\", \"cv81\", \"cv82\", \"cv83\", \"cv84\", \"cv85\", \"cv86\", \"cv87\", \"cv88\", \"cv89\", \"cv90\", \"cv91\", \"cv92\", \"cv93\", \"cv94\", \"cv95\", \"cv96\", \"cv97\", \"cv98\", \"cv99\", \"cv100\" !important;\n          }\n        `\n      }} />\n      \n      {/* Notification for new messages */}\n      {showNotification && (\n        <div \n          style={{\n            position: 'fixed',\n            top: '80px',\n            right: '20px',\n            backgroundColor: '#f24570',\n            color: 'white',\n            padding: '12px 20px',\n            borderRadius: '8px',\n            boxShadow: '0 4px 12px rgba(0,0,0,0.3)',\n            zIndex: 9999,\n            fontSize: '14px',\n            fontWeight: '600'\n          }}\n        >\n          <i className=\"fa fa-envelope me-2\"></i>\n          {getTotalUnreadMessages()} new message{getTotalUnreadMessages() !== 1 ? 's' : ''}\n        </div>\n      )}\n      \n      <HeaderFour />\n      {loading ? (\n        <Lodder />\n      ) : (\n        <MDBContainer fluid className=\"custom-fluid\">\n          <MDBRow>\n            <MDBCol md=\"12\" style={{ paddingLeft: \"0\", paddingRight: \"0\" }}>\n              <MDBCard id=\"chat3\" style={{ borderRadius: \"0\" }}>\n                <MDBCardBody className=\"p-0\">\n                  <MDBRow>\n                    <MDBCol\n                      md=\"5\"\n                      lg=\"4\"\n                      xl=\"3\"\n                      className=\"mb-4 mb-md-0 p-0\"\n                      style={{ borderRight: \"2px solid lightgray\" }}\n                    >\n                      {isMobileView && !selectedUser && renderChatUsersList()}\n                      {!isMobileView && renderChatUsersList()}\n                    </MDBCol>\n\n                    <MDBCol md=\"7\" lg=\"8\" xl=\"9\" className=\"p-0\">\n                      {!isMobileView && !selectedUser && renderChatBox()}\n                      {selectedUser && renderChatBox()}\n                    </MDBCol>\n                  </MDBRow>\n                </MDBCardBody>\n              </MDBCard>\n            </MDBCol>\n          </MDBRow>\n\n          <CheckCompatibilityModalMetri\n            showModal={CheckCompatibility}\n            hideModal={() => setCheckCompatibility(false)}\n          />\n          <RelationshipMilestoneTrackerMetri\n            showModal={Milestone}\n            hideModal={() => setMilestone(false)}\n            selectedUser={selectedUser}\n          />\n          <BlockUserModalMetri\n            showModal={blocklUser}\n            hideModal={() => setBlockUser(false)}\n            selectedUser={selectedUser}\n          />\n          <ReportUserModalMetri\n            showModal={reportUser}\n            hideModal={() => setReportUser(false)}\n            selectedUser={selectedUser}\n          />\n          <CalenderScheduleMetri\n            showModal={calenderSchedule}\n            hideModal={() => setCalenderSchedule(false)}\n            calenderDate={calenderDate}\n            clockTime={clockTime}\n          />\n\n          <EventCalenderScheduleModal\n            showModal={calenderSchedule}\n            hideModal={() => setCalenderSchedule(false)}\n            calenderDate={calenderDate}\n            NotifyScheduleData={NotifyScheduleData}\n            clockTime={clockTime}\n          />\n\n          <EventNotificationScheduleModal\n            showModal={NotificationSchedule}\n            hideModal={() => setNotificationSchedule(false)}\n            calenderScheduleDAte={calenderScheduleDAte}\n            selectedUser={selectedUser}\n            editIndex={editIndex}\n            ViewUser={ViewUser}\n            setEditIndex={setEditIndex}\n            userInfoDate={userInfoDate}\n            scheduledData={selectedData}\n          />\n        </MDBContainer>\n      )}\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\n\nconst venues = [\n  { address: 'Empire State Building, 20 W 34th St, New York, NY 10001' },\n  { address: 'Times Square, Manhattan, NY 10036' },\n  { address: 'Statue of Liberty, New York, NY 10004' },\n  { address: 'Brooklyn Bridge, New York, NY 10038' },\n  { address: 'The Metropolitan, 1000 5th Ave, New York, NY 10028' },\n  { address: 'Grand Central Terminal, 89 E 42nd St, New York, NY 10017' },\n  { address: 'Central Park, 59th St to 110th St, New York, NY 10022' },\n  { address: 'The High Line, New York, NY 10011' },\n  { address: 'Rockefeller Center, 45 Rockefeller Plaza, New York, NY 10111' },\n  { address: 'Museum of Modern Art (MoMA), 11 W 53rd St, New York, NY 10019' },\n  { address: 'One World Observatory, 285 Fulton St, New York, NY 10007' },\n  { address: 'Brooklyn Botanic Garden, 990 Washington Ave, Brooklyn, NY 11225' },\n  { address: 'Chelsea Market, 75 9th Ave, New York, NY 10011' },\n  { address: 'The Plaza Hotel, 768 5th Ave, New York, NY 10019' },\n  { address: 'Katz\\'s Delicatessen, 205 E Houston St, New York, NY 10002' },\n  { address: 'Joe\\'s Pizza, 7 Carmine St, New York, NY 10014' },\n  { address: 'The St. Regis New York, Two East 55th Street at Fifth Avenue, New York, NY 10022' },\n  { address: 'Serendipity 3, 225 E 60th St, New York, NY 10022' },\n  { address: 'Gramercy Tavern, 42 E 20th St, New York, NY 10003' },\n];\n\n\nconst Popup = ({ venuesList, handleVenueSelection, handleClosePopup }) => (\n  <div className=\"popup-venue-list\">\n    {venuesList.map((venue, index) => (\n      <div key={index} onClick={() => handleVenueSelection(venue)}>\n        <p>{venue.address}</p>\n      </div>\n    ))}\n    {/* <button onClick={handleClosePopup}>Close</button> */}\n  </div>\n);\n\nconst VenuePicker = ({ onVenueChange }) => {\n  const [venuesList, setVenuesList] = useState(venues);\n  const [selectedVenue, setSelectedVenue] = useState(null);\n  const [isPopupOpen, setPopupOpen] = useState(false);\n\n  const handlePickVenue = () => {\n    setPopupOpen(!isPopupOpen);\n  };\n\n  const handleVenueSelection = (venue) => {\n    setSelectedVenue(venue);\n    onVenueChange(venue.address); \n    setPopupOpen(false);\n  };\n\n  const handleClosePopup = () => {\n    setPopupOpen(false);\n  };\n\n  return (\n    <div className=\"setVenue\">\n      <input\n        className=\"date\"\n        type=\"\"\n        placeholder=\"Choose Venue\"\n        value={selectedVenue ? selectedVenue.address : ''}\n        readOnly\n        onClick={handlePickVenue}\n      />\n      <div className='Apps'>\n        {isPopupOpen && (\n          <Popup\n            venuesList={venuesList}\n            handleVenueSelection={handleVenueSelection}\n            handleClosePopup={handleClosePopup}\n          />\n        )}\n      </div>\n      <span className=\"calander-icon\" onClick={handlePickVenue}>\n        <i className=\"fa-solid fa-location-dot fa-xl\" style={{ color: \"#B197FC\" }}></i>\n      </span>\n    </div>\n  );\n};\n\nexport default VenuePicker;\n","import React, { useState } from \"react\";\nimport { Modal } from \"react-bootstrap\";\nimport toast from \"react-hot-toast\";\nimport Calendar from \"react-calendar\";\nimport Timer from '../chat/Timer'\nimport VenuePicker from '../chat/Venue'\n\n\n\nconst EventCalenderSchedule = ({showModal,hideModal,NotifyScheduleData}) => {\n  const [showClock, setShowClock] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n  const [showCalendar, setShowCalendar] = useState(false);\n  const [selectedTime,setSelectedTime] =useState(new Date())\n  const [NotificationSchedule, setNotificationSchedule] = useState(false);\n  const [selectedVenue, setSelectedVenue] = useState(\"\");\n\n  const handleClockClick = () => {\n    setShowClock(!showClock);\n    setShowCalendar(!showCalendar)\n  };\n\n  const handleVenueChange = (venue) => {\n    setSelectedVenue(venue);\n  };\n  \n  const handleCalendarClick = () => {\n    setShowCalendar(!showCalendar);\n  };\n\n \n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setShowCalendar(false);\n   \n  };\n\n  const handleTimeChange = (time)=>{\n    setSelectedTime(time);\n    setShowClock(false)\n    \n  }\n  const handleSubmit =  (e) => {\n    e.preventDefault();\n    try {\n      const scheduledData = {\n        date: selectedDate.toLocaleDateString(),\n        time: selectedTime.toLocaleTimeString(),\n        venue: selectedVenue,\n      };\n      NotifyScheduleData(scheduledData);\n      toast.success(\"schedule date successfully updated\");\n      //  setButtonClass(\"default-btn reverse\");\n      hideModal(hideModal)\n    } catch (error) {\n      console.error(\"Error updating Contact profile:\", error);\n      toast.error(\"Failed to update Contact info\");\n    }\n  };\n  \n  const [value, setValue] = useState('10:00');\n\n  const onClick = (time) => {\n    setValue(time);\n };\n\n\n\n  \n  return (\n    <Modal show={showModal} onHide={hideModal} centered>\n      {!showCalendar ? (\n        <>\n          <div\n            className=\"main-calander\"\n            style={{ position: \"relative\", padding: \"20px\" }}\n          >\n            <span\n              onClick={hideModal}\n              style={{ position: \"absolute\", right: \"25px\", top: \"10px\", cursor: \"pointer\", color: \"#213366\" }}\n            >\n              <i className=\"fa fa-times fs-3\" aria-hidden=\"true\"></i>\n            </span>\n\n            <div className=\"Data-1 cstm-modal\">\n              <h5 className=\"fs-4 text-muted fw-700\">\n                Schedule Your Virtual Date for Meaningful Connections!\n              </h5>\n              <div className=\"settime\">\n              \n               <Timer/>\n                <span className=\"clock-icon\" onClick={onClick} value={value}   >\n                <i class=\"fa-solid fa-clock fa-xl\" style={{color:\"#B197FC\"}}></i>\n                </span>\n              </div>\n              <div className=\"setdate\">\n                <input\n                  className=\"date\"\n                  type=\"\"\n                  dateFormat=\"DD/MM/YYYY\"\n                  placeholder=\"Choose Date\"\n                  value={selectedDate.toLocaleDateString()}\n                  onClick={handleCalendarClick}\n                />\n                <span className=\"calander-icon\" onClick={handleCalendarClick}>\n                <i class=\"fa-regular fa-calendar-days fa-xl\" style={{color:\"#B197FC\"}}></i>\n                </span>\n              </div>\n                <div>\n                <VenuePicker onVenueChange={handleVenueChange} />\n                </div>\n            </div>\n          </div>\n     \n          <div className=\"sched-button\" onClick={(e) => {\n              e.preventDefault();\n              NotifyScheduleData();\n              handleSubmit(e);\n            }}>\n            <button  className=\"date-btn\">\n              <p className=\"date-content\">Schedule Date</p>\n            </button>\n          </div>\n      \n        </>\n          ) : showClock ? (\n            <div className=\"clockArea\">\n            \n            </div>\n            \n      ) : (\n        <div className=\"calenderArea\">\n          <Calendar\n            dateFormat=\"DD/MM/YYYY\"\n            onChange={handleDateChange}\n            value={selectedDate}\n          \n          />\n        </div>\n      )}\n      \n    </Modal>\n  );\n};\n\nexport default EventCalenderSchedule;\n"],"names":["_ref","_User$avatars","_eventnotifyData$sele3","_eventnotifyData$sele4","_eventnotifyData$sele5","_eventnotifyData$sele6","_eventnotifyData$sele7","_eventnotifyData$sele8","_eventnotifyData$sele9","_eventnotifyData$sele0","showModal","editIndex","ViewUser","setEditIndex","hideModal","calenderScheduleDAte","selectedUser","selectedMemberForEvent","userInfoDate","scheduledData","dispatch","useDispatch","User","useSelector","state","profile","userData","datingId","localStorage","getItem","user_Data","JSON","parse","Store","_Store$activies","_Store$activies$Activ","activies","Activity","data","useEffect","getBySenderUserIds","modeid","MODE_METRI","id","_id","eventnotifyData","user","selectUser","receiverUserId","_jsx","Modal","show","onHide","centered","children","_jsxs","className","style","position","onClick","right","top","color","cursor","xmlns","width","height","viewBox","fill","d","x1","y1","x2","y2","offset","stopColor","zIndex","name","occupation","address","src","mainAvatar","BASE_URL","avatars","userMale","alt","class","date","time","venue","Link","async","_eventnotifyData$sele","_eventnotifyData$sele2","e","preventDefault","payload","senderUserId","action_logs","description","note","mode","resultAction","createEvent","res","unwrapResult","_res$data","isSuccess","getEventsM","toast","success","error","console","value","setValue","useState","TimePicker","onChange","CustomAlert","message","onClose","backgroundColor","padding","borderRadius","boxShadow","textAlign","maxWidth","_ref2","customAlert","setCustomAlert","questions","options","currentQuestion","setCurrentQuestion","currentDiv","setCurrentDiv","selectedOptions","setSelectedOptions","Array","length","float","map","option","index","updatedOptions","handleOptionSelect","fontSize","handlePrevClick","handleNextClick","undefined","every","margin","CircularProgressbar","maxValue","strokeWidth","counterClockwise","background","backgroundPadding","text","styles","buildStyles","textColor","pathColor","trailColor","RelationshipMilestoneList","activity","showMilestone","setShowMilestone","totalMilStones","size","Scrollbars","autoHide","slice","val","i","to","imgAlt","href","handleLoadMoreMilestone","newMilestoneToShow","Math","min","useNavigate","Header","closeButton","Title","Body","Footer","justifyContent","Button","variant","border","handleBlockUserFromChat","_selectedUser$receive","targetUserId","blockUser","unwrap","then","catch","err","reportReason","setReportReason","additionalDetails","setAdditionalDetails","Form","Group","controlId","Label","Control","as","target","disabled","rows","placeholder","handleReport","showClock","setShowClock","selectedDate","setSelectedDate","Date","showCalendar","setShowCalendar","selectedTime","setSelectedTime","handleCalendarClick","venues","VenuePopup","selectedVenue","setSelectedVenue","isPopupOpen","setPopupOpen","handlePickVenue","randomIndex","floor","random","Calendar","dateFormat","_Fragment","TimerMetri","type","toLocaleDateString","handleClosePopup","Lodder","MutatingDots","visible","secondaryColor","radius","ariaLabel","wrapperStyle","left","transform","wrapperClass","log","SOCKET_URL","Chat","_currentRoomObj$other","_selectedUser$receive9","inputMessage","setInputMessage","chatMessages","setChatMessages","allMessages","setAllMessages","showEmojiPicker","setShowEmojiPicker","selectedEmojis","setSelectedEmojis","SelectedFile","setSelectedFile","scrollbarsRef","useRef","CheckCompatibility","setCheckCompatibility","NotificationSchedule","setNotificationSchedule","calenderSchedule","setCalenderSchedule","blocklUser","setBlockUser","reportUser","setReportUser","Milestone","setMilestone","setSelectedUser","isMobileView","setIsMobileView","searchQuery","setSearchQuery","filteredItems","setFilteredItems","loading","setLoading","loadingChat","setLoadingChat","currentRoom","setCurrentRoom","isTyping","setIsTyping","typingUser","setTypingUser","isCreatingRoom","setIsCreatingRoom","inboxRooms","setInboxRooms","editingMessage","setEditingMessage","replyingToMessage","setReplyingToMessage","currentRoomObj","find","room","roomId","otherUserName","otherUser","chatPagination","setChatPagination","page","limit","total","pages","messageRestricted","setMessageRestricted","socketConnected","setSocketConnected","mutualActivities","setMutualActivities","unreadCounts","setUnreadCounts","showNotification","setShowNotification","blockedUsersRaw","block","blockedUsers","isArray","blockedByUsers","saveChatToStorage","messages","chatKey","chatData","timestamp","toISOString","userId","setItem","stringify","loadChatFromStorage","storedData","dataAge","maxAge","removeItem","matchUserList","isCurrentUserBlockedByMe","some","blockedUser","_blockedUser$blocked","_selectedUser$receive2","blocked","isBlockedByCurrentUser","_selectedUser$receive3","_selectedUser$receive4","getUnreadCount","getTotalUnreadMessages","Object","keys","forEach","count","_room$otherUser","r","key","handleUnblockFromChat","_selectedUser$receive5","_selectedUser$receive6","_selectedUser$receive7","unblockUser","getBlockedUsers","setShowModal","showVideoCallModal","setShowVideoCallModal","socketRef","handleShow","handleHide","handleShowVideoCall","handleHideVideoCall","_selectedUser$receive8","checkIfBlockedBy","currentUserId","userId1","userId2","_user_Data$data","_result$data","result","checkMutualActivities","modeId","reverseKey","isMutual","prev","checkMutualLikes","clearOldChatCache","filter","startsWith","current","io","query","on","emit","_data$message$senderI","_data$message$senderI2","_data$message$senderI3","senderId","isBlockedSender","_blockedUser$blocked2","isBlockedByThisSender","isVisible","isMessageVisible","otherUserId","_message$senderId","_data$message$senderI4","_data$message$senderI5","_data$message$senderI6","updatedMessages","lastMessage","content","createdAt","updatedAt","filteredMessages","msg","isTemporary","scrollToBottom","setTimeout","_prev$data$roomId","_prev$data$roomId2","messageId","_data$message$senderI7","_data$message$senderI8","_data$messages","_data$messages2","pagination","_msg$senderId","isFirstPage","_msg$senderId2","_msg$senderId3","existingMessages","self","findIndex","m","roomData","userName","includes","_prev$currentRoom","alert","disconnect","nonTemporaryMessages","cachedMessages","typingTimer","trim","clearTimeout","clockTime","calenderDate","handleToggleEmojiPicker","handleSelectEmoji","emojiObject","emoji","prevMessage","handleFileChange","files","selectedFile","handleUserSelect","_userData$receiverUse","_userData$receiverUse2","_selectedUser$receive0","off","handleRoomsList","rooms","arguments","existing","_r$otherUser","users","u","participants","p","cleanup","toUserId","handleRoomCreated","handleRoomError","_error$message","handleRoomFound","ensureRoomForUser","handleSendMessage","messageData","replyToId","tempMessage","now","replyTo","handleEditMessage","newContent","handleReplyToMessage","inputElement","document","querySelector","focus","handleLoadMoreMessages","nextPage","requestChatHistory","refreshCurrentChatHistory","testChatHistory","testPersistence","_data$messages3","messageCount","clearAllChatCache","React","window","handleKeyDown","giftItems","imgUrl","img1","img2","img3","img4","img5","img6","img7","img8","img9","img10","img11","handleChange","event","filtered","item","_item$name","toLowerCase","handleSearch","selectedData","setSelectedData","handleResize","innerWidth","addEventListener","removeEventListener","uniqueMatchUserList","_item$receiverUserId","_m$receiverUserId","_item$receiverUserId2","combinedUserList","combined","addedUserIds","Set","_room$otherUser2","push","add","_user$receiverUserId","has","sort","a","b","_a$receiverUserId","_a$receiverUserId2","_a$receiverUserId2$la","_b$receiverUserId","_b$receiverUserId2","_b$receiverUserId2$la","timeA","renderChatUsersList","MDBInputGroup","MDBIcon","fas","icon","MDBTypography","listUnStyled","_selectedUser$receive1","_val$receiverUserId","_selectedUser$receive10","_val$receiverUserId2","_val$receiverUserId3","_val$receiverUserId4","_val$receiverUserId5","_val$receiverUserId5$","_val$receiverUserId6","_val$receiverUserId7","_val$receiverUserId13","_val$receiverUserId14","_val$receiverUserId15","onLoad","onError","_val$receiverUserId9","isBlocked","_blockedUser$blocked3","_val$receiverUserId8","isBlockedBy","fontWeight","fontFamily","_val$receiverUserId1","_val$receiverUserId10","_val$receiverUserId11","_val$receiverUserId12","_blockedUser$blocked4","_val$receiverUserId0","renderMessageContent","toLocaleTimeString","_val$receiverUserId16","_val$receiverUserId17","unreadCount","hasMutualLikes","_selectedUser$receive11","_val$receiverUserId18","_selectedUser$receive12","_val$receiverUserId19","_val$receiverUserId20","_val$receiverUserId21","_val$receiverUserId22","_val$receiverUserId23","_val$receiverUserId24","_val$receiverUserId25","_val$receiverUserId33","_val$receiverUserId34","_val$receiverUserId35","gap","objectFit","_val$receiverUserId27","_blockedUser$blocked5","_val$receiverUserId26","_val$receiverUserId29","_val$receiverUserId30","_val$receiverUserId31","_val$receiverUserId32","_blockedUser$blocked6","_val$receiverUserId28","_val$receiverUserId36","_val$receiverUserId37","formatMessageTime","isToday","toDateString","hour","minute","lineHeight","renderChatBox","_selectedUser$receive13","_selectedUser$receive14","_selectedUser$receive15","_selectedUser$receive16","_selectedUser$receive17","_selectedUser$receive18","_replyingToMessage$se","marginTop","substring","title","opacity","IncomingCallModal","VideoCallModal","ref","LoaderChat","_selectedUser$receive19","_message$senderId2","_blockedUser$blocked7","_message$senderId3","_message$senderId4","_message$senderId5","_User$avatars2","_selectedUser$receive20","_selectedUser$receive21","_selectedUser$receive22","_selectedUser$receive23","_selectedUser$receive24","_message$senderId6","_blockedUser$blocked8","file","URL","createObjectURL","defaultValue","onKeyDown","autoFocus","input","parentElement","previousElementSibling","isEdited","handleDeleteMessage","confirm","dummyUserPic","namess","namesss","display","role","alignItems","minHeight","marginRight","transition","whiteSpace","onMouseOver","onMouseOut","EmojiPicker","onEmojiClick","chatBG","dangerouslySetInnerHTML","__html","HeaderFour","MDBContainer","fluid","MDBRow","MDBCol","md","paddingLeft","paddingRight","MDBCard","MDBCardBody","lg","xl","borderRight","CheckCompatibilityModalMetri","RelationshipMilestoneTrackerMetri","BlockUserModalMetri","ReportUserModalMetri","CalenderScheduleMetri","EventCalenderScheduleModal","NotifyScheduleData","EventNotificationScheduleModal","Popup","venuesList","handleVenueSelection","onVenueChange","setVenuesList","readOnly","Timer","VenuePicker","handleSubmit"],"sourceRoot":""}