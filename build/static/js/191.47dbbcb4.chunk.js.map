{"version":3,"file":"static/js/191.47dbbcb4.chunk.js","mappings":"kNAOA,MAsGA,EAtGuBA,KAAO,IAADC,EAC3B,MAAOC,EAAmBC,IAAwBC,EAAAA,EAAAA,UAAS,KACpDC,EAAWC,IAAgBF,EAAAA,EAAAA,UAAS,IACrCG,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEXC,EAAOC,aAAaC,QAAQ,YAC5BC,EAAUH,EAAOI,KAAKC,MAAML,GAAQ,KACpCM,EAAgB,OAAPH,QAAO,IAAPA,GAAa,QAANb,EAAPa,EAASI,YAAI,IAAAjB,OAAN,EAAPA,EAAekB,KAE9BC,EAAAA,EAAAA,WAAU,KACcC,WACpB,IACE,MAOMH,SAPYX,GAChBe,EAAAA,EAAAA,IAAe,CACbC,MAAO,2BACPC,QAAS,EACTC,UAAW,QAGEC,QAAQR,KACzBZ,EAAaY,EACf,CAAE,MAAOS,GACPC,EAAAA,GAAMC,MAAM,2BACd,GAEFC,IACC,CAACvB,IA8BJ,OACEwB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,uCAAsCC,SAAA,EACnDF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,kBAAiBC,SAAA,EAC9BC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,OAAMC,SAAC,2BACrBC,EAAAA,EAAAA,KAAA,OAAKF,UAAU,MAAKC,SACjB5B,EAAU8B,IAAI,CAACC,EAAUC,KACxBH,EAAAA,EAAAA,KAACI,EAAAA,GAAI,CAEHC,MAAO,CACLC,OAAQ,cACNtC,EAAkBuC,SAASL,GAAY,UAAY,aAErDM,OAAQ,sBACRC,QAAS,WACTC,aAAc,OACdC,OAAQ,WAEVb,UAAW,8BACT9B,EAAkBuC,SAASL,GAAY,WAAa,IAEtDU,QAASA,IAhDSV,KACxBlC,EAAkBuC,SAASL,GAC7BjC,EAAsB4C,GAASA,EAAKC,OAAQC,GAASA,IAASb,IAE9DjC,EAAsB4C,GAAS,IAAIA,EAAMX,KA4ClBc,CAAqBd,GAAUH,SAE7CG,EAASe,MAfLd,UAoBbH,EAAAA,EAAAA,KAAA,OAAKF,UAAU,aAAYC,SACxB/B,EAAkBkD,OAAS,GAC1BlB,EAAAA,EAAAA,KAAA,UAAQF,UAAU,sBAAsBc,QAjDrBzB,UACzB,IACE,MAAMgC,EAAcnD,EAAkBiC,IAAKmB,GAAMA,EAAEnC,KAAOmC,EAAEC,IAAMD,SAE5D1B,EAAAA,GAAM4B,QACVjD,GAASkD,EAAAA,EAAAA,IAAqB,CAAExC,SAAQZ,UAAWgD,KACnD,CACEK,QAAS,wCACTC,SAASzB,EAAAA,EAAAA,KAAA,KAAAD,SAAG,mCACZJ,OAAOK,EAAAA,EAAAA,KAAA,KAAAD,SAAG,wCAIdxB,EAAS,0BACX,CAAE,MAAOoB,GACPD,EAAAA,GAAMC,MAAM,gDACd,GAiC0EI,UAClEC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,6BAGRC,EAAAA,EAAAA,KAAA,UACEF,UAAU,sBACVc,QAASA,IAAMrC,EAAS,2BAA2BwB,UAEnDC,EAAAA,EAAAA,KAAA,QAAAD,SAAM,gB","sources":["metrimoniul/pagesMetrimoniul/select-intrests.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport toast, { Toaster } from \"react-hot-toast\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { updateInterestsAsync } from \"../../dating/store/slice/profileSlice\"; // ‚úÖ same as dating\r\nimport { fetchInterests } from \"../../service/common-service/getuserbyGender\"; // ‚úÖ same as dating\r\n\r\nconst SelectInterest = () => {\r\n  const [selectedInterests, setSelectedInterests] = useState([]);\r\n  const [interests, setInterests] = useState([]);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const user = localStorage.getItem(\"userData\");\r\n  const userObj = user ? JSON.parse(user) : null;\r\n  const userId = userObj?.data?._id;\r\n\r\n  useEffect(() => {\r\n    const loadInterests = async () => {\r\n      try {\r\n        const res = await dispatch(\r\n          fetchInterests({\r\n            token: \"68d103d5aa4b176726e60421\", \r\n            page_no: 1,\r\n            page_size: 1000,\r\n          })\r\n        );\r\n        const data = res.payload.data;\r\n        setInterests(data);\r\n      } catch (err) {\r\n        toast.error(\"Failed to load interests\");\r\n      }\r\n    };\r\n    loadInterests();\r\n  }, [dispatch]);\r\n\r\n  const handleInterestToggle = (interest) => {\r\n    if (selectedInterests.includes(interest)) {\r\n      setSelectedInterests((prev) => prev.filter((item) => item !== interest));\r\n    } else {\r\n      setSelectedInterests((prev) => [...prev, interest]);\r\n    }\r\n  };\r\n\r\n  const handleNavigateHome = async () => {\r\n    try {\r\n      const interestIds = selectedInterests.map((i) => i._id || i.id || i);\r\n  \r\n      await toast.promise(\r\n        dispatch(updateInterestsAsync({ userId, interests: interestIds })),\r\n        {\r\n          loading: \"Saving your interests üòç...\",\r\n          success: <b>Settings saved! Redirecting...</b>,\r\n          error: <b>Could not save. Please try again.</b>,\r\n        }\r\n      );\r\n  \r\n      navigate(\"/metrimonial/add-photos\");\r\n    } catch (error) {\r\n      toast.error(\"Error submitting interests. Please try again.\");\r\n    }\r\n  };\r\n  \r\n\r\n  return (\r\n    <div className=\"container padding-top padding-bottom\">\r\n      <div className=\"row text-center\">\r\n        <h2 className=\"mb-4\">Select Your Interests</h2>\r\n        <div className=\"col\">\r\n          {interests.map((interest, index) => (\r\n            <Link\r\n              key={index}\r\n              style={{\r\n                border: `1px solid ${\r\n                  selectedInterests.includes(interest) ? \"#d63384\" : \"lightgray\"\r\n                }`,\r\n                margin: \"10px 10px 10px 10px\",\r\n                padding: \"5px 12px\",\r\n                borderRadius: \"25px\",\r\n                cursor: \"pointer\",\r\n              }}\r\n              className={`interest-item flex-nowrap ${\r\n                selectedInterests.includes(interest) ? \"selected\" : \"\"\r\n              }`}\r\n              onClick={() => handleInterestToggle(interest)}\r\n            >\r\n              {interest.name}\r\n            </Link>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"col-4 mt-4\">\r\n        {selectedInterests.length > 0 ? (\r\n          <button className=\"default-btn reverse\" onClick={handleNavigateHome}>\r\n            <span>Submit your interests</span>\r\n          </button>\r\n        ) : (\r\n          <button\r\n            className=\"default-btn reverse\"\r\n            onClick={() => navigate(\"/metrimonial/add-photos\")}\r\n          >\r\n            <span>Skip</span>\r\n          </button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SelectInterest;\r\n"],"names":["SelectInterest","_userObj$data","selectedInterests","setSelectedInterests","useState","interests","setInterests","dispatch","useDispatch","navigate","useNavigate","user","localStorage","getItem","userObj","JSON","parse","userId","data","_id","useEffect","async","fetchInterests","token","page_no","page_size","payload","err","toast","error","loadInterests","_jsxs","className","children","_jsx","map","interest","index","Link","style","border","includes","margin","padding","borderRadius","cursor","onClick","prev","filter","item","handleInterestToggle","name","length","interestIds","i","id","promise","updateInterestsAsync","loading","success"],"sourceRoot":""}