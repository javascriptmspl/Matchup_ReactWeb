"use strict";(self.webpackChunkMatchup=self.webpackChunkMatchup||[]).push([[838],{2481:(e,s,t)=>{t.d(s,{A:()=>x});var a=t(5043),i=t(9456),l=t(2),o=t(5475),n=t(3768),r=t(3463),d=t(3829),c=t(8408),m=t(7459),u=t(870),h=t(2520),p=t(579);const x=e=>{var s,t,x,g,f,v,y,j,b;let{showModal:N,editIndex:w,ViewUser:C,setEditIndex:k,hideModal:S,calenderScheduleDAte:I,selectedUser:A,selectedMemberForEvent:_,userInfoDate:U,scheduledData:T}=e;const D=(0,i.wA)(),M=(0,i.d4)(e=>e.profile.userData),R=localStorage.getItem("userData"),Y=JSON.parse(R),E=(0,i.d4)(e=>e);(0,i.d4)(e=>{var s,t;return(null===E||void 0===E||null===(s=E.activies)||void 0===s||null===(t=s.Activity)||void 0===t?void 0:t.data)||[]});(0,a.useEffect)(()=>{D((0,c.yB)({modeid:d.o4,id:Y.data._id}))},[Y.data._id]);const $={user:M,selectUser:null!==w?null===C||void 0===C?void 0:C.receiverUserId:_||(null===A||void 0===A?void 0:A.receiverUserId),scheduledData:T};return(0,p.jsx)(l.A,{show:N,onHide:S,centered:!0,children:(0,p.jsxs)("div",{className:"main",style:{position:"relative"},children:[(0,p.jsx)("span",{onClick:S,style:{position:"absolute",right:"20px",top:"8px",color:"#213366",cursor:"pointer"},children:(0,p.jsx)("i",{className:"fa fa-times fs-3 modal-cls","aria-hidden":"true"})}),(0,p.jsxs)("div",{className:"svg-top ",children:[(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"330",height:"405",viewBox:"0 0 330 405",fill:"none",className:"sched-modal",children:[(0,p.jsx)("path",{d:"M192.069 338.654C43.1066 317.937 22.2553 364.484 0.00750924 404.24L7.50122e-09 20.0255C-0.000299446 8.96583 8.96523 0 20.0248 0H309.519C320.577 0 329.544 8.96583 329.544 20.0245L329.543 243.055C325.491 286.302 295.076 352.979 192.069 338.654Z",fill:"#D6B6F9"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:"gradient-col",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,p.jsx)("stop",{offset:"0%",style:{stopColor:"#F093FB"}}),(0,p.jsx)("stop",{offset:"100%",style:{stopColor:"#f24570"}})]})})]}),(0,p.jsxs)("div",{className:"upperData matched-modal",children:[(0,p.jsx)("h3",{style:{zIndex:"999999"},children:"You\u2019re Matched"}),(0,p.jsx)("p",{children:"You and Desirae have both liked each other"}),(0,p.jsxs)("div",{className:"coll row",children:[(0,p.jsxs)("div",{className:"col-md-8 mod-person-lft col-8",children:[(0,p.jsxs)("p",{className:"fs-4 text-muted fw-600 per-txt",children:[" ",(null===M||void 0===M?void 0:M.name)||""]}),(0,p.jsxs)("p",{className:"fs-4 text-muted fw-600 per-dest",children:[" ",(null===M||void 0===M?void 0:M.occupation)||""]}),(0,p.jsxs)("p",{className:"fs-4 text-muted fw-600 location ",children:[(0,p.jsx)("span",{children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:(0,p.jsx)("path",{d:"M3.91737 0.696289C1.75734 0.696289 0 2.45151 0 4.61014C0 7.49576 3.61369 10.929 3.76886 11.0742C3.81171 11.1122 3.86501 11.1333 3.91737 11.1333C3.97067 11.1333 4.02588 11.1122 4.06682 11.0742C4.222 10.929 7.83569 7.50476 7.83569 4.61014C7.83569 2.45151 6.07834 0.696289 3.91737 0.696289ZM3.91737 6.37335C2.94444 6.37335 2.15242 5.58237 2.15242 4.61014C2.15242 3.63696 2.94444 2.84698 3.91737 2.84698C4.89124 2.84698 5.68233 3.63696 5.68233 4.61014C5.68233 5.58237 4.89124 6.37335 3.91737 6.37335Z",fill:"white"})})}),(null===M||void 0===M?void 0:M.address)||"New York"]})]}),(0,p.jsx)("div",{className:"col-md-4 col-4 modal-imgg-wrap",children:(0,p.jsx)("div",{className:"girl ",children:(0,p.jsx)("img",{src:null!==M&&void 0!==M&&M.mainAvatar?`${m.C}/assets/images/${null===M||void 0===M?void 0:M.mainAvatar}`:null!==M&&void 0!==M&&null!==(s=M.avatars)&&void 0!==s&&s[0]?`${m.C}/assets/images/${null===M||void 0===M?void 0:M.avatars[0]}`:r,alt:"dating thumb"})})})]}),(0,p.jsx)("div",{className:" col6 heart-svg",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"23",viewBox:"0 0 24 23",fill:"none",children:(0,p.jsx)("path",{d:"M21.3406 2.97626C18.7864 0.422095 14.7424 0.178778 11.9449 2.30744C9.11644 0.208838 5.10345 0.422095 2.51825 2.97626C-0.278217 5.77375 -0.278217 10.3644 2.51825 13.1619L11.1239 21.7666L11.9139 22.5576L21.3406 13.1319C24.1681 10.3644 24.1681 5.80378 21.3406 2.97626ZM19.7897 11.611L14.1947 17.2059C13.9514 15.8072 13.2826 14.4395 12.6438 13.1319C11.154 10.061 9.87738 7.41575 12.7349 4.55723L12.9172 4.37501C14.8636 2.61082 17.9043 2.67188 19.7897 4.55723C21.7351 6.50263 21.7351 9.66556 19.7897 11.611Z",fill:"white"})})}),(0,p.jsxs)("div",{className:"row rt2",children:[(0,p.jsx)("div",{className:"col-md-4 col-4 modal-imgg-wrap",children:(0,p.jsx)("img",{className:"img2 rounded-50",src:null!==$&&void 0!==$&&null!==(t=$.selectUser)&&void 0!==t&&t.mainAvatar?`${m.C}/assets/images/${null===$||void 0===$||null===(x=$.selectUser)||void 0===x?void 0:x.mainAvatar}`:null!==$&&void 0!==$&&null!==(g=$.selectUser)&&void 0!==g&&null!==(f=g.avatars)&&void 0!==f&&f[0]?`${m.C}/assets/images/${null===$||void 0===$||null===(v=$.selectUser)||void 0===v?void 0:v.avatars[0]}`:r,alt:""})}),(0,p.jsxs)("div",{className:"col-md-8 mod-person-rt col-8",children:[(0,p.jsx)("p",{className:"fs-4 text-muted fw-600 per-txt",children:(null===$||void 0===$||null===(y=$.selectUser)||void 0===y?void 0:y.name)||"not found"}),(0,p.jsx)("p",{className:"fs-4 text-muted fw-600 per-dest",children:(null===$||void 0===$||null===(j=$.selectUser)||void 0===j?void 0:j.occupation)||""}),(0,p.jsxs)("p",{className:"fs-4 text-muted fw-600 location",children:[(0,p.jsx)("span",{className:"location2",children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:(0,p.jsx)("path",{d:"M3.91737 0.696289C1.75734 0.696289 0 2.45151 0 4.61014C0 7.49576 3.61369 10.929 3.76886 11.0742C3.81171 11.1122 3.86501 11.1333 3.91737 11.1333C3.97067 11.1333 4.02588 11.1122 4.06682 11.0742C4.222 10.929 7.83569 7.50476 7.83569 4.61014C7.83569 2.45151 6.07834 0.696289 3.91737 0.696289ZM3.91737 6.37335C2.94444 6.37335 2.15242 5.58237 2.15242 4.61014C2.15242 3.63696 2.94444 2.84698 3.91737 2.84698C4.89124 2.84698 5.68233 3.63696 5.68233 4.61014C5.68233 5.58237 4.89124 6.37335 3.91737 6.37335Z",fill:"white"})})}),(null===$||void 0===$||null===(b=$.selectUser)||void 0===b?void 0:b.address)||""]})]})]})]}),(0,p.jsxs)("div",{className:"date-time-wrap",children:[(0,p.jsxs)("p",{className:"date-modal",children:[(0,p.jsx)("i",{class:"fas fa-calendar-alt"}),(null===T||void 0===T?void 0:T.date)||"02-02-2026"]}),(0,p.jsxs)("p",{className:"time-modal",children:[(0,p.jsx)("i",{class:"fas fa-clock"}),(null===T||void 0===T?void 0:T.time)||"05:00 PM"]}),(0,p.jsxs)("p",{className:"loc-modal",children:[(0,p.jsx)("i",{class:"fas fa-map-marker-alt"}),(null===T||void 0===T?void 0:T.venue)||"New York"]})]}),(0,p.jsxs)("div",{className:"main-bottom",children:[(0,p.jsx)(o.N_,{onClick:S,children:(0,p.jsx)("button",{className:"send-msg-btn",children:(0,p.jsx)("p",{className:"content",children:"Send a Message"})})}),(0,p.jsx)(o.N_,{children:(0,p.jsx)("button",{onClick:async e=>{var s,t;e.preventDefault();const a={senderUserId:(null===M||void 0===M?void 0:M._id)||(null===M||void 0===M?void 0:M.id)||Y.data._id,receiverUserId:(null===$||void 0===$||null===(s=$.selectUser)||void 0===s?void 0:s._id)||(null===$||void 0===$||null===(t=$.selectUser)||void 0===t?void 0:t.id)||"",action_logs:"Scheduled via app",description:(null===T||void 0===T?void 0:T.description)||"1st meet",note:(null===T||void 0===T?void 0:T.note)||"User scheduled a date",mode:(null===T||void 0===T?void 0:T.mode)||"68d103ffaa4b176726e60424"};try{const e=await D((0,u.lh)(a)),s=(0,h.pH)(e);var i;if(!0===s.isSuccess)D((0,u.fd)(null===s||void 0===s||null===(i=s.data)||void 0===i?void 0:i.senderUserId)),n.Ay.success("Schedule date successfully updated"),S();else n.Ay.error("Failed to schedule event")}catch(l){console.error("Promise error during createEvent:",l),n.Ay.error("Failed to schedule event")}},className:"schedule-date",children:(0,p.jsx)("p",{className:"celender schedulename",children:"Submit"})})})]})]})]})})}},5610:(e,s,t)=>{t.r(s),t.d(s,{default:()=>W});var a=t(5043),i=t(9805),l=t(2),o=t(4282),n=t(3360),r=t(1669),d=t(4258),c=t(3216),m=t(5475),u=t(3768),h=t(1468);const p=t.p+"static/media/marrage-chat-bg.2f7cb3016da30c3563dc.jpg";var x=t(4957),g=t(3463),f=t(9456),v=t(7459),y=t(9778),j=t(4622),b=t(4329),N=t(3093),w=t(5826),C=(t(6555),t(579));const k=e=>{let{message:s,onClose:t}=e;return(0,C.jsxs)("div",{className:"position-fixed top-50 start-50 translate-middle",style:{backgroundColor:"#ffff",padding:"20px",borderRadius:"10px",boxShadow:"0 0 10px rgba(0, 0, 0, 0.3)",textAlign:"center",width:"80%",maxWidth:"400px"},children:[(0,C.jsx)("p",{children:s}),(0,C.jsx)("button",{style:{color:"#f24570"},className:"btn btn-",onClick:t,children:"OK"})]})},S=e=>{let{showModal:s,hideModal:t}=e;const[i,o]=(0,a.useState)(null),n=["Do you prefer to be a protector or nurturer in your relationships?","What is your ideal date night?","How do you handle conflicts in a relationship?","What is your love language?","How important is physical affection in a relationship?"],r=[["Protector","Nurturer","Sometimes protector, sometimes nurturer","Don\u2019t Care"],["Dinner and a movie","Outdoor adventure","Cooking together at home","Netflix and chill"],["I confront the issue directly","I prefer to avoid conflicts","I compromise and find a middle ground"],["Words of affirmation","Acts of service","Receiving gifts","Quality time","Physical touch"],["Very important","Moderately important","Not important"]],[d,c]=(0,a.useState)(0),[m,u]=(0,a.useState)(0),[h,p]=(0,a.useState)(Array(r.length).fill());return(0,C.jsxs)(l.A,{show:s,onHide:t,centered:!0,children:[i&&(0,C.jsx)(k,{message:i.message,onClose:()=>o(null)}),(0,C.jsx)("span",{onClick:t,children:(0,C.jsx)("i",{className:"fa fa-times fs-3","aria-hidden":"true",style:{cursor:"pointer",float:"right",padding:"15px 25px 0 0"}})}),0===m&&(0,C.jsxs)("div",{className:"container px-3 pb-3 px-sm-5 pb-sm-5",children:[(0,C.jsxs)("div",{className:" ",children:[(0,C.jsx)("div",{className:"col-12",children:(0,C.jsx)("p",{className:"text-center text-dark fs-3",children:"Compatibility Quiz"})}),(0,C.jsx)("div",{className:"col-12 px-3 px-sm-5",children:(0,C.jsx)("p",{className:"text-center",children:"Answer at least 5 questions & find out how compatible you are with other users"})})]}),(0,C.jsxs)("div",{className:"compatibility-quiz-box mx-3",children:[(0,C.jsxs)("div",{className:"top-quiz mb-2",children:[(0,C.jsx)("p",{className:"top-quiz-req-que text-muted",children:`Required question ${d+1}/${n.length}`}),(0,C.jsx)("br",{}),(0,C.jsx)("p",{className:"top-quiz-que my-2",children:n[d]})]}),(0,C.jsx)("div",{className:"py-2",children:r[d].map((e,s)=>(0,C.jsx)("p",{className:"rounded-4 top-quiz-option pointer py-3 ps-4 "+(h[d]===e?"selected-option":""),onClick:()=>(e=>{const s=[...h];s[d]=r[d][e],p(s)})(s),style:{backgroundColor:h[d]===e?"#f24570":"whitesmoke",color:h[d]===e?"white":"black",fontSize:"1rem"},children:e},s))}),(0,C.jsxs)("div",{children:[d>0&&(0,C.jsx)("button",{className:"default-btn reverse mt-4",style:{float:"left"},onClick:()=>{d>0&&c(d-1)},children:(0,C.jsx)("span",{children:"Prev"})}),(0,C.jsx)("button",{className:"default-btn reverse mt-4 ",style:{float:"right"},onClick:()=>{if(d<n.length-1)if(void 0===h[d]){o({message:"Please answer the current question before moving to the next one."})}else c(d+1);else if(h.every(e=>void 0!==e))u(1);else{o({message:"Please answer all questions before submitting."})}},children:(0,C.jsx)("span",{children:d===n.length-1?"Submit":"Next"})})]})]})]}),1===m&&(0,C.jsxs)("div",{className:"pb-5",children:[(0,C.jsxs)("div",{className:"container px-5",children:[(0,C.jsx)("div",{className:"my-2",children:(0,C.jsx)("div",{style:{width:"150px",margin:"auto"},children:(0,C.jsx)(w.QF,{maxValue:100,strokeWidth:10,value:60,counterClockwise:!1,background:!1,backgroundPadding:10,text:"60%",styles:(0,w.Hf)({textColor:"#f24570",pathColor:"#f24570",trailColor:"whitesmoke"})})})}),(0,C.jsx)("div",{className:"my-2 mt-5",children:(0,C.jsx)("h6",{children:"Things you have in common : "})}),(0,C.jsxs)("div",{className:" ps-3 my-2 mt-3",children:[(0,C.jsx)("p",{children:"1. You both agree that when it comes to love, it always requires hard work!"}),(0,C.jsx)("p",{children:"2. You both value work-life balance over success!"})]})]}),(0,C.jsx)("hr",{className:"my-2"}),(0,C.jsxs)("div",{className:"container px-5",children:[(0,C.jsx)("p",{className:"text-dark fs-5 mt-2",children:"details"}),(0,C.jsx)("p",{className:"ps-3",children:"Your score suggests that there is likely a low-moderate level of potential compatibility between you and this person when it comes to several important elements of successful relationships. It is a long-established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters, as opposed to using 'Content here, content here', making it look like readable English."})]})]})]})},I=[{text:"Started a beautiful journey together",activity:"2 days ago"},{text:"Celebrated the first month of happiness",activity:"2 days ago"},{text:"Shared special moments with each other's families",activity:"2 days ago"},{text:"Embarked on a romantic trip together",activity:"2 days ago"},{text:"Decided to share a home and move in together",activity:"2 days ago"},{text:"Took a step forward and got engaged",activity:"2 days ago"},{text:"Tied the knot and became a married couple",activity:"2 days ago"},{text:"Welcomed their first bundle of joy into the world",activity:"2 days ago"},{text:"Celebrated the joyous 5-year milestone together",activity:"2 days ago"},{text:"Still going strong after a decade of love!",activity:"2 days ago"}],A=e=>{let{showModal:s,hideModal:t,selectedUser:i}=e;const[o,r]=(0,a.useState)(5),d=I.length;return(0,C.jsxs)(l.A,{className:"me-2",show:s,onHide:t,centered:!0,size:"lg",children:[(0,C.jsx)("span",{onClick:t,children:(0,C.jsx)("i",{className:"fa fa-times fs-3","aria-hidden":"true",style:{cursor:"pointer",color:"white",float:"right",right:"0px",padding:"15px 25px 0 0",position:"absolute"}})}),(0,C.jsx)("div",{className:"activity ",children:(0,C.jsxs)("div",{className:"container",children:[(0,C.jsxs)("div",{class:"jumbotron p-lg-4 p-2 rounded-2",children:[(0,C.jsx)("p",{class:"display-5",children:"Relationship Milestone Tracker"}),(0,C.jsx)("p",{class:"lead",children:"Track and celebrate the special moments in your relationship journey."})]}),(0,C.jsx)("div",{className:"row g-4 pb-2",children:(0,C.jsx)(n.Ay,{autoHide:!0,style:{position:"relative",height:"530px"},children:(0,C.jsx)("div",{className:"col-lg-12",children:(0,C.jsx)("div",{className:"group__bottom--area",children:(0,C.jsx)("div",{className:"group__bottom--body bg-white",children:(0,C.jsxs)("div",{className:"group__bottom--group",children:[(0,C.jsx)("div",{className:"row g-4 justify-content-center mx-12-none row-cols-1",children:I.slice(0,o).map((e,s)=>(0,C.jsx)("div",{className:"col",children:(0,C.jsx)("div",{className:"activity__item",children:(0,C.jsxs)("div",{className:"activity__inner",children:[(0,C.jsx)("div",{className:"activity__thumb",children:(0,C.jsx)(m.N_,{to:"/member-single",children:(0,C.jsx)("img",{src:i?i.avatars:null,alt:`${e.imgAlt}`})})}),(0,C.jsxs)("div",{className:"activity__content",children:[(0,C.jsxs)("h5",{children:[(0,C.jsx)(m.N_,{to:"/dating/members",children:i?i.name:null}),(0,C.jsx)("span",{children:"and "})," "," You"," ",(0,C.jsx)("span",{children:e.text})]}),(0,C.jsx)("p",{children:e.activity})]})]})})},s))}),(0,C.jsx)("div",{className:"text-center mt-5",children:o<d&&(0,C.jsx)("a",{href:"#",className:"default-btn reverse",onClick:()=>{const e=o+5;r(Math.min(e,d))},children:(0,C.jsxs)("span",{children:[(0,C.jsx)("i",{className:"fa-solid fa-spinner"})," ","Load More"]})})})]})})})})})})]})})]})};var _=t(7417);const U=e=>{let{showModal:s,hideModal:t,selectedUser:i,isBlocked:n=!1,onBlockStatusChange:r}=e;(0,c.Zp)();const d=(0,f.wA)(),[m,h]=(0,a.useState)(!1);return(0,C.jsxs)(l.A,{show:s,onHide:t,centered:!0,children:[(0,C.jsx)(l.A.Header,{closeButton:!0,children:(0,C.jsxs)(l.A.Title,{children:[n?"Unblock":"Block"," Confirmation"]})}),(0,C.jsx)(l.A.Body,{children:(0,C.jsxs)("div",{className:"alert "+(n?"alert-info":"alert-danger"),children:["Are you sure want to ",n?"unblock":"block"," ",(0,C.jsx)("span",{className:"fs-5",children:i?i.name:null}),"?",n&&(0,C.jsx)("div",{className:"mt-2 small",children:"You will be able to chat with this user again after unblocking."})]})}),(0,C.jsxs)(l.A.Footer,{children:[(0,C.jsx)(o.A,{variant:"default",onClick:t,disabled:m,children:"Cancel"}),(0,C.jsx)(o.A,{variant:n?"success":"danger",onClick:async()=>{if(i&&i._id)try{if(h(!0),n){await d((0,b.kV)(i._id)).unwrap();u.Ay.success(`${i.name} has been unblocked successfully`)}else{await d((0,b.rn)(i._id)).unwrap();u.Ay.success(`${i.name} has been blocked successfully`)}h(!1),t(),r&&setTimeout(()=>{r()},500)}catch(e){console.error(n?"Error unblocking user:":"Error blocking user:",e),u.Ay.error((null===e||void 0===e?void 0:e.message)||`Failed to ${n?"unblock":"block"} user. Please try again.`),h(!1)}else u.Ay.error("User information is missing")},disabled:m,children:m?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(_.A,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",className:"me-2"}),n?"Unblocking...":"Blocking..."]}):n?"Unblock":"Block"})]})]})};var T=t(3814);const D=e=>{let{showModal:s,hideModal:t}=e;const[i,n]=(0,a.useState)(""),[r,d]=(0,a.useState)("");return(0,C.jsxs)(l.A,{show:s,onHide:t,centered:!0,children:[(0,C.jsx)("span",{onClick:t,children:(0,C.jsx)("i",{className:"fa fa-times fs-3","aria-hidden":"true",style:{cursor:"pointer",float:"right",padding:"15px 25px 0 0"}})}),(0,C.jsx)("div",{className:"container px-5 pb-5",children:(0,C.jsxs)("div",{className:"row",children:[(0,C.jsx)("div",{className:"col-12",children:(0,C.jsx)("p",{className:"text-center text-dark fs-3",children:"Report User"})}),(0,C.jsx)("div",{className:"col-12 px-5",children:(0,C.jsx)("p",{className:"text-center",children:"Are you sure you want to report this user?"})}),(0,C.jsxs)(T.A.Group,{controlId:"reportReason",children:[(0,C.jsx)(T.A.Label,{children:"Select a reason:"}),(0,C.jsxs)(T.A.Control,{className:"custom-reportUser-modal",as:"select",value:i,onChange:e=>n(e.target.value),children:[(0,C.jsx)("option",{value:"",disabled:!0,children:"Select a reason..."}),["Inappropriate Content","Harassment","Fake Profile","Spam","Other (Please Specify)"].map(e=>(0,C.jsx)("option",{value:e,children:e},e))]})]}),(0,C.jsx)("span",{className:"mt-4"}),(0,C.jsxs)(T.A.Group,{controlId:"additionalDetails",children:[(0,C.jsx)(T.A.Label,{children:"Additional Details (optional):"}),(0,C.jsx)(T.A.Control,{className:"custom-reportUser-modal",as:"textarea",rows:3,value:r,onChange:e=>d(e.target.value),placeholder:"Provide more details about the report..."})]}),(0,C.jsx)("div",{className:"container",children:(0,C.jsxs)("div",{className:"row share-user-profile-modal-svg-div",style:{justifyContent:"space-between"},children:[(0,C.jsx)("div",{className:"col-6 text-center mt-4",children:(0,C.jsx)(o.A,{variant:"default",onClick:t,style:{border:"1px solid #d5d5d5c2"},children:"Cancel"})}),(0,C.jsx)("div",{className:"col-6 text-center mt-4",children:(0,C.jsx)(o.A,{variant:"danger",onClick:()=>{t()},children:"Report User"})})]})})]})})]})};var M=t(2161),R=t(7748);const Y=e=>{let{showModal:s,hideModal:t}=e;const[i,o]=(0,a.useState)(!1),[n,r]=(0,a.useState)(new Date),[d,c]=(0,a.useState)(!1),[m,h]=(0,a.useState)(new Date),p=()=>{c(!d)},[x,g]=(0,a.useState)("10:00"),f=[{address:"Empire State Building, 20 W 34th St New York, NY 10001"},{address:"Times Square , Manhattan, NY 10036"},{address:"Statue of Liberty,  New York, NY 10004"},{address:"Brooklyn Bridge,  New York, NY 10038"},{address:"The Metropolitan Museum of Art,  1000 5th Ave, New York, NY 10028"},{address:"Grand Central Terminal,  89 E 42nd St, New York, NY 10017"},{address:"Central Park,  59th St to 110th St, New York, NY 10022"}],v=e=>{let{selectedVenue:s,onClose:t}=e;return(0,C.jsxs)("div",{className:"popup-venue",children:[(0,C.jsx)("span",{className:"close",onClick:t,children:"\xd7"}),(0,C.jsxs)("p",{children:[" ",(0,C.jsx)("i",{class:"fa-solid fa-location-dot fa-xl",style:{color:"#B197FC"}})," ",s.address]})]})},[y,j]=(0,a.useState)(null),[b,N]=(0,a.useState)(!1),w=()=>{const e=Math.floor(Math.random()*f.length);j(f[e]),N(!0)};return(0,C.jsx)(l.A,{show:s,onHide:t,centered:!0,children:d?i?(0,C.jsx)("div",{className:"clockArea"}):(0,C.jsx)("div",{className:"calenderArea",children:(0,C.jsx)(M.Ay,{dateFormat:"DD/MM/YYYY",onChange:e=>{r(e),c(!1)},value:n})}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"main-calander",style:{position:"relative",padding:"20px"},children:[(0,C.jsx)("span",{onClick:t,style:{position:"absolute",right:"10px",top:"5px"},children:(0,C.jsx)("i",{className:"fa fa-times fs-3","aria-hidden":"true"})}),(0,C.jsxs)("div",{className:"Data-1",children:[(0,C.jsx)("h5",{className:"fs-4 text-muted fw-700",children:"Schedule Your Virtual Date for Meaningful Connections!"}),(0,C.jsxs)("div",{className:"settime",children:[(0,C.jsx)(R.A,{}),(0,C.jsx)("span",{className:"clock-icon",onClick:e=>{g(e)},value:x,children:(0,C.jsx)("i",{class:"fa-solid fa-clock fa-xl",style:{color:"#B197FC"}})})]}),(0,C.jsxs)("div",{className:"setdate",children:[(0,C.jsx)("input",{className:"date",type:"",dateFormat:"DD/MM/YYYY",placeholder:"Choose Date",value:n.toLocaleDateString(),onClick:p}),(0,C.jsx)("span",{className:"calander-icon",onClick:p,children:(0,C.jsx)("i",{class:"fa-regular fa-calendar-days fa-xl",style:{color:"#B197FC"}})})]}),(0,C.jsxs)("div",{className:"setVenue",children:[(0,C.jsx)("input",{className:"date",type:"",placeholder:"Choose Venue",onClick:w}),(0,C.jsx)("div",{className:"Apps",children:b&&y&&(0,C.jsx)(v,{selectedVenue:y,onClose:()=>{N(!1)}})}),(0,C.jsx)("span",{className:"calander-icon",onClick:w,children:(0,C.jsx)("i",{class:"fa-solid fa-location-dot fa-xl",style:{color:"#B197FC"}})})]})]})]}),(0,C.jsx)("div",{className:"btn",onClick:e=>{e.preventDefault();try{u.Ay.success("schedule date successfully updated"),t(t)}catch(s){console.error("Error updating Contact profile:",s),u.Ay.error("Failed to update Contact info")}},children:(0,C.jsx)("button",{className:"date-btn",children:(0,C.jsx)("p",{className:"date-content",children:"Schedule Date"})})})]})})};var E=t(9866),$=t(2481),F=t(8123),L=t(4562),z=t(5649);function W(){var e;const s=(0,c.Zp)(),t=(0,f.wA)(),[w,k]=(0,a.useState)(""),[I,_]=(0,a.useState)([...h.I]),[T,M]=(0,a.useState)(!1),[R,W]=(0,a.useState)([]),[B,P]=(0,a.useState)(null),[H,O]=(0,a.useState)(null),[q,V]=(0,a.useState)(!1),G=(0,a.useRef)(null),[Z,J]=(0,a.useState)(!1),[K,Q]=(0,a.useState)(!1),[X,ee]=(0,a.useState)(!1),[se,te]=(0,a.useState)(!1),[ae,ie]=(0,a.useState)(!1),[le,oe]=(0,a.useState)(!1),[ne,re]=(0,a.useState)(new Date),[de,ce]=(0,a.useState)(!1),[me,ue]=(0,a.useState)(!1),[he,pe]=(0,a.useState)(null);console.log("selectedjjjjjjjjjjj",he);const[xe,ge]=(0,a.useState)(!1),[fe,ve]=(0,a.useState)(""),[ye,je]=(0,a.useState)([]),[be,Ne]=(0,a.useState)(null),[we,Ce]=(0,a.useState)([]),[ke,Se]=(0,a.useState)(null),[Ie,Ae]=(0,a.useState)([]),[_e,Ue]=(0,a.useState)({}),[Te,De]=(0,a.useState)({});console.log("lastMessages",Te),console.log("rooooooooooooommm",Ie);const[Me,Re]=(0,a.useState)({}),[Ye,Ee]=(0,a.useState)(!1),[$e,Fe]=(0,a.useState)(null),[Le,ze]=(0,a.useState)(""),[We,Be]=(0,a.useState)(null),[Pe,He]=(0,a.useState)(null),[Oe]=(0,a.useState)([]),[qe,Ve]=(0,a.useState)(!1),[Ge,Ze]=(0,a.useState)(!1),[Je,Ke]=(0,a.useState)(!1),[Qe,Xe]=(0,a.useState)(!1),[es,ss]=(0,a.useState)(null),[ts,as]=(0,a.useState)(!1),[is,ls]=(0,a.useState)(!1),[os,ns]=(0,a.useState)([]),[rs,ds]=(0,a.useState)(!1),[cs,ms]=(0,a.useState)([]),[us,hs]=(0,a.useState)(!1),[ps,xs]=(0,a.useState)(!1),[gs,fs]=(0,a.useState)(!1),[vs,ys]=(0,a.useState)({}),[js,bs]=(0,a.useState)(!0),[Ns,ws]=(0,a.useState)(null),[Cs,ks]=(0,a.useState)(!1),[Ss,Is]=(0,a.useState)(!1),[As,_s]=(0,a.useState)(null),[Us,Ts]=(0,a.useState)(!1),Ds=(0,a.useRef)(ke);(0,a.useEffect)(()=>{Ds.current=ke},[ke]);(0,a.useEffect)(()=>{const e="gift-bubble-anim-style-metri";if(!document.getElementById(e)){const s=document.createElement("style");s.id=e,s.textContent="@keyframes giftPop{0%{transform:scale(0.6);opacity:0}60%{transform:scale(1.05);opacity:1}100%{transform:scale(1)}}.gift-pop{animation:giftPop 450ms ease-out}@keyframes typingDot{0%,60%,100%{opacity:0.3}30%{opacity:1}}.typing-dot{display:inline-block;animation:typingDot 1.4s infinite;font-size:20px;line-height:1}",document.head.appendChild(s)}},[]);const Ms=()=>Ve(!0),Rs=()=>Ve(!1),Ys=()=>Ze(!0),Es=()=>Ze(!1),$s=(0,f.d4)(e=>e.profile.userData);console.log("uuuuuuuuuuuuuuuuuuuuu",$s);null===$s||void 0===$s||null===(e=$s.avatars)||void 0===e||e.length;const Fs=(0,f.d4)(e=>e.block.blockedUsers),Ls=(0,a.useMemo)(()=>{try{const s=localStorage.getItem("userData");if(s){var e;const t=JSON.parse(s);return(null===t||void 0===t||null===(e=t.data)||void 0===e?void 0:e._id)||(null===t||void 0===t?void 0:t._id)}}catch(s){console.error("Error parsing userData from localStorage:",s)}return null},[]),zs=(null===$s||void 0===$s?void 0:$s._id)||Ls,{isConnected:Ws,createRoom:Bs,getMyRooms:Ps,joinRoom:Hs,sendMessage:Os,editMessage:qs,deleteMessage:Vs,getChatHistory:Gs,startTyping:Zs,stopTyping:Js,getCallHistory:Ks}=(0,N.F)(zs,{onRoomsList:e=>{console.log("Received rooms list:",e),Ce(e||[])},onChatHistory:e=>{console.log("Received chat history:",e);const s=Ds.current;if(console.log("currectnt rroom select id ",s),!s)return;const t=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.messages)||[];if(console.log("messagessssssss1",t),(null===t||void 0===t?void 0:t.length)>0){const e=t.map((e,s)=>{var t,a,i,l;const o=e.content||e.message||"",n=o&&"string"===typeof o&&o.includes("Sent a gift:")?"gift":"text",r=e.messageType||n,d="gift"===r?o.split(":").slice(1).join(":").trim():"",c="gift"===r&&null!==cs&&void 0!==cs&&cs.length?cs.find(e=>(e.name||"").toLowerCase()===(d||"").toLowerCase()):void 0;return{...e,id:e._id||s,content:o,timestamp:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sent:(null===(t=e.msgFrom)||void 0===t?void 0:t._id)===zs||(null===(a=e.senderId)||void 0===a?void 0:a._id)===zs,avatar:(null===(i=e.msgFrom)||void 0===i?void 0:i._id)===zs||(null===(l=e.senderId)||void 0===l?void 0:l._id)===zs?null!==$s&&void 0!==$s&&$s.mainAvatar?`${v.C}/assets/images/${$s.mainAvatar}`:"mainnnnn12":null===he||void 0===he?void 0:he.avatar,messageType:r,fileUrl:e.fileUrl||e.file||(e.attachment?`${v.C}/${e.attachment}`:null),giftData:"gift"===r?e.giftData||(c?{_id:c._id,name:c.name,imageUrl:c.imageUrl}:void 0):void 0,senderId:e.msgFrom||e.senderId}});if(Re(t=>({...t,[s]:e})),(null===e||void 0===e?void 0:e.length)>0){const t=e[(null===e||void 0===e?void 0:e.length)-1],a=t.content||("gift"===t.messageType?"Sent a gift":"file"===t.messageType?"Sent a file":"Message");De(e=>({...e,[s]:{message:a,timestamp:t.createdAt||new Date,isRead:s===Ds.current}}))}console.table("tttrraaaa",e),s===Ds.current&&(Ae(s=>{const t=new Map(s.map(e=>[e.id||e._id,e]));e.forEach(e=>{t.set(e.id||e._id,e)});const a=Array.from(t.values());return a.sort((e,s)=>new Date(e.createdAt||e.timestamp).getTime()-new Date(s.createdAt||s.timestamp).getTime()),a}),setTimeout(nt,100))}Ee(!1)},onNewMessage:(e,s)=>{var t,a,i,l;console.log("New message received:",e,s,"Current selectedRoomId:",Ds.current);const o=Ds.current,n={...e,id:e._id,content:e.content||e.message||"",timestamp:new Date(e.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sent:(null===(t=e.msgFrom)||void 0===t?void 0:t._id)===zs||(null===(a=e.senderId)||void 0===a?void 0:a._id)===zs,avatar:(null===(i=e.msgFrom)||void 0===i?void 0:i._id)===zs||(null===(l=e.senderId)||void 0===l?void 0:l._id)===zs?null!==$s&&void 0!==$s&&$s.mainAvatar?`${v.C}/assets/images/${$s.mainAvatar}`:"main2222":null===he||void 0===he?void 0:he.avatar,messageType:e.messageType||"text",fileUrl:e.fileUrl||e.file||(e.attachment?`${v.C}/${e.attachment}`:null),senderId:e.msgFrom||e.senderId};if(console.log("transformedMessage:",n),s){var r,d;const t=n.content||("gift"===n.messageType?"Sent a gift":"file"===n.messageType?"Sent a file":"Message");De(e=>({...e,[s]:{message:t,timestamp:n.createdAt||new Date,isRead:s===o}}));(null===(r=e.msgFrom)||void 0===r?void 0:r._id)===zs||(null===(d=e.senderId)||void 0===d?void 0:d._id)===zs||s===o||Ue(e=>({...e,[s]:(e[s]||0)+1})),Re(e=>{const t=e[s]||[];return t.some(e=>(e.id||e._id)===(n.id||n._id))?e:{...e,[s]:[...t,n]}})}s&&o&&s===o?(Ae(e=>{const s=e.some(e=>(e.id||e._id)===(n.id||n._id));return console.log("Message exists:",s),s?e:[...e,n]}),setTimeout(nt,100)):console.log("Message stored but not displayed - not for current room. roomId:",s,"selectedRoomId:",o)},onMessageEdited:(e,s)=>{console.log("Message edited:",e,s);const t=Ds.current;s&&Re(t=>{const a=t[s]||[];return{...t,[s]:a.map(s=>(s._id||s.id)===(e._id||e.id)?{...s,content:e.content||e.message,isEdited:!0}:s)}}),s&&t&&s===t&&Ae(s=>s.map(s=>(s._id||s.id)===(e._id||e.id)?{...s,content:e.content||e.message,isEdited:!0}:s))},onMessageDeleted:(e,s)=>{console.log("Message deleted:",e,s);const t=Ds.current;s&&Re(t=>{const a=t[s]||[];return{...t,[s]:a.filter(s=>(s._id||s.id)!==e)}}),s&&t&&s===t&&Ae(s=>s.filter(s=>(s._id||s.id)!==e))},onRoomCreated:e=>{console.log("Room created:",e),Ps()},onUserTyping:e=>{const s=Ds.current;e.roomId&&s&&e.roomId===s&&(ys(s=>({...s,[e.roomId]:{userId:e.userId,userName:e.userName||"Someone",isTyping:!0}})),setTimeout(()=>{ys(s=>{var t;const a={...s};return(null===(t=a[e.roomId])||void 0===t?void 0:t.userId)===e.userId&&delete a[e.roomId],a})},3e3))},onUserStoppedTyping:e=>{const s=Ds.current;e.roomId&&s&&e.roomId===s&&ys(s=>{var t;const a={...s};return(null===(t=a[e.roomId])||void 0===t?void 0:t.userId)===e.userId&&delete a[e.roomId],a})},onCallHistory:e=>{console.log("Received call history:",e);const s=Array.isArray(e)?e:(null===e||void 0===e?void 0:e.calls)||(null===e||void 0===e?void 0:e.items)||[];(null===s||void 0===s?void 0:s.length)>0&&ns(s)},onIncomingCall:e=>{console.log("Incoming call received via socket:",e);const s="object"===typeof e.calleeId?e.calleeId._id:e.calleeId,t=String(zs),a=String(s);if(s&&a!==t)return void console.log("Incoming call is not for current user, ignoring",{calleeId:a,userId:t});const i=`call_notification_${e.callSessionId}`;sessionStorage.getItem(i)||((0,u.Ay)(`\ud83d\udcde Incoming call from ${e.callerName||"Someone"}!`,{duration:3e3,position:"top-center",style:{background:"#ffc107",color:"#000",fontWeight:"bold",fontSize:"16px"},icon:"\ud83d\udcde"}),"granted"===Notification.permission&&new Notification("\ud83d\udcde Incoming Call",{body:`${e.callerName||"Someone"} is calling you`,icon:"/favicon.ico",tag:"incoming-call",requireInteraction:!0}),sessionStorage.setItem(i,"true"));const l={_id:e.callSessionId,callerId:{_id:e.callerId,name:e.callerName,mainAvatar:e.callerAvatar||null},calleeId:{_id:zs},status:"ringing",roomId:e.roomId,callType:e.callType};ss(l),"video"===l.callType?(Ze(!0),as(!1)):(as(!0),Ze(!1)),ls(!1)},onCallStarted:e=>{console.log("\ud83d\udcde Call started event from server: ",e),!Ns&&e.callSessionId&&ws(e.callSessionId),ks(!0),Is(!1),es&&"video"===es.callType?(Ze(!0),as(!1)):(as(!0),Ze(!1)),ls(!1),ss(e=>e?{...e,status:"connected"}:null),_s(e=>e||new Date),Us||(async()=>{try{const e=await navigator.mediaDevices.getUserMedia({audio:!0});Ts(!0);const s=e.getAudioTracks();return()=>{s.forEach(e=>e.stop()),Ts(!1)}}catch(e){console.error("Error accessing microphone:",e),u.Ay.error("Could not access microphone. Please check permissions."),Ts(!1)}})(),console.log("Call connected - UI should update with call controls")},onCallEnded:e=>{if(console.log("Call ended: ",e),ks(!1),Is(!1),ws(null),_s(null),as(!1),Ze(!1),ss(null),ls(!1),null!==e&&void 0!==e&&e.callSessionId){const s=`call_notification_${e.callSessionId}`;sessionStorage.removeItem(s)}},onCallDeclined:e=>{if(console.log("Call declined: ",e),ks(!1),Is(!1),as(!1),Ze(!1),ls(!1),es){const e=`call_notification_${es._id}`;sessionStorage.removeItem(e)}ss(null)},onCallError:e=>{console.error("Call error received:",e);const s=(null===e||void 0===e?void 0:e.message)||"Call error occurred";s.includes("already in progress")||s.includes("Call already in progress")?(u.Ay.error("Another call is already in progress. Please end the current call first.",{duration:4e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\u26a0\ufe0f"}),ks(!1),Is(!1),ws(null),as(!1),ss(null)):u.Ay.error(s,{duration:3e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\u274c"})},onError:e=>{console.error("Socket error:",e),u.Ay.error(e.message||"An error occurred")}}),Qs=()=>{ee(!1),setTimeout(()=>{ce(!0)},500)},Xs=()=>{ee(!1),setTimeout(()=>{te(!0)},500)},et=()=>{M(!T)},st=e=>{const{emoji:s}=e;k(e=>e+s),M(!1)},tt=e=>{const s=e.target.files;if((null===s||void 0===s?void 0:s.length)>0){const t=s[0];if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return alert("Please select an image file (JPEG, PNG, GIF, or WebP)"),void(e.target.value="");const a=10485760;if(t.size>a)return alert("File size must be less than 10MB"),void(e.target.value="");P(t);const i=URL.createObjectURL(t);O(i)}},at=()=>{P(null),H&&(URL.revokeObjectURL(H),O(null));const e=document.getElementById("fileInput");e&&(e.value="")},it=async e=>{if(!e)return;const s=(null===$s||void 0===$s?void 0:$s._id)||Ls;if(s)try{0===(null===Fs||void 0===Fs?void 0:Fs.length)&&await t((0,b.zw)(s)).unwrap();const a=Fs.some(s=>{var t;return((null===s||void 0===s||null===(t=s.blocked)||void 0===t?void 0:t._id)||(null===s||void 0===s?void 0:s._id)||(null===s||void 0===s?void 0:s.id))===e});Ke(a);const i=await t((0,b.v9)({currentUserId:s,targetUserId:e})).unwrap();Xe((null===i||void 0===i?void 0:i.isBlocked)||!1)}catch(a){console.error("Error checking blocking status:",a)}},lt=async e=>{if(!e)return;const s=(null===$s||void 0===$s?void 0:$s._id)||Ls;if(s)try{const a=await(0,y._w)(e,s);if(null!==a&&void 0!==a&&a.isSuccess&&null!==a&&void 0!==a&&a.data){var t;const e=null===(t=a.data.users)||void 0===t?void 0:t.find(e=>e._id!==s);e&&pe({...e,avatar:`${v.C}/assets/images/${e.mainAvatar}`,name:e.name,_id:e._id})}}catch(i){var a;console.error("\u274c Error fetching room details:",i),console.error("Error details:",(null===(a=i.response)||void 0===a?void 0:a.data)||i.message)}},ot=async function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;if(e&&zs&&!(Ye||s>1&&!js)){Ee(!0);try{(null===z.A||void 0===z.A?void 0:z.A.currentRoom)!==e&&z.A.joinRoom(e),Gs(e,s,t),console.log(`\u2705 Fetching page ${s} of messages for room ${e}`)}catch(a){console.error("Error fetching room messages:",a),Ee(!1)}}},nt=()=>{G.current&&G.current.scrollToBottom()},rt=async()=>{if(w.trim()||B)if(ke)if(zs){V(!0);try{const s=w.trim(),t=(null===We||void 0===We?void 0:We._id)||null;if(B)try{const e=await(0,y._z)(ke,zs,s||"Sent an image","file",t,B);null!==e&&void 0!==e&&e.isSuccess?(u.Ay.success("Image sent successfully!"),k(""),W([]),P(null),H&&URL.revokeObjectURL(H),O(null),M(!1),Be(null)):u.Ay.error("Failed to upload image. Please try again.")}catch(e){console.error("Error uploading file:",e),u.Ay.error("Failed to upload image. Please try again.")}else t?Os(ke,s,t):Os(ke,s),k(""),W([]),P(null),O(null),M(!1),Be(null)}catch(e){console.error("Error sending message:",e),u.Ay.error("Failed to send message. Please try again.")}finally{V(!1)}}else console.error("No user ID available");else console.error("No room selected")},dt=e=>{"Enter"===e.key&&(e.preventDefault(),rt()),e.ctrlKey&&"e"===e.key&&(e.preventDefault(),M(!T))},ct=async()=>{if(Le.trim()&&$e){if(!zs)return console.error("No user ID available"),void u.Ay.error("Cannot edit message: User not authenticated");try{qs($e,Le.trim()),Fe(null),ze("")}catch(e){console.error("Error editing message:",e),u.Ay.error("Failed to edit message. Please try again.")}}},mt=()=>{Fe(null),ze("")},ut=e=>{var s,t;e&&(Be({_id:e._id,content:e.content,senderName:(null===(s=e.senderId)||void 0===s?void 0:s.name)||(null===he||void 0===he?void 0:he.name)||"User",senderId:null===(t=e.senderId)||void 0===t?void 0:t._id,sent:e.sent}),setTimeout(()=>{const e=document.getElementById("exampleFormControlInput2");e&&e.focus()},100))},ht=()=>{Be(null)},[pt,xt]=(0,a.useState)(0),[gt,ft]=(0,a.useState)(!1),vt=async()=>{hs(!0);try{const e=await(0,j.Ns)(1,11);e.isSuccess&&ms(e.data.gifts)}catch(e){console.error("Error fetching gifts:",e),u.Ay.error("Failed to load gifts. Please try again.",{duration:3e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\u274c"})}finally{hs(!1)}},yt=async()=>{const e=(null===$s||void 0===$s?void 0:$s._id)||Ls;if(e)try{const a=await(0,j.A0)(e);if(a.isSuccess){var s,t;const e=(null===(s=a.data)||void 0===s?void 0:s.coins)||(null===(t=a.data)||void 0===t?void 0:t.balance)||0;xt(e)}else jt()}catch(a){jt()}},jt=()=>{try{var e;const s=JSON.parse(localStorage.getItem("userData")||"{}"),t=(null===s||void 0===s||null===(e=s.data)||void 0===e?void 0:e.coins)||(null===s||void 0===s?void 0:s.coins)||0;xt(t>0?t:550)}catch(s){xt(550)}};(0,a.useEffect)(()=>{(async()=>{try{var e;const a=JSON.parse(localStorage.getItem("userData")||"{}"),i=(null===a||void 0===a||null===(e=a.data)||void 0===e?void 0:e._id)||(null===$s||void 0===$s?void 0:$s._id)||Ls;if(!i)return;const l=await(0,j.A0)(i);if(null!==l&&void 0!==l&&l.isSuccess){var s,t;const e=(null===(s=l.data)||void 0===s?void 0:s.coins)||(null===(t=l.data)||void 0===t?void 0:t.balance)||0;xt(e)}}catch(a){}})()},[null===$s||void 0===$s?void 0:$s._id,Ls]);const bt=async e=>{if(!ke||!he)return void console.error("No room or user selected");const s=(null===$s||void 0===$s?void 0:$s._id)||Ls;if(s){fs(!0);try{const a={senderId:s,receiverId:he._id,giftId:e._id,message:e.description||e.name},i=await(0,j.Z)(a);if(null!==i&&void 0!==i&&i.isSuccess){const s=i.data.remainingCoins||pt-e.coinCost;console.log(`Updating coin balance: ${pt} - ${e.coinCost} = ${s}`),ft(!0),xt(s);try{const e=JSON.parse(localStorage.getItem("userData")||"{}");null!==e&&void 0!==e&&e.data?e.data.coins=s:e.coins=s,localStorage.setItem("userData",JSON.stringify(e)),console.log("Updated localStorage with new coin balance:",s)}catch(t){console.error("Error updating localStorage:",t)}const a=`\ud83c\udf81 Sent a gift: ${e.name}`;Os(ke,a),u.Ay.success(`Gift "${e.name}" sent successfully! Coins deducted: ${e.coinCost}. New balance: ${s}`,{duration:4e3,position:"top-center",style:{background:"#28a745",color:"#fff",fontWeight:"500"},icon:"\ud83c\udf81"}),setTimeout(()=>{yt(),ft(!1)},1e3),window.dispatchEvent(new CustomEvent("coinBalanceUpdated",{detail:{newBalance:s,deductedAmount:e.coinCost}}))}}catch(t){console.error("Error sending gift:",t),u.Ay.error("Failed to send gift. Please try again.",{duration:3e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\u274c"})}finally{fs(!1)}}else console.error("No user ID available")},[Nt,wt]=(0,a.useState)(!1),Ct=e=>{const s=e.target.value;ve(s),(e=>{const s=we.filter(s=>{var t,a,i,l;return(null===(t=s.otherUser)||void 0===t||null===(a=t.name)||void 0===a?void 0:a.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))||(null===(i=s.otherUser)||void 0===i||null===(l=i.userName)||void 0===l?void 0:l.toLowerCase().includes(null===e||void 0===e?void 0:e.toLowerCase()))});je(s)})(s)};(0,a.useEffect)(()=>{zs&&Ws&&Ps(),zs&&t((0,b.zw)(zs)),vt(),setTimeout(()=>{yt()},1e3)},[zs,Ws,t]),(0,a.useEffect)(()=>{null!==he&&void 0!==he&&he._id&&it(he._id)},[null===he||void 0===he?void 0:he._id]),(0,a.useEffect)(()=>{(null!==$s&&void 0!==$s&&$s._id||Ls)&&(console.log("User data changed, refreshing coins"),setTimeout(()=>{yt()},500))},[null===$s||void 0===$s?void 0:$s._id,Ls]),(0,a.useEffect)(()=>{const e=()=>{ge(window.innerWidth<=768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,a.useEffect)(()=>{const e=e=>{!T||e.target.closest(".emoji-picker-container")||e.target.closest(".smile-message-input")||M(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[T]),(0,a.useEffect)(()=>()=>{H&&URL.revokeObjectURL(H)},[H]),(0,a.useEffect)(()=>{"Notification"in window&&"default"===Notification.permission&&Notification.requestPermission()},[]);const kt=()=>(0,C.jsxs)("div",{children:[(0,C.jsxs)(i.Hp,{className:"rounded mb-3 px-lg-3",children:[(0,C.jsx)("input",{className:"form-control headerChat",placeholder:"Search",type:"search",style:{height:50},onChange:Ct}),(0,C.jsx)("span",{className:"input-group-text border-0 pointer",id:"search-addon",style:{backgroundColor:"rgb(242, 69, 112)",color:"#FFFF"},children:(0,C.jsx)(i.$u,{fas:!0,icon:"search"})})]}),(0,C.jsx)(n.ur,{className:"chat-list-wrap",autoHide:!0,style:{position:"relative",height:"72vh",padding:"0 0 0 10px"},children:(0,C.jsx)(i.xt,{listUnStyled:!0,className:"mb-0 m-3",children:0===(null===we||void 0===we?void 0:we.length)?(0,C.jsx)("div",{className:"text-center text-muted p-4",children:(0,C.jsx)("p",{children:"No chat rooms available"})}):((null===ye||void 0===ye?void 0:ye.length)>0?ye:we).map(e=>{var s,t,a;return(0,C.jsx)("li",{className:"p-2 border-bottom pointer",onClick:()=>(async e=>{setTimeout(async()=>{var s;Se(e.roomId),Ue(s=>({...s,[e.roomId]:0})),De(s=>({...s,[e.roomId]:s[e.roomId]?{...s[e.roomId],isRead:!0}:s[e.roomId]})),Me[e.roomId]&&Me[e.roomId].length>0?Ae(Me[e.roomId]):Ae([]),await lt(e.roomId),cs&&0!==(null===cs||void 0===cs?void 0:cs.length)||await vt(),await ot(e.roomId),await it(null===(s=e.otherUser)||void 0===s?void 0:s._id)},100)})(e),children:(0,C.jsxs)("a",{href:"#!",className:"d-flex justify-content-between",children:[(0,C.jsxs)("div",{className:"d-flex flex-row",style:{gap:"15px"},children:[(0,C.jsxs)("div",{style:{width:"60px",height:"60px",position:"relative"},children:[(0,C.jsx)("img",{src:`${v.C}/assets/images/${null===(s=e.otherUser)||void 0===s?void 0:s.mainAvatar}`,alt:"avatar",className:"d-flex align-self-center me-3",style:{borderRadius:"50%",objectFit:"cover",width:"55px",height:"55px"},onError:e=>{e.target.src=g}}),_e[e.roomId]>0&&(0,C.jsx)("span",{className:"badge bg-danger rounded-pill",style:{position:"absolute",top:"-5px",right:"-5px",fontSize:"10px",minWidth:"18px",height:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 5px",border:"2px solid white",zIndex:1},children:_e[e.roomId]>99?"99+":_e[e.roomId]}),(0,C.jsx)("span",{className:"badge bg-success badge-dot"})]}),(0,C.jsxs)("div",{className:"pt-1",style:{flex:1,minWidth:0},children:[(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-start",children:[(0,C.jsx)("p",{className:"fw-bold mb-0",style:{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:null===(t=e.otherUser)||void 0===t?void 0:t.name}),_e[e.roomId]>0&&(0,C.jsx)("span",{className:"badge bg-danger rounded-pill ms-2",style:{fontSize:"11px",minWidth:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 6px"},children:_e[e.roomId]>99?"99+":_e[e.roomId]})]}),(0,C.jsx)("p",{className:"small mb-0",style:{color:_e[e.roomId]>0?"#000":"#6c757d",fontWeight:_e[e.roomId]>0?"500":"400",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_e[e.roomId]>0?(0,C.jsx)("span",{style:{color:"#25D366",fontWeight:"600"},children:"New message"}):Te[e.roomId]?Te[e.roomId].message:""})]})]}),(0,C.jsx)("div",{className:"pt-1 text-end",style:{minWidth:"60px"},children:(0,C.jsx)("p",{className:"small text-muted mb-0",children:null!==(a=Te[e.roomId])&&void 0!==a&&a.timestamp?new Date(Te[e.roomId].timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric"}):new Date(e.updatedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})})})]})},e.roomId)})})})]}),St=()=>{var e;return(0,C.jsx)("div",{children:he?(0,C.jsxs)("div",{children:[(0,C.jsxs)("div",{className:"row py-1 mb-2 border-bottom shadow-md bg-[#f5f5f5];",children:[(0,C.jsxs)("div",{className:"col-7 chat-dp",children:[" ",(0,C.jsxs)("div",{className:"row chat-status",children:[(0,C.jsxs)("div",{className:"col-4 col-lg-2",children:[" ",(0,C.jsx)("img",{src:he.avatar,alt:"avatar",className:"d-flex align-self-center",style:{borderRadius:"50%",width:"50px",height:"50px",maxWidth:"45px"}})]}),(0,C.jsxs)("div",{className:"col-8 py-2 col-lg-8 d-flex gap-2",children:[" ",(0,C.jsxs)("h6",{children:[he?he.name:"Select a user",(0,C.jsx)("br",{}),(0,C.jsx)("small",{style:{color:"green",fontSize:"0.9rem",marginTop:"-10px"},children:"Active"})]}),(0,C.jsxs)("div",{className:"mt-1 d-flex align-items-center gap-2",children:[(0,C.jsxs)("small",{style:{color:"#6c757d",fontSize:"0.8rem",fontWeight:"500"},children:["\ud83d\udcb0 ",gt?(0,C.jsxs)("span",{style:{color:"#ffc107"},children:[(0,C.jsx)("i",{className:"fa fa-spinner fa-spin"})," Updating..."]}):`${pt} coins`]}),(0,C.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>{yt()},style:{fontSize:"8px",padding:"1px 4px",lineHeight:"1"},title:"Refresh coin balance",children:(0,C.jsx)("i",{className:"fa fa-refresh"})})]})]})]})]}),(0,C.jsxs)("div",{className:"col-5 chat-opt",children:[" ",(0,C.jsxs)("div",{className:"float-end me-2 con-info",children:[" ",(0,C.jsxs)(m.N_,{className:"float-end header__more fs-3 my-2 text-muted",children:[(0,C.jsx)("span",{to:"#",className:"pointer",style:{fontWeight:"700"},"data-bs-toggle":"dropdown",children:(0,C.jsx)("i",{class:"fa fa-ellipsis-v","aria-hidden":"true"})}),(0,C.jsxs)("ul",{className:"dropdown-menu",style:{width:"200px"},children:[(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>ee(!0),children:[(0,C.jsx)("i",{className:"fa-solid fa-circle-info me-3","aria-hidden":"true",title:"date Schedule"})," ","Schedule Date"]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>J(!0),children:[(0,C.jsx)("i",{className:"fa fa-question-circle-o me-3","aria-hidden":"true",title:"Check Compatibility"})," ","Compatibility"]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>ue(!0),children:[(0,C.jsx)("i",{class:"fa fa-history me-3","aria-hidden":"true"})," ","Track Milestone"]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>ie(!0),children:[(0,C.jsx)("i",{class:"fa fa-ban me-3","aria-hidden":"true"})," ",Je?"Unblock":"Block"]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>oe(!0),children:[(0,C.jsx)("i",{class:"fa fa-flag me-3","aria-hidden":"true"})," ","Report"]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",onClick:()=>{ds(!0),zs&&Ws&&Ks(1,20)},children:[(0,C.jsx)("i",{class:"fa fa-history me-3","aria-hidden":"true"})," ","Call History"]})})]})]}),(0,C.jsx)(m.N_,{className:"float-end fs-4 text-muted my-2",onClick:Ms,children:(0,C.jsx)("i",{class:"fa fa-phone","aria-hidden":"true"})}),(0,C.jsx)(F.A,{show:qe,onHide:Rs,selectedUser:he,currentUserId:(null===$s||void 0===$s?void 0:$s._id)||Ls,selectedRoomId:ke}),(0,C.jsx)(m.N_,{className:"float-end fs-4 text-muted my-2",onClick:Ys,children:(0,C.jsx)("i",{class:"fa fa-video-camera","aria-hidden":"true"})}),(0,C.jsx)(L.A,{show:Ge,onHide:Es,selectedUser:he,currentUserId:(null===$s||void 0===$s?void 0:$s._id)||Ls,selectedRoomId:ke})]})]})]}),(0,C.jsx)("div",{className:"message-box",children:he?(0,C.jsxs)(n.ur,{autoHide:!0,className:"msg-wrap",style:{position:"relative",height:"65vh",paddingBottom:"120px"},id:"chat-container",ref:G,children:[null,Ye?(0,C.jsx)("div",{className:"text-center p-5",children:(0,C.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,C.jsx)("span",{className:"sr-only",children:"Loading messages..."})})}):0===(null===Ie||void 0===Ie?void 0:Ie.length)?(0,C.jsx)("div",{className:"text-center text-muted p-5",children:(0,C.jsx)("p",{children:"No messages yet. Start the conversation!"})}):(0,C.jsxs)(C.Fragment,{children:[Ie.map(e=>{var s,t,a,i;return console.log("msgggggggg",e),(0,C.jsx)("div",{className:"px-3 px-md-5 d-flex flex-row chat-solo justify-content-"+(e.sent?"end":"start"),children:e.sent?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{style:{maxWidth:"70%",display:"flex",alignItems:"center"},children:"file"===e.messageType||e.fileUrl?(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,C.jsx)("img",{src:e.fileUrl?e.fileUrl.startsWith("http")?e.fileUrl:`${v.C}/${e.fileUrl}`:e.file?URL.createObjectURL(e.file):"",alt:`file ${e.id}`,style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onError:s=>{console.error("Error loading image:",e.fileUrl),s.target.src=g},onClick:()=>{const s=e.fileUrl?e.fileUrl.startsWith("http")?e.fileUrl:`${v.C}/${e.fileUrl}`:e.file?URL.createObjectURL(e.file):"";s&&window.open(s,"_blank")}}),e.content&&(0,C.jsx)("div",{className:"small p-2 me-3 mb-1 rounded-3",style:{backgroundColor:"#f24570",color:"#ffffff",display:"inline-block",marginTop:"8px"},children:e.content})]}):"gift"===e.messageType?(0,C.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:((s,t)=>{const a=((null===e||void 0===e?void 0:e.content)||"").split(": ")[1]||"",i=(null===e||void 0===e||null===(s=e.giftData)||void 0===s?void 0:s.imageUrl)||(null===(t=cs.find(e=>e.name===a))||void 0===t?void 0:t.imageUrl);return(0,C.jsxs)("div",{className:"small p-2 me-3 mb-1 rounded-3 gift-pop",style:{backgroundColor:"#f24570",color:"#ffffff",display:"flex",alignItems:"center",gap:"10px",border:"2px solid #ffd700"},children:[i?(0,C.jsx)("img",{src:i,alt:a||"gift",style:{width:64,height:64,borderRadius:8,objectFit:"cover"}}):(0,C.jsx)("span",{style:{fontSize:"20px"},children:"\ud83c\udf81"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{style:{fontWeight:"600"},children:"Gift Sent!"}),a&&(0,C.jsx)("div",{style:{fontSize:"12px",opacity:.9},children:a})]})]})})()}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"dropdown",style:{marginRight:"8px"},children:[(0,C.jsx)("button",{className:"btn btn-sm btn-link text-muted p-1 mt-[10px] ml-[10px]",style:{marginRight:"10px",marginTop:"10px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"\u22ee"}),(0,C.jsxs)("ul",{className:"dropdown-menu",children:[(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item",onClick:()=>(e=>{Fe(e._id),ze(e.content)})(e),children:"Edit"})}),(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item",onClick:()=>(async e=>{if(e){if(!zs)return console.error("No user ID available"),void u.Ay.error("Cannot delete message: User not authenticated");if(window.confirm("Are you sure you want to delete this message?"))try{Vs(e),Ae(s=>s.filter(s=>s._id!==e))}catch(s){console.error("Error deleting message:",s),u.Ay.error("Failed to delete message. Please try again.")}}else console.error("No message ID provided")})(e._id),children:"Delete"})}),(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item",onClick:()=>ut(e),children:"Reply"})})]})]}),(0,C.jsx)("div",{children:$e===e._id?(0,C.jsxs)("div",{className:"d-flex flex-column",children:[(0,C.jsx)("input",{type:"text",className:"form-control mb-2",value:Le,onChange:e=>ze(e.target.value),onKeyDown:e=>{"Enter"===e.key?ct():"Escape"===e.key&&mt()},autoFocus:!0,style:{backgroundColor:"#fff",color:"#000"}}),(0,C.jsxs)("div",{className:"d-flex gap-2",children:[(0,C.jsx)("button",{className:"btn btn-sm btn-success",onClick:ct,children:"Save"}),(0,C.jsx)("button",{className:"btn btn-sm btn-secondary",onClick:mt,children:"Cancel"})]})]}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"small p-2 me-3 mb-1 rounded-3",style:{backgroundColor:"#f24570",color:"#ffffff",display:"inline-block",fontSize:"14px",lineHeight:"1.4",wordBreak:"break-word"},children:[e.replyTo&&(0,C.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255,0.15)",padding:"6px 8px",borderRadius:"4px",marginBottom:"6px",fontSize:"11px",borderLeft:"3px solid #fff"},children:[(0,C.jsxs)("div",{style:{fontWeight:"600",marginBottom:"2px"},children:["Replied by: ",(null===(s=e.replyTo.senderId)||void 0===s?void 0:s.name)||"You"]}),(0,C.jsx)("div",{style:{opacity:.85,fontStyle:"italic"},children:(null===(t=e.replyTo.content)||void 0===t?void 0:t.length)>40?e.replyTo.content.substring(0,40)+"...":e.replyTo.content})]}),e.content]}),(0,C.jsx)("p",{className:"small me-3 mb-0 text-muted",style:{fontSize:"11px"},children:e.timestamp})]})})]})}),(0,C.jsx)("img",{src:`${v.C}/assets/images/${$s.mainAvatar}`,alt:`avatar ${e.id}`,style:{borderRadius:"50%",width:"45px",height:"45px",objectFit:"cover",height:"45px",maxWidth:"45px"},onError:e=>{e.target.src=g}})]}):(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px",maxWidth:"100%"},children:[(0,C.jsx)("img",{src:he?he.avatar:"main233333",alt:"avatar",className:"d-flex align-self-center",style:{borderRadius:"50%",width:"45px",height:"45px",flexShrink:0}}),(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",maxWidth:"80%",flexWrap:"wrap"},children:"file"===e.messageType||e.fileUrl?(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:[(0,C.jsx)("img",{src:e.fileUrl?e.fileUrl.startsWith("http")?e.fileUrl:`${v.C}/${e.fileUrl}`:e.file?URL.createObjectURL(e.file):"",alt:`file ${e.id}`,style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onError:s=>{console.error("Error loading image:",e.fileUrl),s.target.src=g},onClick:()=>{const s=e.fileUrl?e.fileUrl.startsWith("http")?e.fileUrl:`${v.C}/${e.fileUrl}`:e.file?URL.createObjectURL(e.file):"";s&&window.open(s,"_blank")}}),e.content&&(0,C.jsx)("div",{className:"small p-2 mb-1 rounded-3",style:{backgroundColor:"#f5f6f7",color:"#000",marginRight:"8px",display:"inline-block",marginTop:"8px"},children:e.content})]}):"gift"===e.messageType?(0,C.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start"},children:((s,t)=>{const a=((null===e||void 0===e?void 0:e.content)||"").split(": ")[1]||"",i=(null===e||void 0===e||null===(s=e.giftData)||void 0===s?void 0:s.imageUrl)||(null===(t=cs.find(e=>e.name===a))||void 0===t?void 0:t.imageUrl);return(0,C.jsxs)("div",{className:"small p-2 mb-1 rounded-3 gift-pop",style:{backgroundColor:"#f5f6f7",color:"#000",marginRight:"8px",display:"flex",alignItems:"center",gap:"10px",border:"2px solid #ffd700"},children:[i?(0,C.jsx)("img",{src:i,alt:a||"gift",style:{width:64,height:64,borderRadius:8,objectFit:"cover"}}):(0,C.jsx)("span",{style:{fontSize:"20px"},children:"\ud83c\udf81"}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{style:{fontWeight:"600",color:"#f24570"},children:"Gift Received!"}),a&&(0,C.jsx)("div",{style:{fontSize:"12px",color:"#6c757d"},children:a})]})]})})()}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"small p-2 mb-1 rounded-3",style:{backgroundColor:"#f5f6f7",color:"#000",marginRight:"8px",display:"inline-block",fontSize:"14px",lineHeight:"1.4",wordBreak:"break-word"},children:[e.replyTo&&(0,C.jsxs)("div",{style:{backgroundColor:"rgba(242, 69, 112, 0.1)",padding:"6px 8px",borderRadius:"4px",marginBottom:"6px",fontSize:"11px",borderLeft:"3px solid #f24570"},children:[(0,C.jsxs)("div",{style:{fontWeight:"600",marginBottom:"2px",color:"#f24570"},children:["Replied to: ",(null===(a=e.replyTo.senderId)||void 0===a?void 0:a.name)||"You"]}),(0,C.jsx)("div",{style:{color:"#6c757d",fontStyle:"italic"},children:(null===(i=e.replyTo.content)||void 0===i?void 0:i.length)>40?e.replyTo.content.substring(0,40)+"...":e.replyTo.content})]}),e.content]}),(0,C.jsxs)("div",{className:"dropdown",style:{marginLeft:"10px",marginTop:"0px"},children:[(0,C.jsx)("button",{className:"btn btn-sm btn-link text-muted p-1 mt-[10px] ",style:{marginLeft:"10px",marginTop:"10px"},type:"button","data-bs-toggle":"dropdown","aria-expanded":"false",children:"\u22ee"}),(0,C.jsx)("ul",{className:"dropdown-menu",children:(0,C.jsx)("li",{children:(0,C.jsx)("button",{className:"dropdown-item",onClick:()=>ut(e),children:"Reply"})})})]}),(0,C.jsx)("p",{className:"small text-muted mb-0",style:{fontSize:"11px",width:"100%",marginLeft:"4px"},children:e.timestamp})]})})]})})},e.id)}),vs[ke]&&(0,C.jsx)("div",{className:"px-3 px-md-5 d-flex flex-row chat-solo justify-content-start",children:(0,C.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"10px"},children:[(0,C.jsx)("img",{src:`${v.C}/assets/images/${null===he||void 0===he?void 0:he.mainAvatar}`,alt:"avatar",className:"d-flex align-self-center",style:{borderRadius:"50%",width:"45px",height:"45px",flexShrink:0}}),(0,C.jsxs)("div",{className:"small p-2 mb-1 rounded-3",style:{backgroundColor:"#f5f6f7",color:"#6c757d",display:"inline-block",fontSize:"14px",fontStyle:"italic"},children:[vs[ke].userName," is typing...",(0,C.jsxs)("span",{className:"ms-2",children:[(0,C.jsx)("span",{className:"typing-dot",style:{animationDelay:"0s"},children:"."}),(0,C.jsx)("span",{className:"typing-dot",style:{animationDelay:"0.2s"},children:"."}),(0,C.jsx)("span",{className:"typing-dot",style:{animationDelay:"0.4s"},children:"."})]})]})]})}),Je&&(0,C.jsx)("div",{className:"text-center py-3 px-3",children:(0,C.jsxs)("button",{className:"btn btn-outline-success",onClick:()=>ie(!0),style:{borderRadius:"25px",padding:"10px 25px",fontSize:"14px",fontWeight:"500",borderWidth:"2px",borderColor:"rgb(242, 69, 112)",color:"rgb(242, 69, 112)",transition:"all 0.3s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="rgb(242, 69, 112)",e.target.style.color="white";const s=e.target.querySelector("i");s&&(s.style.color="white")},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="rgb(242, 69, 112)";const s=e.target.querySelector("i");s&&(s.style.color="rgb(242, 69, 112)")},children:[(0,C.jsx)("i",{className:"fa fa-unlock me-2","aria-hidden":"true",style:{color:"rgb(242, 69, 112)"}}),"Unblock ",null===he||void 0===he?void 0:he.name]})})]})]}):(0,C.jsx)("div",{children:(0,C.jsx)("img",{src:p,alt:"chat backgrount picture",style:{backgroundSize:"cover"}})})}),H&&(0,C.jsxs)("div",{className:"file-preview px-3 py-2 mt-2 mx-2",style:{backgroundColor:"#f8f9fa",borderLeft:"4px solid #28a745",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",flex:1},children:[(0,C.jsx)("img",{src:H,alt:"File preview",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"8px",marginRight:"10px"}}),(0,C.jsxs)("div",{children:[(0,C.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:"#28a745"},children:"Photo selected"}),(0,C.jsx)("div",{style:{fontSize:"11px",color:"#6c757d"},children:(null===B||void 0===B?void 0:B.name)||"Image file"})]})]}),(0,C.jsx)("button",{onClick:at,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#dc3545",padding:"0 10px"},title:"Remove file",children:"\xd7"})]}),We&&(0,C.jsxs)("div",{className:"reply-preview px-3 py-2 mt-2 mx-2",style:{backgroundColor:"#f8f9fa",borderLeft:"4px solid #f24570",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)("div",{style:{fontSize:"12px",fontWeight:"600",color:"#f24570"},children:We.sent?"Replying to yourself":`Replying to ${We.senderName}`}),(0,C.jsx)("div",{style:{fontSize:"13px",color:"#6c757d",marginTop:"4px"},children:(null===(e=We.content)||void 0===e?void 0:e.length)>50?We.content.substring(0,50)+"...":We.content})]}),(0,C.jsx)("button",{onClick:ht,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#6c757d",padding:"0 10px"},title:"Cancel reply",children:"\xd7"})]}),Je||Qe?(0,C.jsxs)("div",{className:"text-center py-4 mt-4",style:{backgroundColor:"#f8d7da",color:"#721c24",borderRadius:"8px",margin:"0 20px"},children:[(0,C.jsx)("i",{className:"fa fa-ban me-2","aria-hidden":"true"}),(0,C.jsx)("div",{className:"mb-3",children:Je?"You have blocked this user. Chat is disabled.":"This user has blocked you. Chat is disabled."}),Je&&(0,C.jsxs)("button",{className:"btn btn-success",onClick:()=>ie(!0),style:{borderRadius:"20px",padding:"8px 20px",fontSize:"14px",fontWeight:"500"},children:[(0,C.jsx)("i",{className:"fa fa-unlock me-2","aria-hidden":"true"}),"Unblock"]})]}):(0,C.jsxs)("div",{className:" inputChat text-muted d-flex  align-items-center  py-1 mt-4",style:{float:"right",backgroundColor:"#e9ecef"},children:[(0,C.jsxs)("div",{className:"header__more px-3",children:[(0,C.jsxs)("span",{to:"#",className:"pointer ",style:{fontWeight:"700"},"data-bs-toggle":"dropdown",children:[(0,C.jsx)("i",{class:"fa fa-paperclip fs-5","aria-hidden":"true"})," "]}),(0,C.jsxs)("ul",{className:"dropdown-menu",children:[(0,C.jsx)("li",{children:(0,C.jsxs)("label",{className:"dropdown-item py-2",style:{cursor:"pointer"},children:[(0,C.jsx)("i",{className:"fa fa-picture-o me-2","aria-hidden":"true"})," ","Photo",(0,C.jsx)("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:tt,id:"fileInput"})]})}),(0,C.jsx)("li",{children:(0,C.jsxs)(m.N_,{className:"dropdown-item py-2",children:[(0,C.jsx)("i",{class:"fa fa-map-marker me-2","aria-hidden":"true"})," ","Location"]})})]})]}),(0,C.jsxs)("div",{className:"header__more dropup",children:[(0,C.jsxs)("span",{to:"#",className:"pointer",style:{fontWeight:"600"},"data-bs-toggle":"dropdown",onClick:vt,children:[(0,C.jsx)("i",{className:"fa-solid fa-gift fa-xl","aria-hidden":"true"})," "]}),(0,C.jsxs)("ul",{className:"dropdown-menu p-3",style:{width:"450px"},children:[(0,C.jsx)("div",{className:"mb-3 p-2",style:{backgroundColor:pt>0?"#d4edda":"#f8d7da",borderRadius:"8px",border:"1px solid "+(pt>0?"#c3e6cb":"#f5c6cb")},children:(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("span",{style:{fontWeight:"600",color:pt>0?"#155724":"#721c24"},children:["\ud83d\udcb0 Your Coins: ",pt,pt<=0&&(0,C.jsx)("small",{className:"d-block",style:{fontSize:"10px",color:"#721c24"},children:"No coins available - Subscribe to get coins!"})]}),(0,C.jsx)("button",{className:"btn btn-sm btn-outline-primary",onClick:yt,style:{fontSize:"10px",padding:"2px 6px"},children:"Refresh"})]})}),us?(0,C.jsxs)("div",{className:"text-center p-4",children:[(0,C.jsx)("div",{className:"spinner-border text-primary",role:"status",children:(0,C.jsx)("span",{className:"sr-only",children:"Loading gifts..."})}),(0,C.jsx)("p",{className:"mt-2 mb-0",style:{fontSize:"12px",color:"#6c757d"},children:"Loading gifts..."})]}):0===(null===cs||void 0===cs?void 0:cs.length)?(0,C.jsx)("div",{className:"text-center p-4",children:(0,C.jsx)("p",{className:"text-muted mb-0",style:{fontSize:"14px"},children:"No gifts available"})}):pt<=0?(0,C.jsxs)("div",{className:"text-center p-4",children:[(0,C.jsx)("div",{style:{fontSize:"48px",color:"#dc3545",marginBottom:"15px"},children:"\ud83d\udcb0"}),(0,C.jsx)("h5",{style:{color:"#721c24",marginBottom:"10px"},children:"No Coins Available"}),(0,C.jsx)("p",{style:{color:"#6c757d",marginBottom:"20px"},children:"You need coins to send gifts. Subscribe to get coins and start sending gifts!"}),(0,C.jsxs)("button",{className:"btn btn-primary",onClick:()=>s("/metrimonial/membership"),style:{borderRadius:"25px",padding:"10px 25px",fontWeight:"500"},children:[(0,C.jsx)("i",{className:"fa fa-gem me-2"}),"Get Coins Now"]})]}):(0,C.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",listStyle:"none",padding:0,margin:0},children:cs.map(e=>(0,C.jsxs)("li",{style:{display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",padding:"8px",borderRadius:"8px",transition:"background-color 0.2s ease",backgroundColor:pt>=e.coinCost?"transparent":"#f8f9fa"},onMouseEnter:s=>{pt>=e.coinCost&&(s.currentTarget.style.backgroundColor="#f8f9fa")},onMouseLeave:s=>{s.currentTarget.style.backgroundColor=pt>=e.coinCost?"transparent":"#f8f9fa"},children:[(0,C.jsx)("div",{role:"img","aria-label":"gift icon","aria-hidden":"true",onClick:()=>(async e=>{if(ke&&he)return pt<=0?(u.Ay.error("You need coins to send gifts! Please subscribe to get coins.",{duration:3e3,position:"top-center",style:{background:"#f24570",color:"#fff",fontWeight:"500"},icon:"\ud83d\udc8e"}),void setTimeout(()=>{s("/metrimonial/membership")},1500)):pt<e.coinCost?(u.Ay.error(`Insufficient coins! You need ${e.coinCost} coins but have ${pt}. Please get more coins.`,{duration:4e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\ud83d\udcb0",action:{label:"Get Coins",onClick:()=>s("/metrimonial/membership")}}),void s("/metrimonial/membership")):void await bt(e);u.Ay.error("Please select a chat to send the gift.",{duration:3e3,position:"top-center",style:{background:"#dc3545",color:"#fff",fontWeight:"500"},icon:"\u274c"})})(e),style:{cursor:pt>=e.coinCost?"pointer":"not-allowed",opacity:pt>=e.coinCost?1:.5},children:(0,C.jsx)("img",{className:"m-1 pointer",src:e.imageUrl,alt:e.name,style:{width:"60px",height:"60px",transition:"transform 0.2s ease",borderRadius:"8px",objectFit:"cover"},onMouseEnter:s=>{pt>=e.coinCost&&(s.target.style.transform="scale(1.1)",s.target.style.boxShadow="0 4px 8px rgba(0,0,0,0.2)")},onMouseLeave:e=>{e.target.style.transform="scale(1)",e.target.style.boxShadow="none"}})}),(0,C.jsx)("div",{style:{fontSize:"10px",textAlign:"center",marginTop:"5px",fontWeight:"500",color:pt>=e.coinCost?"#495057":"#6c757d"},children:e.name}),(0,C.jsxs)("div",{style:{fontSize:"9px",textAlign:"center",marginTop:"2px",fontWeight:"600",color:pt>=e.coinCost?"#28a745":"#dc3545"},children:["\ud83d\udcb0 ",e.coinCost," coins"]}),pt<e.coinCost&&(0,C.jsx)("div",{style:{fontSize:"8px",textAlign:"center",marginTop:"2px",color:"#dc3545",fontWeight:"500"},children:"Insufficient coins"})]},e._id))})]})]}),(0,C.jsxs)("div",{className:"input-vox-chat",children:[(0,C.jsx)("input",{type:"text",className:"form-control form-control-lg message-input",id:"exampleFormControlInput2",placeholder:"Type message",value:w,onChange:e=>{k(e.target.value),ke&&e.target.value.trim()&&Zs(ke)},onBlur:()=>{ke&&Js(ke)},multiple:!0,onKeyDown:dt}),(0,C.jsx)("div",{className:"smile-message-input",children:(0,C.jsx)("span",{className:"pointer",style:{fontWeight:"600",cursor:"pointer",padding:"8px",borderRadius:"50%",transition:"background-color 0.2s"},onClick:et,onMouseEnter:e=>{e.target.style.backgroundColor="#f0f0f0"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent"},title:"Emoji Picker (Ctrl+E)",children:(0,C.jsx)("i",{className:"fa-solid fa-face-smile fa-xl",style:{color:T?"#f24570":"#6c757d"}})})})]}),(0,C.jsx)("button",{className:"send-btn fs-4",onClick:rt,disabled:q||gs,style:{opacity:q||gs?.6:1,cursor:q||gs?"not-allowed":"pointer"},children:q||gs?(0,C.jsx)("div",{className:"spinner-border spinner-border-sm",role:"status",children:(0,C.jsx)("span",{className:"sr-only",children:"Sending..."})}):(0,C.jsx)(i.$u,{fas:!0,icon:"paper-plane"})}),T&&(0,C.jsx)("div",{className:"emoji-picker-container",style:{position:"absolute",bottom:"70px",right:"20px",zIndex:1e3,backgroundColor:"white",borderRadius:"12px",boxShadow:"0 4px 20px rgba(0,0,0,0.15)",border:"1px solid #e0e0e0"},children:(0,C.jsx)(d.Ay,{onEmojiClick:st,width:350,height:400,searchDisabled:!1,skinTonesDisabled:!1,previewConfig:{showPreview:!0}})})]})]}):(0,C.jsx)("div",{className:"chat-banner",children:(0,C.jsx)("img",{src:x,alt:"chat backgrount picture",className:"vh-100 chat-bg"})})})};return(0,C.jsxs)("div",{className:"dating-chat-wrap",children:[(0,C.jsx)(r.A,{}),(0,C.jsxs)(i.Dj,{fluid:!0,className:"custom-fluid",children:[(0,C.jsx)(i.gU,{children:(0,C.jsx)(i.m6,{md:"12",style:{paddingLeft:"0",paddingRight:"0"},children:(0,C.jsx)(i.kv,{id:"chat3",style:{borderRadius:"0"},children:(0,C.jsx)(i.ee,{className:"p-0",children:(0,C.jsxs)(i.gU,{children:[(0,C.jsxs)(i.m6,{md:"5",lg:"4",xl:"3",className:"mb-4 mb-md-0 p-0",style:{borderRight:"2px solid lightgray"},children:[xe&&!he&&kt(),!xe&&kt()]}),(0,C.jsxs)(i.m6,{md:"7",lg:"8",xl:"9",className:"p-0",children:[!xe&&!he&&St(),he&&St()]})]})})})})}),(0,C.jsx)(Y,{showModal:X,hideModal:()=>ee(!1),calenderDate:Xs,clockTime:Qs}),(0,C.jsx)(S,{showModal:Z,hideModal:()=>J(!1)}),(0,C.jsx)($.A,{showModal:K,hideModal:()=>Q(!1),calenderScheduleDAte:()=>{Q(!1),setTimeout(()=>{ee(!0)},500)},selectedUser:he,editIndex:Pe,ViewUser:Oe,setEditIndex:He,userInfoDate:()=>Q(!0),scheduledData:be}),(0,C.jsx)(U,{showModal:ae,hideModal:()=>ie(!1),selectedUser:he,isBlocked:Je,onBlockStatusChange:()=>it(null===he||void 0===he?void 0:he._id)}),(0,C.jsx)(D,{showModal:le,hideModal:()=>oe(!1),selectedUser:he}),(0,C.jsx)(A,{showModal:me,hideModal:()=>ue(!1),selectedUser:he}),(0,C.jsx)(E.A,{showModal:X,hideModal:()=>ee(!1),calenderDate:Xs,NotifyScheduleData:e=>{Ne(e),ee(!1),setTimeout(()=>{Q(!0)},500)},clockTime:Qs}),es&&!ts&&!Ge&&"ringing"===es.status&&!Cs&&(0,C.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,zIndex:1e4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"12px 20px",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 2px 10px rgba(0,0,0,0.2)",cursor:"pointer",animation:"slideDown 0.3s ease-out"},onClick:()=>{"video"===es.callType?Ze(!0):as(!0),ls(!1)},children:[(0,C.jsx)("style",{children:"\n              @keyframes slideDown {\n                from {\n                  transform: translateY(-100%);\n                  opacity: 0;\n                }\n                to {\n                  transform: translateY(0);\n                  opacity: 1;\n                }\n              }\n              @keyframes pulse {\n                0%, 100% { opacity: 1; }\n                50% { opacity: 0.6; }\n              }\n            "}),(0,C.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[(0,C.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"50%",overflow:"hidden",background:"rgba(255,255,255,0.2)",display:"flex",alignItems:"center",justifyContent:"center",animation:"pulse 2s infinite"},children:es.callerId.mainAvatar?(0,C.jsx)("img",{src:`${v.C}/assets/images/${es.callerId.mainAvatar}`,alt:es.callerId.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):(0,C.jsx)("i",{className:"fa fa-user",style:{fontSize:"20px"}})}),(0,C.jsxs)("div",{style:{flex:1},children:[(0,C.jsx)("div",{style:{fontWeight:"bold",fontSize:"16px"},children:es.callerId.name}),(0,C.jsxs)("div",{style:{fontSize:"12px",opacity:.9,display:"flex",alignItems:"center",gap:"6px"},children:[(0,C.jsx)("span",{style:{animation:"pulse 1.5s infinite"},children:"\ud83d\udcde"}),"Incoming ","video"===es.callType?"Video":"Voice"," Call"]})]})]}),(0,C.jsx)("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:(0,C.jsx)("button",{onClick:e=>{e.stopPropagation(),"video"===es.callType?Ze(!0):as(!0),ls(!1)},style:{background:"rgba(255,255,255,0.3)",border:"none",color:"white",padding:"8px 16px",borderRadius:"20px",cursor:"pointer",fontWeight:"500",fontSize:"14px",transition:"background 0.2s"},onMouseEnter:e=>e.target.style.background="rgba(255,255,255,0.4)",onMouseLeave:e=>e.target.style.background="rgba(255,255,255,0.3)",children:"Open"})})]}),es&&"video"===es.callType?(0,C.jsx)(L.A,{show:Ge,onHide:()=>{if(es&&"ringing"===es.status&&!Cs)Ze(!1),ls(!0);else{if(es){const e=`call_notification_${es._id}`;sessionStorage.removeItem(e)}Ze(!1),ss(null),ls(!1)}},selectedUser:{_id:es.callerId._id,name:es.callerId.name,avatar:`${v.C}/assets/images/${es.callerId.mainAvatar}`},currentUserId:(null===$s||void 0===$s?void 0:$s._id)||Ls,selectedRoomId:es.roomId,callId:es._id,isIncomingCall:"ringing"===es.status,callerName:es.callerId.name,initialCallConnected:Cs||"connected"===es.status,initialCallStartTime:As||es.startTime}):es&&(0,C.jsx)(F.A,{show:ts,onHide:()=>{if(es&&"ringing"===es.status&&!Cs)as(!1),ls(!0);else{if(es){const e=`call_notification_${es._id}`;sessionStorage.removeItem(e)}as(!1),ss(null),ls(!1)}},selectedUser:{_id:es.callerId._id,name:es.callerId.name,avatar:`${v.C}/assets/images/${es.callerId.mainAvatar}`},currentUserId:(null===$s||void 0===$s?void 0:$s._id)||Ls,selectedRoomId:es.roomId,callId:es._id,isIncomingCall:"ringing"===es.status,callerName:es.callerId.name,initialCallConnected:Cs||"connected"===es.status,initialCallStartTime:As||es.startTime}),(0,C.jsxs)(l.A,{show:rs,onHide:()=>ds(!1),size:"lg",centered:!0,children:[(0,C.jsx)(l.A.Header,{closeButton:!0,children:(0,C.jsx)(l.A.Title,{children:"Call History"})}),(0,C.jsx)(l.A.Body,{children:(0,C.jsx)("div",{style:{maxHeight:"400px",overflowY:"auto"},children:0===(null===os||void 0===os?void 0:os.length)?(0,C.jsx)("div",{className:"text-center text-muted p-4",children:(0,C.jsx)("p",{children:"No call history available"})}):os.map(e=>{const s=e.calleeId._id===((null===$s||void 0===$s?void 0:$s._id)||Ls),t=s?e.callerId:e.calleeId,a="connected"===e.status;return(0,C.jsxs)("div",{className:"d-flex align-items-center p-3 border-bottom "+(a?"cursor-pointer":""),style:{cursor:a?"pointer":"default",backgroundColor:a?"#f8f9fa":"transparent",transition:"background-color 0.2s"},onMouseEnter:e=>{a&&(e.currentTarget.style.backgroundColor="#e9ecef")},onMouseLeave:e=>{a&&(e.currentTarget.style.backgroundColor="#f8f9fa")},onClick:()=>{a&&(ss({_id:e._id,callerId:{_id:t._id,name:t.name,mainAvatar:t.mainAvatar||null},calleeId:{_id:(null===$s||void 0===$s?void 0:$s._id)||Ls},status:"connected",roomId:e.roomId,callType:e.callType,startTime:e.startTime}),ws(e._id),ks(!0),Is(!1),e.startTime&&_s(new Date(e.startTime)),"video"===e.callType?(Ze(!0),as(!1)):(as(!0),Ze(!1)),ds(!1))},children:[(0,C.jsx)("img",{src:`${v.C}/assets/images/${t.mainAvatar}`,alt:t.name,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover",marginRight:"15px"},onError:e=>{e.target.src=g}}),(0,C.jsx)("div",{className:"flex-grow-1",children:(0,C.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,C.jsxs)("div",{children:[(0,C.jsxs)("h6",{className:"mb-1",children:[t.name,a&&(0,C.jsxs)("span",{className:"ms-2",style:{fontSize:"12px",color:"#28a745"},children:[(0,C.jsx)("i",{className:"fa fa-circle",style:{fontSize:"8px"}})," Active"]})]}),(0,C.jsxs)("small",{className:"text-muted",children:[s?"Incoming":"Outgoing"," \u2022 ",e.callType," call",a&&(0,C.jsx)("span",{className:"ms-2",style:{color:"#28a745",fontWeight:"500"},children:"Tap to view call"})]})]}),(0,C.jsxs)("div",{className:"text-end",children:[(0,C.jsx)("span",{className:"badge",style:{backgroundColor:{connected:"#28a745",declined:"#dc3545",ringing:"#ffc107"}[e.status]||"#6c757d",color:"white"},children:"connected"===e.status?"Call Accepted":e.status}),(0,C.jsx)("br",{}),(0,C.jsx)("small",{className:"text-muted",children:new Date(e.startTime).toLocaleString()})]})]})})]},e._id)})})}),(0,C.jsx)(l.A.Footer,{children:(0,C.jsx)(o.A,{variant:"secondary",onClick:()=>ds(!1),children:"Close"})})]})]}),(0,C.jsx)(u.l$,{position:"top-center"})]})}},7748:(e,s,t)=>{t.d(s,{A:()=>o});var a=t(5043),i=t(9766),l=t(579);const o=function(){const[e,s]=(0,a.useState)("10:00");return(0,l.jsx)("div",{className:"Apps",children:(0,l.jsx)(i.TimePicker,{onChange:e=>{s(e)},value:e})})}},9866:(e,s,t)=>{t.d(s,{A:()=>u});var a=t(5043),i=t(2),l=t(3768),o=t(2161),n=t(7748),r=t(579);const d=[{address:"Empire State Building, 20 W 34th St, New York, NY 10001"},{address:"Times Square, Manhattan, NY 10036"},{address:"Statue of Liberty, New York, NY 10004"},{address:"Brooklyn Bridge, New York, NY 10038"},{address:"The Metropolitan, 1000 5th Ave, New York, NY 10028"},{address:"Grand Central Terminal, 89 E 42nd St, New York, NY 10017"},{address:"Central Park, 59th St to 110th St, New York, NY 10022"},{address:"The High Line, New York, NY 10011"},{address:"Rockefeller Center, 45 Rockefeller Plaza, New York, NY 10111"},{address:"Museum of Modern Art (MoMA), 11 W 53rd St, New York, NY 10019"},{address:"One World Observatory, 285 Fulton St, New York, NY 10007"},{address:"Brooklyn Botanic Garden, 990 Washington Ave, Brooklyn, NY 11225"},{address:"Chelsea Market, 75 9th Ave, New York, NY 10011"},{address:"The Plaza Hotel, 768 5th Ave, New York, NY 10019"},{address:"Katz's Delicatessen, 205 E Houston St, New York, NY 10002"},{address:"Joe's Pizza, 7 Carmine St, New York, NY 10014"},{address:"The St. Regis New York, Two East 55th Street at Fifth Avenue, New York, NY 10022"},{address:"Serendipity 3, 225 E 60th St, New York, NY 10022"},{address:"Gramercy Tavern, 42 E 20th St, New York, NY 10003"}],c=e=>{let{venuesList:s,handleVenueSelection:t,handleClosePopup:a}=e;return(0,r.jsx)("div",{className:"popup-venue-list",children:s.map((e,s)=>(0,r.jsx)("div",{onClick:()=>t(e),children:(0,r.jsx)("p",{children:e.address})},s))})},m=e=>{let{onVenueChange:s}=e;const[t,i]=(0,a.useState)(d),[l,o]=(0,a.useState)(null),[n,m]=(0,a.useState)(!1),u=()=>{m(!n)};return(0,r.jsxs)("div",{className:"setVenue",children:[(0,r.jsx)("input",{className:"date",type:"",placeholder:"Choose Venue",value:l?l.address:"",readOnly:!0,onClick:u}),(0,r.jsx)("div",{className:"Apps",children:n&&(0,r.jsx)(c,{venuesList:t,handleVenueSelection:e=>{o(e),s(e.address),m(!1)},handleClosePopup:()=>{m(!1)}})}),(0,r.jsx)("span",{className:"calander-icon",onClick:u,children:(0,r.jsx)("i",{className:"fa-solid fa-location-dot fa-xl",style:{color:"#B197FC"}})})]})},u=e=>{let{showModal:s,hideModal:t,NotifyScheduleData:d}=e;const[c,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(new Date),[x,g]=(0,a.useState)(!1),[f,v]=(0,a.useState)(new Date),[y,j]=(0,a.useState)(!1),[b,N]=(0,a.useState)(""),w=()=>{g(!x)},[C,k]=(0,a.useState)("10:00");return(0,r.jsx)(i.A,{show:s,onHide:t,centered:!0,children:x?c?(0,r.jsx)("div",{className:"clockArea"}):(0,r.jsx)("div",{className:"calenderArea",children:(0,r.jsx)(o.Ay,{dateFormat:"DD/MM/YYYY",onChange:e=>{p(e),g(!1)},value:h})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"main-calander",style:{position:"relative",padding:"20px"},children:[(0,r.jsx)("span",{onClick:t,style:{position:"absolute",right:"25px",top:"10px",cursor:"pointer",color:"#213366"},children:(0,r.jsx)("i",{className:"fa fa-times fs-3","aria-hidden":"true"})}),(0,r.jsxs)("div",{className:"Data-1 cstm-modal",children:[(0,r.jsx)("h5",{className:"fs-4 text-muted fw-700",children:"Schedule Your Virtual Date for Meaningful Connections!"}),(0,r.jsxs)("div",{className:"settime",children:[(0,r.jsx)(n.A,{}),(0,r.jsx)("span",{className:"clock-icon",onClick:e=>{k(e)},value:C,children:(0,r.jsx)("i",{class:"fa-solid fa-clock fa-xl",style:{color:"#B197FC"}})})]}),(0,r.jsxs)("div",{className:"setdate",children:[(0,r.jsx)("input",{className:"date",type:"",dateFormat:"DD/MM/YYYY",placeholder:"Choose Date",value:h.toLocaleDateString(),onClick:w}),(0,r.jsx)("span",{className:"calander-icon",onClick:w,children:(0,r.jsx)("i",{class:"fa-regular fa-calendar-days fa-xl",style:{color:"#B197FC"}})})]}),(0,r.jsx)("div",{children:(0,r.jsx)(m,{onVenueChange:e=>{N(e)}})})]})]}),(0,r.jsx)("div",{className:"sched-button",onClick:e=>{e.preventDefault(),d(),(e=>{e.preventDefault();try{const e={date:h.toLocaleDateString(),time:f.toLocaleTimeString(),venue:b};d(e),l.Ay.success("schedule date successfully updated"),t(t)}catch(s){console.error("Error updating Contact profile:",s),l.Ay.error("Failed to update Contact info")}})(e)},children:(0,r.jsx)("button",{className:"date-btn",children:(0,r.jsx)("p",{className:"date-content",children:"Schedule Date"})})})]})})}}}]);
//# sourceMappingURL=838.3d0bce9d.chunk.js.map